<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>I tried to summarize how to use pandas in python | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>I tried to summarize how to use pandas in python</h1>
<p>
  <small class="text-secondary">
  
  
  Nov 11, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/pandas">pandas</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>This time I will summarize how to use pandas.</p>
<p>Many people have summarized how to use pandas, so it may not be new, but I would appreciate it if you could associate.</p>
<p>Check back if you&rsquo;d like since I have summarized how to use numpy in the previous article.</p>
<p><a href="https://qiita.com/renesisu727/items/6ef7ff8f61fe16b4c505">I tried to summarize python&rsquo;s numpy</a></p>
<p>#Series generation
You can generate a Series by doing the following. Series has a form in which an index is attached to the array.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py"><span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np
<span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd

series <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(data<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>])
<span style="color:#66d9ef">print</span>(series)
</code></pre></div><blockquote>
<p>A 1
B 2
C 3
D 4
E 5
dtype: int64</p>
</blockquote>
<p>It can also be generated in combination with numpy.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">series <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>), index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>])
<span style="color:#66d9ef">print</span>(series)
</code></pre></div><blockquote>
<p>A 0
B 1
C 2
D 3
E 4
dtype: int64</p>
</blockquote>
<p>Extract data from #Series
You can retrieve data by specifying an index for Series. It looks like a dictionary.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">series <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>), index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>])
<span style="color:#66d9ef">print</span>(series[<span style="color:#e6db74">&#39;A&#39;</span>])
</code></pre></div><blockquote>
<p>0</p>
</blockquote>
<p>You can also use slices.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">series <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>), index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>])
<span style="color:#66d9ef">print</span>(series[<span style="color:#e6db74">&#39;A&#39;</span>:<span style="color:#e6db74">&#39;D&#39;</span>])
</code></pre></div><blockquote>
<p>A 0
B 1
C 2
D 3
dtype: int64</p>
</blockquote>
<p>In the usual sense of slice, data up to C just before D should be extracted, but in the case of Series, it is extracted up to the range specified by the index.</p>
<p>with ##loc</p>
<p>However, the loc method is customarily used to retrieve data by specifying the index in this way.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">series <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>), index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>])
<span style="color:#66d9ef">print</span>(series<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;A&#39;</span>:<span style="color:#e6db74">&#39;D&#39;</span>])
</code></pre></div><blockquote>
<p>A 0
B 1
C 2
D 3
dtype: int64</p>
</blockquote>
<p>You can specify two indexes without using slices.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">series <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>), index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>])
<span style="color:#66d9ef">print</span>(series<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>]])
</code></pre></div><blockquote>
<p>A 0
D 3
dtype: int64</p>
</blockquote>
<h2 id="using-iloc">using iloc</h2>
<p>Instead of using the Series index, you can specify the index of the number assigned from the head to retrieve it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">series <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>), index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>])
<span style="color:#66d9ef">print</span>(series<span style="color:#f92672">.</span>iloc[[<span style="color:#ae81ff">0</span>]])
</code></pre></div><blockquote>
<p>A 0
dtype: int64</p>
</blockquote>
<p>Generation of #DataFrame
A DataFrame can be created as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>[[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>], [<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>]], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>], columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><blockquote>
<p>A1 A2 A3
A 1 2 3
B 4 5 6
C 7 8 9</p>
</blockquote>
<p>As you can see, the DataFrame is two-dimensional data with the <code>index</code> and <code>columns</code> specified.</p>
<p>When used in machine learning, index represents the type of data and columns represent the amount of data features.</p>
<h2 id="read-file">Read file</h2>
<p>This is very well done, as pandas basically reads and uses files.</p>
<p>Here, read the csv file that you made yourself. The following data.</p>
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/2d264f6e-db7d-69c7-b48b-7b6aebc8b291.png" width=50%>
Let's read it.
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><p>The following is the execution result.</p>
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/2eca30f3-6bf4-0282-3c1b-1b35907d8e42.png" width=50%>
<p>It was hard to see even if I copy-pasted it, so I took a break.</p>
<p>I wanted to use <code>takash</code> or <code>kenta</code> as an index, but it is not indexed by default.</p>
<p>In this way, when reading data with an index, it is necessary to specify it with <code>index_col</code>. In this example, the leftmost data is treated as an index, so set <code>index_col = 0</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/a5ad5f36-21bb-d5dc-c962-0e80419f2a54.png" width=50%>
<p>Also, by default the first line is treated as a header. If you don&rsquo;t want to specify the first line as header, specify <code>header = None</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, header<span style="color:#f92672">=</span>None)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/bcc8ae46-fe0c-c1a7-dc61-ff1df5925f5e.png" width=50%>
<h2 id="confirmation-of-data-contents">Confirmation of data contents</h2>
<h3 id="check-shape">check shape</h3>
<p>Let&rsquo;s check the shape of the data. Similar to numpy, dimension data stores dimension data.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>shape)
</code></pre></div><blockquote>
<p>(3, 3)</p>
</blockquote>
<h3 id="check-statistics">Check statistics`</h3>
<p>You can check the statistics of the data using the describe method.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>describe())
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/6280cab5-40ec-c17d-9d9f-85d5645b2ceb.png" width=50%>
<p>In this way, you can get the number of data, mean, standard deviation, minimum, maximum and quartile for each column.</p>
<h3 id="check-the-number-and-type-of-data">Check the number and type of data</h3>
<p>You can check it with the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>info())
</code></pre></div><blockquote>
<p>&lt;class&rsquo;pandas.core.frame.DataFrame'&gt;
Index: 3 entries, takash to yoko
Data columns (total 3 columns):
math 3 non-null int64
Engrish 3 non-null int64
society 3 non-null int64
dtypes: int64(3)
memory usage: 96.0+ bytes
None</p>
</blockquote>
<p>You can check the data like this. No comment is necessary.</p>
<h3 id="check-data-without-duplication">Check data without duplication</h3>
<p>You can use the nunique method to check the data without duplication for each column you write.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>nunique())
</code></pre></div><p>ï¼žmath 3
Engrish 3
society 3
dtype: int64</p>
<p>Since there is no duplicate this time, the result is as above.</p>
<h3 id="confirm-row-and-column-names">Confirm row and column names</h3>
<p>The index variable stores the index and the columns variable stores the column name. Let&rsquo;s check.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>index)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>columns)
</code></pre></div><blockquote>
<p>Index([&lsquo;takash&rsquo;,&lsquo;kenta&rsquo;,&lsquo;yoko&rsquo;], dtype='object&rsquo;)
Index([&lsquo;math&rsquo;,&lsquo;Engrish&rsquo;,&lsquo;society&rsquo;], dtype='object&rsquo;)</p>
</blockquote>
<h3 id="check-the-total-of-missing-values">check the total of missing values</h3>
<p>You can find the location of the missing value in each column with the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>isnull())
</code></pre></div><blockquote>
<p>math Engrish society
takash False False False
kenta False False False
yoko False False False</p>
</blockquote>
<p>False is returned because each value is not a missing value.</p>
<p>Now let&rsquo;s get the sum of missing values with the following code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;train.csv&#39;</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum())
</code></pre></div><blockquote>
<p>math 0
Engrish 0
society 0
dtype: int64</p>
</blockquote>
<p>#DataFrame data selection and extraction
Now let&rsquo;s extract the data from the DataFrame. For the time being, I have created the following DataFrame.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/96a137e7-dd2b-d44a-143c-6e0de4fff84c.png" width=50%>
<p>By using <code>np.random.seed(0)</code>, you can fix the random number generated by <code>np.random.rand</code>. But I run the code every time, so the random numbers are changing every time.</p>
<p><code>np.random.rand</code> is a code that generates a random number from 0 to 1.</p>
<p>Select and extract columuns with the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df[<span style="color:#e6db74">&#39;A1&#39;</span>])
</code></pre></div><blockquote>
<p>A 0.165899
B 0.144862
C 0.974517
D 0.144633
E 0.806085
Name: A1, dtype: float64</p>
</blockquote>
<p>In this way, I was able to extract columns.</p>
<p>You can extract by specifying the index by using the loc method.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;A&#39;</span>])
</code></pre></div><blockquote>
<p>A1 0.687867
A2 0.243104
A3 0.568371
A4 0.125892
A5 0.749777
Name: A, dtype: float64</p>
</blockquote>
<p>I wrote extraction by specifying the index, but the specification method with the loc method in DataFrame is quite close to the specification of the two-dimensional array of numpy.</p>
<p>You can specify <code>loc [row:column]</code>.</p>
<p>Let&rsquo;s see how to use it below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py"><span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[:,<span style="color:#e6db74">&#39;A1&#39;</span>])
</code></pre></div><blockquote>
<p>A 0.108650
B 0.819086
C 0.250341
D 0.950634
E 0.852035
Name: A1, dtype: float64</p>
</blockquote>
<p>Since <code>:</code> is specified in the line part, it means that all lines have been specified, and since <code>A1</code> is specified in the column, columns of A1 are extracted.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py"><span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;C&#39;</span>, [<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>]])
</code></pre></div><blockquote>
<p>A2 0.129296
A4 0.367573
Name: C, dtype: float64</p>
</blockquote>
<p>This way, you can extract the data in rows A2 and A4.</p>
<h3 id="select-by-condition">Select by condition</h3>
<p>Select conditions to extract from the DataFrame. Check the behavior of <code>df &gt;0.5</code> with the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.5</span>)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/5a99093d-4f7d-9b27-4725-f82ce4403e00.png" width=50%>
<p>In this way, True is stored when the value in the DataFrame satisfies the condition, and False when the condition is not satisfied.</p>
<p>You can use this to exclude values that do not meet the conditions as shown below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.5</span>)
<span style="color:#66d9ef">print</span>(df[df <span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0.5</span>])
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/e70d0a4d-9698-1d52-3fca-5c02ec36b3f3.png" width=50%>
<p>Also, you can extract only the rows that satisfy the specified columns by the following.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df)
<span style="color:#66d9ef">print</span>(df[df[<span style="color:#e6db74">&#39;A3&#39;</span>]<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.5</span>])
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/473140f7-99bd-60ff-e6f2-9b7c9bbfa4e9.png" width=50%>
<p>You can also add conditions using &amp; as shown below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
<span style="color:#66d9ef">print</span>(df)
<span style="color:#66d9ef">print</span>(df[(df[<span style="color:#e6db74">&#39;A3&#39;</span>]<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.2</span>) <span style="color:#f92672">&amp;</span> (df[<span style="color:#e6db74">&#39;A3&#39;</span>] <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0.6</span>)])
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/afd8dacc-80f6-fa97-6893-fd21755833f8.png" width=50%>
<p>#DataFrame data addition and deletion
You can add columns by doing the following.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
df[<span style="color:#e6db74">&#39;new&#39;</span>] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/a7a51a24-c2e9-700a-a3f8-93f41635598f.png" width=50%>
<p>You can delete a column by specifying the column name.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>drop(columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/46f79a34-c5fe-dc73-7799-06ba24919827.png" width=50%>
<p>You can delete a line by specifying the line name.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>))
np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)
df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>drop(index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>])
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/27d6c5c5-0051-f8c6-dcec-21ce3f2fe27f.png" width=50%>
<p>#Handling of missing values
Prepare the data as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">5</span>],
                   [np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>],
                   [<span style="color:#ae81ff">11</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">15</span>],
                   [<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">17</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">20</span>],
                   [<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">22</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">24</span>, np<span style="color:#f92672">.</span>nan]],
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>])
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/75bec714-1c94-b9ab-a95f-68cd713e9557.png" width=50%>
<p>If you use the dropna method, it will delete the row containing the missing value.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>dropna()
<span style="color:#66d9ef">print</span>(df)
<span style="color:#e6db74">``</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#f92672">&gt;</span>Columns: [A1, A2, A3, A4, A5]
Index: []

All of the data this time has disappeared because all rows contain missing values<span style="color:#f92672">.</span> In this way, <span style="color:#66d9ef">if</span> you apply a strong limit, data will <span style="color:#f92672">not</span> remain easily<span style="color:#f92672">.</span>


<span style="color:#75715e">### remove missing values in certain columns</span>
You can remove the missing values <span style="color:#66d9ef">for</span> a particular column by doing the following:

<span style="color:#e6db74">``</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#f92672">.</span>py
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">5</span>],
                   [np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>],
                   [<span style="color:#ae81ff">11</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">15</span>],
                   [<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">17</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">20</span>],
                   [<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">22</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">24</span>, np<span style="color:#f92672">.</span>nan]],
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>])
df <span style="color:#f92672">=</span> df[df[<span style="color:#e6db74">&#39;A3&#39;</span>]<span style="color:#f92672">.</span>isnull() <span style="color:#f92672">==</span> False]
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/efee2611-5a30-bf8f-24a1-0a205dcfb650.png" width=50%>
<p>If you use <code>isnull</code>, True is returned if the data is nan, False is returned if it is not nan. So you can only delete the rows that have missing values in A3 as above.</p>
<h3 id="delete-by-specifying-a-number-that-is-not-a-missing-value">Delete by specifying a number that is not a missing value</h3>
<p>Arguments of <code>dropna</code> By specifying the argument of <code>thresh</code>, it is possible to delete all rows that have more than the number specified by the argument and are not missing values.</p>
<p>For example, if you set <code>thresh=4</code>, rows that have not more than 4 non-missing values will be deleted.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">5</span>],
                   [np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>],
                   [<span style="color:#ae81ff">11</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">15</span>],
                   [<span style="color:#ae81ff">16</span>, np<span style="color:#f92672">.</span>nan, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">20</span>],
                   [<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">22</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">24</span>, np<span style="color:#f92672">.</span>nan]],
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>])
df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>dropna(thresh<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/fa6ad958-075c-3d32-bf4f-a7bf63883419.png" width=50%>
<p>If you set <code>axis=1</code>, you can perform the same operation for columns.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">5</span>],
                   [np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>],
                   [<span style="color:#ae81ff">11</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">15</span>],
                   [<span style="color:#ae81ff">16</span>, np<span style="color:#f92672">.</span>nan, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">20</span>],
                   [<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">22</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">24</span>, np<span style="color:#f92672">.</span>nan]],
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>])
df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>dropna(thresh<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/7419f64a-b7fc-c2c0-2020-402541d48f22.png" width=50%>
<h2 id="replace-missing-value-with-another-value">Replace missing value with another value</h2>
<p>You can substitute the mean of a column with the missing value of that column for a particular column as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">5</span>],
                   [np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>],
                   [<span style="color:#ae81ff">11</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">15</span>],
                   [<span style="color:#ae81ff">16</span>, np<span style="color:#f92672">.</span>nan, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">20</span>],
                   [<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">22</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">24</span>, np<span style="color:#f92672">.</span>nan]],
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>])
df[<span style="color:#e6db74">&#39;A3&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;A3&#39;</span>]<span style="color:#f92672">.</span>fillna(df[<span style="color:#e6db74">&#39;A3&#39;</span>]<span style="color:#f92672">.</span>mean())
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/8c474c3f-e33e-eb90-1e59-6dd286666058.png" width=50%>
<p>You can assign the mean value to the missing values for all columns as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">5</span>],
                   [np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>],
                   [<span style="color:#ae81ff">11</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">15</span>],
                   [<span style="color:#ae81ff">16</span>, np<span style="color:#f92672">.</span>nan, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">20</span>],
                   [<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">22</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">24</span>, np<span style="color:#f92672">.</span>nan]],
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>,<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>])
df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>fillna(df<span style="color:#f92672">.</span>mean())
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/a10d7a0b-348e-5c3f-75d8-7b75353a8420.png" width=50%>
<h2 id="missing-values-for-categorical-data">Missing values for categorical data</h2>
<p>Let&rsquo;s create the following DataFrame.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A1&#39;</span>: [<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>, np<span style="color:#f92672">.</span>nan],
                   <span style="color:#e6db74">&#39;A2&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>],
                   <span style="color:#e6db74">&#39;A3&#39;</span>: [<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>]})
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/3bf6112a-d0de-db10-03c6-f2eab220d291.png" alt="image.png"></p>
<p>Check the number of categories and data with the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py"><span style="color:#66d9ef">print</span>(df[<span style="color:#e6db74">&#39;A1&#39;</span>]<span style="color:#f92672">.</span>value_counts())
</code></pre></div><blockquote>
<p>B 3
A 2
C 1</p>
</blockquote>
<p>You can retrieve only specific categories of data with the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py"><span style="color:#66d9ef">print</span>(df[df[<span style="color:#e6db74">&#39;A1&#39;</span>] <span style="color:#f92672">==</span><span style="color:#e6db74">&#39;B&#39;</span>])
</code></pre></div><blockquote>
<p>A1 A2 A3
2 B 3 10
3 B 4 11
4 B 5 12</p>
</blockquote>
<p>You can fill in missing values in categorical data with the following code. Since the mode is returned by <code>mode()[0]</code>, the mode is assigned to the missing value.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A1&#39;</span>: [<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>, np<span style="color:#f92672">.</span>nan],
                   <span style="color:#e6db74">&#39;A2&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>],
                   <span style="color:#e6db74">&#39;A3&#39;</span>: [<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>]})
df[<span style="color:#e6db74">&#39;A1&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;A1&#39;</span>]<span style="color:#f92672">.</span>fillna(df[<span style="color:#e6db74">&#39;A1&#39;</span>]<span style="color:#f92672">.</span>mode()[<span style="color:#ae81ff">0</span>])
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/e142e948-5c79-749d-f90b-020df40ed728.png" alt="image.png"></p>
<p>Calculate the percentage of categorical data with the following code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A1&#39;</span>: [<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>, np<span style="color:#f92672">.</span>nan],
                   <span style="color:#e6db74">&#39;A2&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>],
                   <span style="color:#e6db74">&#39;A3&#39;</span>: [<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>]})
<span style="color:#66d9ef">print</span>(round(df[<span style="color:#e6db74">&#39;A1&#39;</span>]<span style="color:#f92672">.</span>value_counts() <span style="color:#f92672">/</span> len(df), <span style="color:#ae81ff">3</span>))
</code></pre></div><blockquote>
<p>B 0.429
A 0.286
C 0.143</p>
</blockquote>
<p>You can group categorical data and calculate statistics with the following code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A1&#39;</span>: [<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>, np<span style="color:#f92672">.</span>nan],
                   <span style="color:#e6db74">&#39;A2&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>],
                   <span style="color:#e6db74">&#39;A3&#39;</span>: [<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">14</span>]})
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A1&#39;</span>)<span style="color:#f92672">.</span>sum())
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A1&#39;</span>)<span style="color:#f92672">.</span>mean())
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/8e361dd0-b443-d245-1e61-8d97175a1a29.png" alt="image.png"></p>
<p>Combine #DataFrame
By default, it is <code>axis=0</code>, so it will be combined vertically.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>),
                   index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>],columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])
df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>),
                   index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;D&#39;</span>,<span style="color:#e6db74">&#39;E&#39;</span>,<span style="color:#e6db74">&#39;F&#39;</span>],
                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])

df3 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([df1, df2])
<span style="color:#66d9ef">print</span>(df3)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/af5667aa-1700-50bc-c1f4-581cc5a9f02b.png" width=50%>
<p>If you specify <code>axis=1</code> as below, you can combine horizontally.</p>
<p>You need to match <code>columns</code> when connecting vertically and <code>index</code> when connecting horizontally.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>),
                   index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>],
                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])
df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>),
                   index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>],
                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A4&#39;</span>,<span style="color:#e6db74">&#39;A5&#39;</span>,<span style="color:#e6db74">&#39;A6&#39;</span>])

df3 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([df1, df2], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
<span style="color:#66d9ef">print</span>(df3)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/c2aeba27-5800-8795-6712-0f81d6af5db4.png" width=50%>
<p>Apply function to #DataFrame
You can apply a function to specific data by using <code>apply</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])

<span style="color:#66d9ef">print</span>(df)
df[<span style="color:#e6db74">&#39;A1&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;A1&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/6050db59-1a2f-fd65-79dc-0e2ac00a28b6.png" width=50%>
<p>When applying a function with multiple arguments to a DataFrame, it is convenient to define the function with the DataFrame as an argument.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])
<span style="color:#66d9ef">print</span>(df)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">matmul</span>(df):
    <span style="color:#66d9ef">return</span> df[<span style="color:#e6db74">&#39;A1&#39;</span>] <span style="color:#f92672">*</span> df[<span style="color:#e6db74">&#39;A2&#39;</span>]
df[<span style="color:#e6db74">&#39;A4&#39;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>apply(matmul, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/f6fb4be4-8fdf-67df-9e9d-85a98be49892.png" width=50%>
<p>If you have multiple return values, you can receive them as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.py" data-lang=".py">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>),
                  index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>],
                  columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A1&#39;</span>,<span style="color:#e6db74">&#39;A2&#39;</span>,<span style="color:#e6db74">&#39;A3&#39;</span>])

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">square_and_twice</span>(x):
    <span style="color:#66d9ef">return</span> pd<span style="color:#f92672">.</span>Series([x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>, x<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>])
df[[<span style="color:#e6db74">&#39;square&#39;</span>,<span style="color:#e6db74">&#39;twice&#39;</span>]] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;A3&#39;</span>]<span style="color:#f92672">.</span>apply(square_and_twice)
<span style="color:#66d9ef">print</span>(df)
</code></pre></div><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/411258/81c947bd-c77e-2608-a7d5-db4513af70e2.png" width=50%>
<h1 id="at-the-end">At the end</h1>
<p>This is the end of this article.</p>
<p>Thank you for your association.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
