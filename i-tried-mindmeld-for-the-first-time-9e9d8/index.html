<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>I tried MindMeld for the first time | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>I tried MindMeld for the first time</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 4, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/nlp"> NLP</a></code></small>


<small><code><a href="https://memotut.com/tags/cisco"> Cisco</a></code></small>


<small><code><a href="https://memotut.com/tags/bot"> bot</a></code></small>


<small><code><a href="https://memotut.com/tags/ai"> AI</a></code></small>

</p>
<pre><code>This article was posted as the 10th day of the Cisco Systems Japan Advent Calendar 2019 by Cisco colleagues.
</code></pre>
<p>Click here for past calendars
2017 edition: <a href="https://qiita.com/advent-calendar/2017/cisco">https://qiita.com/advent-calendar/2017/cisco</a></p>
<ul>
<li>-&gt; <a href="https://qiita.com/yunambu/items/8b88d0d660464ab70599">Distribute policy tag with LISP, tried TrustSec with CML/VIRL</a>
2018 version: <a href="https://qiita.com/advent-calendar/2018/cisco">https://qiita.com/advent-calendar/2018/cisco</a></li>
<li>-&gt; <a href="https://qiita.com/yunambu/items/d0cfd2ab48a0134f1505">I tried using Cisco&rsquo;s SaaS monitoring and behavior detection tool for multi-cloud environment monitoring</a></li>
</ul>
<p>This year, the 3rd year since joining the company (Advent Calendar has also participated for 3 consecutive years!), I have been studying around &ldquo;machine learning/AI&rdquo;, so I will write <strong>MindMeld</strong> as a theme in conjunction with Cisco technology.
*Aside: In the hackathon@US where I participated for the first time as an output of study, I was able to win the award although it is Sacramento local.</p>
<h2 id="what-is-mindmeld">What is Mindmeld?</h2>
<p>Mindmeld is an industry-oriented interactive AI platform acquired by Cisco in 2017, and is a developer toolkit released as open source in May 2019.
To explain it a little bit more, MindMeld uses the MindMeld bot created to reflect what the developers and users want to do (intent). This is a customizable toolkit that enables you to make requests such as &ldquo;I want you to pull the information from △&rdquo; through conversation with the bot.
For detailed explanation, see <a href="https://www.google.co.jp/amp/s/gblogs.cisco.com/jp/2019/06/mindmeld-ai/amp/">This blog</a>See<a href="https://github.com/cisco/mindmeld/blob/master/README.md">GitHubrepository</a>.</p>
<h2 id="what-to-do-in-this-article">What to do in this article</h2>
<p>I&rsquo;m afraid I&rsquo;ll try to use this article as an opportunity, but I&rsquo;m afraid I&rsquo;m sorry, but I&rsquo;d like to make an interactive AI using the blueprint of <strong>Video Discovery</strong> provided as a sample along the playbook. think.
In the future, I would like to use this as a reference to create a custom blueprint that will discover the papers that I want to read as a custom.
We will start from the environment preparation, so if you are interested in &ldquo;If you have a Japanese document, I would like to try it&rdquo;, please use this article as a reference.</p>
<h3 id="before-you-start">before you start</h3>
<p>First of all, as a preliminary preparation before using MindMeld, start by installing MindMeld.
There are two installation options,</p>
<ol>
<li>Docker</li>
<li>virtualenv
You can choose from. For those who want to use MindMeld for heavy use, 2. virtualenv is recommended.
I would like to make this article with 2. virtualenv as well.
*1. Docker is recommended for those who want to experience MindMeld.</li>
</ol>
<details><summary>Used environment and preparations</summary><div>
<pre><code>sw_vers
  ProductName: Mac OS X
  ProductVersion: 10.15.1
  BuildVersion: 19B88
java -version
  openjdk version &quot;12&quot; 2019-03-19
  OpenJDK Runtime Environment (build 12+33)
  OpenJDK 64-Bit Server VM (build 12+33, mixed mode, sharing)

#Homebrew update
brew update

# install virtualenv
# Python has a module that can create a virtual environment, and using this virtualenv,
# You can have different Python versions for different virtual environments.
sudo -H pip install --upgrade virtualenv

#Preparing to use Elasticsearch 6.7
# Due to the change of usage policy of Java, the environment of Elasticsearch is required for macOS users.
export JAVA_HOME=/path/to/java
curl https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.7.0.tar.gz -o elasticsearch-6.7.0.tar.gz
tar -zxvf elasticsearch-6.7.0.tar.gz
cd elasticsearch-6.7.0/bin
./elasticsearch

# Elasticsearch start confirmation
curl localhost:9200
{
  &quot;name&quot;: &quot;hoBpMt3&quot;,
  &quot;cluster_name&quot; :&quot;elasticsearch&quot;,
  &quot;cluster_uuid&quot;: &quot;5G91TzSLTDO4WCFg9h5hhg&quot;,
  &quot;version&quot; :{
    &quot;number&quot;: &quot;6.7.0&quot;,
    &quot;build_flavor&quot; :&quot;default&quot;,
    &quot;build_type&quot;: &quot;tar&quot;,
    &quot;build_hash&quot;: &quot;8453f77&quot;,
    &quot;build_date&quot; :&quot;2019-03-21T15:32:29.844721Z&quot;,
    &quot;build_snapshot&quot; :false,
    &quot;lucene_version&quot;: &quot;7.7.0&quot;,
    &quot;minimum_wire_compatibility_version&quot;: &quot;5.6.0&quot;,
    &quot;minimum_index_compatibility_version&quot;: &quot;5.0.0&quot;
  },
  &quot;tagline&quot;: &quot;You Know, for Search&quot;
}

#Preparing the virtual environment
mkdir my_mm_workspace4advent
cd my_mm_workspace4advent
virtualenv -p python3.
source bin/activate
(deactivate)

# Install MindMeld package and confirm startup
pip install mindmeld # If you get an error here, re-install the particular package in error.
You can ignore mindmeld # cautionWarning if it appears.
  Usage: mindmeld [OPTIONS] COMMAND [ARGS]...

    Command line interface for MindMeld.

  Options:
    -V, --version Show the version and exit.
    -v, --verbosity LVL Either CRITICAL, ERROR, WARNING,
  INFO or DEBUG
    -h, --help Show this message and exit.

  Commands:
    blueprint Sets up a blueprint application.
    convert Converts a Rasa or DialogueFlow project to a...
    load-kb Loads data into a question answerer index.
    num-parse Starts or stops the local numerical parser...

Start of # Numeric Parsers.
# (Note) If an error occurs here, you cannot proceed. Please make sure that it succeeds before proceeding.
mindmeld num-parse --start
  ...
  Numerical parser running, PID XXXXX
# Alternatively, you can check with the command below.
mindmeld num-parse --start -p 9000
</code></pre></div></details>
<p>[Supplement]
MindMeld uses <a href="https://en.wikipedia.org/wiki/Haskell">Haskell</a>,apurelyfunctionalprogramminglanguage-basednumberparser,totranslatecertainnumberexpressions(suchastimeanddate) in user queries. It is detecting.
If you do not specify a port, it will start locally on port 7151 by default.
If you run <code>mindmeld num-parse --start -p 9000</code>, it starts on port 9000, and when you access <code>http://0.0.0.0:9000</code> you get <code>quack Only !</code> is displayed.</p>
<h3 id="start-blueprint">Start Blueprint</h3>
<p>If you are new to MindMeld, we recommend that you start by trying out the provided Blueprint application.
The following 4 types of blueprints are provided as samples.</p>
<ol>
<li>Food Ordering (<code>food_ordering</code>)</li>
<li>Home Assistant (<code>home_assistaant</code>)</li>
<li>Video Discovery (<code>video_discovery</code>) &lt;&ndash; Blueprints covered in this article</li>
<li>Kwik-E-Mart (<code>kwik_e_mart</code>)
The goal of <strong>Video Discovery</strong> in this article is to find the movie or TV show I&rsquo;m looking for by interacting with MindMeld as in the image below.
<img width="590" alt=" screenshot 2019-11-26 17.32.46.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214756/6ebc9852-a3fd-9dba-8cd3-bf0a14676c3f.png"></li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Start Python</span>
python

<span style="color:#75715e"># MindMeld Blueprint Application Download and Setup</span>
<span style="color:#f92672">import</span> mindmeld <span style="color:#f92672">as</span> mm
mm<span style="color:#f92672">.</span>configure_logs()
bp_name <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;video_discovery&#39;</span>
mm<span style="color:#f92672">.</span>blueprint(bp_name)
<span style="color:#75715e"># The following log will be displayed when setup is complete.</span>
<span style="color:#75715e"># Created&#39;video_discovery&#39; knowledge base at&#39;localhost&#39;</span>
<span style="color:#75715e">#&#39;/Users/XXX/my_mm_workspace4advent/video_discovery&#39;</span>
</code></pre></div><p>[Supplement]You can also skip the line <code>bp_name ='video_discovery'</code> and run it directly as <code>mm.blueprint('video_discovery')</code>.
When the MindMeld project folder (<code>video_discovery</code>) is created, a directory is created as shown in the image below.
<img width="554" alt=" screenshot 2019-11-26 17.50.59.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214756/7193a949-1cbc-f24b-ce05-6dcb2ff32d16.png"></p>
<h3 id="test-run-">Test run ①</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># QuestionAnswerer Application Import and Setup</span>
<span style="color:#f92672">from</span> mindmeld.components.question_answerer <span style="color:#f92672">import</span> QuestionAnswerer
qa <span style="color:#f92672">=</span> QuestionAnswerer(app_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;video_discovery&#39;</span>)

<span style="color:#75715e"># Search for &#34;Movie Minions&#34; from Knowledge Base entry</span>
qa<span style="color:#f92672">.</span>get(index<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;videos&#39;</span>, title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Minions&#39;</span>)[<span style="color:#ae81ff">0</span>]
</code></pre></div><p>[Supplement]
The results of the test run are as follows.</p>
<pre><code>{'overview':'Minions Stuart, Kevin and Bob are recruited by Scarlet Overkill, a super-villain who, alongside her inventor husband Herb, hatches a plot to take over the world.','imdb_id':'tt2293640', ' directors': ['Kyle Balda','Pierre Coffin'],'release_year': 2015,'runtime': 91,'doc_type':'movie','countries': ['US'],'title': ' Minions','cast': ['Sandra Bullock','Jon Hamm','Michael Keaton','Allison Janney','Steve Coogan','Jennifer Saunders','Geoffrey Rush','Steve Carell','Pierre' Coffin','Katy Mixon','Michael Beattie','Hiroyuki Sanada','Dave Rosenbaum','Alex Dowding','Paul Thornley','Kyle Balda','Ava Acres'],'img_url':'http ://image.tmdb.org/t/p/w185//q0R4crx2SehcEEQEkYObktdeFy.jpg','release_date': '2015-06-17','genres': ['Family','Animation','Adventure', 'Comedy'],'vote_average': 6.4,'popularity': 2.295467321653707,'id':'movie_211672','vote_count': 3660}
</code></pre><p>This <strong>Video Discovery</strong> application references the <a href="https://www.themoviedb.org/">The Movie DB</a> website as a knowledge base.</p>
<h3 id="mindmeld-blueprint-application-baseline-nlp-system-training">MindMeld Blueprint Application Baseline NLP System Training</h3>
<p>Train an NLP system (<code>NaturalLanguageProcessor</code> class) by feeding it labeled data.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># (Optional) Change log level</span>
<span style="color:#f92672">import</span> logging
logging<span style="color:#f92672">.</span>getLogger(<span style="color:#e6db74">&#39;mindmeld&#39;</span>)<span style="color:#f92672">.</span>setLevel(logging<span style="color:#f92672">.</span>INFO)

<span style="color:#75715e"># Perform baseline NLP system training</span>
<span style="color:#f92672">from</span> mindmeld <span style="color:#f92672">import</span> configure_logs; configure_logs()
<span style="color:#f92672">from</span> mindmeld.components.nlp <span style="color:#f92672">import</span> NaturalLanguageProcessor
nlp <span style="color:#f92672">=</span> NaturalLanguageProcessor(app_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;video_discovery&#39;</span>)
nlp<span style="color:#f92672">.</span>build()
</code></pre></div><p>[Supplement]
By changing the log level, you can see the machine learning process as follows.</p>
<details><summary>```nlp.build()``` error log</summary><div>
<pre><code>Fitting domain classifier
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/unrelated/compliment/train.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/unrelated/general/train.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/unrelated/insult/train.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_00.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_01.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_02.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_03.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_04.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_05.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_mturk_00.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/browse/train_range_00.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/exit/train.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/greet/train.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/help/train.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/start_over/train.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/unsupported/train_get_channel_00.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/unsupported/train_get_channel_01.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/unsupported/train_get_channel_02.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/unsupported/train_get_time_00.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/unsupported/train_get_time_01.txt
Loading raw queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/video_content/unsupported/train_get_time_02.txtLoading queries from file /Users/yunambu/my_mm_workspace4advent/video_discovery/domains/unrelated/compliment/train.txt
Unable to connect to the system entity recognizer.Make sure it's running by typing'mindmeld num-parse' at the command line.
</code></pre></div></detail>
<p>I got an error. .. .. As I was told, if you check with <code>mindmeld num-parse</code>, <code>Num-parse</code> seems to work properly.</p>
<pre><code>mindmeld num-parse
  ...
  Numerical parser running, PID 94958
</code></pre><p>First, let&rsquo;s find out what this <code>system entity</code> is. Then, there was such a description in the document.</p>
<p>&quot;&rdquo;&rdquo;
Entities in MindMeld are categorized into two types:</p>
<p>System Entities
Generic entities that are application-agnostic and are automatically detected by MindMeld.Examples include numbers, time expressions, email addresses, URLs and measured quantities like distance, volume, currency and temperature.</p>
<p>Custom Entities
&hellip;</p>
<p>System entities are generic application-agnostic entities that all MindMeld applications detect automatically.There is no need to train models to learn system entities; they just work.
&hellip;
MindMeld does not assume that any of the system entities are needed in your app.It is the system entities that you annotate in your training data that MindMeld knows are needed.
&quot;&rdquo;&rdquo;</p>
<p>In essence, it&rsquo;s a generic entity (number, time representation, email address, URL, measurement of distance, volume, currency, temperature, etc.) that is used in the same way in all the applications provided by MindMeld and connects to it. I&rsquo;m getting an error message saying that it&rsquo;s not done. I thought there might be a problem with the <code>nlp.py</code> that I am trying to use here, so I took a look at the source code as follows</p>
<details><summary>``Verifying `nlp.py```</summary><div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nlp.py" data-lang="nlp.py"><span style="color:#75715e"># Excerpts that only apply</span>
Import the SystemEntityRecongnizer <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">from</span> the <span style="color:#75715e"># system_entity_recognizer module (parent module of nlp.py)</span>
<span style="color:#f92672">from</span> ..system_entity_recognizer <span style="color:#f92672">import</span> SystemEntityRecognizer

<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">Details are commented out in system_entity_recongizer.py.
</span><span style="color:#e6db74">This SystemEntityRecognizer is intended to be used as a singleton (ie ensuring that there is always one instance of this class).
</span><span style="color:#e6db74">Therefore, it is designed to be initialized only once during the construction of NLP objects.
</span><span style="color:#e6db74">The work to initialize it is one line below.
</span><span style="color:#e6db74">&#34;&#34;&#34;</span>
<span style="color:#75715e"># initialize the system entity recognizer singleton</span>
SystemEntityRecognizer<span style="color:#f92672">.</span>get_instance(app_path)
</code></pre></div></div></details>
<details><summary>```system_entity_recognizer.py``` confirmation</summary><div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-system_entity_recognizer.py" data-lang="system_entity_recognizer.py"><span style="color:#75715e"># Excerpts that only apply</span>
<span style="color:#75715e"># Create a class for external parsing service used by other apps such as nlp.py.</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SystemEntityRecognizer</span>:
    <span style="color:#e6db74">&#34;&#34;&#34;SystemEntityRecognizer is the external parsing service used to extract
</span><span style="color:#e6db74">    system entities.It is intended to be used as a singleton, so it&#39;s
</span><span style="color:#e6db74">    initialized only once during NLP object construction.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    TODO: Abstract this class into an interface and implement the duckling
</span><span style="color:#e6db74">    service as one such service.
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>

    _instance <span style="color:#f92672">=</span> None <span style="color:#75715e"># Singleton A spell that always appears when using</span>

    <span style="color:#66d9ef">def</span> __init__(self, app_path<span style="color:#f92672">=</span>None):
<span style="color:#75715e">#Definition of a special method __init__ for initializing the instance that is called when the instance is created. app_path has None as the default variable</span>
        <span style="color:#75715e">#We say that this constructor is for SystemEntityReconizer only. Annotation that be sure to use gettter when using</span>
        <span style="color:#e6db74">&#34;&#34;&#34;Private constructor for SystemEntityRecognizer. Do not directly
</span><span style="color:#e6db74">        construct the SystemEntityRecognizer object. Instead, use the
</span><span style="color:#e6db74">        static get_instance method.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">        Args:
</span><span style="color:#e6db74">            app_path (str): A application path
</span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
        <span style="color:#66d9ef">if</span> SystemEntityRecognizer<span style="color:#f92672">.</span>_instance:
            <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">Exception</span>(<span style="color:#e6db74">&#34;SystemEntityRecognizer is a singleton&#34;</span>) <span style="color:#75715e"># Raise an exception under this condition using the raise statement</span>
        <span style="color:#66d9ef">else</span>: <span style="color:#75715e"># It seems that it uses the duckling api (Duckling = Open Source Natural Language Text Analysis) below to get date/time and measured values from natural language information.</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> app_path:
                <span style="color:#75715e"># The service is turned on by default</span>
                self<span style="color:#f92672">.</span>_use_duckling_api <span style="color:#f92672">=</span> True
            <span style="color:#66d9ef">else</span>:
                self<span style="color:#f92672">.</span>_use_duckling_api <span style="color:#f92672">=</span> is_duckling_configured(app_path)

        self<span style="color:#f92672">.</span>app_path <span style="color:#f92672">=</span> app_path
        SystemEntityRecognizer<span style="color:#f92672">.</span>_instance <span style="color:#f92672">=</span> self

    <span style="color:#a6e22e">@staticmethod</span> <span style="color:#75715e"># Used as a class method</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_instance</span>(app_path<span style="color:#f92672">=</span>None):
        <span style="color:#e6db74">&#34;&#34;&#34; Static access method.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">        Args:
</span><span style="color:#e6db74">            app_path (str): A application path
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">        Returns:
</span><span style="color:#e6db74">            (SystemEntityRecognizer): A SystemEntityRecognizer instance
</span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> SystemEntityRecognizer<span style="color:#f92672">.</span>_instance:
            SystemEntityRecognizer(app_path)
        <span style="color:#66d9ef">return</span> SystemEntityRecognizer<span style="color:#f92672">.</span>_instance

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_response</span>(self, data):

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> self<span style="color:#f92672">.</span>_use_duckling_api:
            <span style="color:#66d9ef">return</span> [], NO_RESPONSE_CODE

        url <span style="color:#f92672">=</span> get_system_entity_url_config(app_path<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>app_path)

        <span style="color:#66d9ef">try</span>: <span style="color:#75715e"># Describe the processing that is forced even when an exception occurs</span>
            response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>request(<span style="color:#e6db74">&#39;POST&#39;</span>, url, data<span style="color:#f92672">=</span>data, timeout<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)

            <span style="color:#66d9ef">if</span> response<span style="color:#f92672">.</span>status_code <span style="color:#f92672">==</span> requests<span style="color:#f92672">.</span>codes[<span style="color:#e6db74">&#39;ok&#39;</span>]:
                response_json <span style="color:#f92672">=</span> response<span style="color:#f92672">.</span>json()

                <span style="color:#75715e"># Remove the redundant&#39;values&#39; key in the response[&#39;value&#39;] dictionary</span>
                <span style="color:#66d9ef">for</span> i, entity_dict <span style="color:#f92672">in</span> enumerate(response_json):
                    <span style="color:#66d9ef">if</span><span style="color:#e6db74">&#39;values&#39;</span> <span style="color:#f92672">in</span> entity_dict[<span style="color:#e6db74">&#39;value&#39;</span>]:
                        <span style="color:#66d9ef">del</span> response_json[i][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;values&#39;</span>]

                <span style="color:#66d9ef">return</span> response_json, response<span style="color:#f92672">.</span>status_code
            <span style="color:#66d9ef">else</span>:
                <span style="color:#66d9ef">raise</span> SystemEntityError(<span style="color:#e6db74">&#39;System entity status code is not 200.&#39;</span>)
        <span style="color:#66d9ef">except</span> requests<span style="color:#f92672">.</span>ConnectionError: <span style="color:#75715e"># Describe the process when an exception occurs</span>
            sys<span style="color:#f92672">.</span>exit(<span style="color:#e6db74">&#34;Unable to connect to the system entity recognizer. Make sure it&#39;s &#34;&#34;running by typing&#39;mindmeld num-parse&#39; at the command line.&#34;</span>) <span style="color:#75715e"># kill the main process in the running program</span>
        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> ex: <span style="color:#75715e"># pylint: disable=broad-except</span>
            logger<span style="color:#f92672">.</span>error(<span style="color:#e6db74">&#39;Numerical Entity Recognizer Error: </span><span style="color:#e6db74">%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">URL: </span><span style="color:#e6db74">%r</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Data: </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#39;</span>, ex, url,
                         json<span style="color:#f92672">.</span>dumps(data))
            sys<span style="color:#f92672">.</span>exit(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">The system entity recognizer encountered the following&#39;</span><span style="color:#f92672">+</span>
                     <span style="color:#e6db74">&#39;error:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> str(ex) <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">URL:&#39;</span><span style="color:#f92672">+</span> url <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Raw data:&#39;</span><span style="color:#f92672">+</span> str(data) <span style="color:#f92672">+</span>
                     <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Please check your data and ensure Numerical parsing service is running.&#34;</span>
                     <span style="color:#e6db74">&#34;Make sure it&#39;s running by typing&#34;</span>
                     <span style="color:#e6db74">&#34;&#39;mindmeld num-parse&#39; at the command line.&#34;</span>)

</code></pre></div></div></details>
<p>As far as I can see, it seems that the last <code>try-except</code> statement of <code>system_entity_recognizer.py</code> is working at the time of exception, and eventually <code>Parsing Service</code> cannot be reached. So I give up what I&rsquo;ve done with <code>virtualenv</code> and try again using the Docker container.
*Because the cause could not be identified by the posting date, I would like to add it as soon as the troubleshooting is completed.</p>
<h2 id="build-a-docker-environment">Build a Docker environment</h2>
<details><summary>Re-preparation in Docker environment</summary><div>
<pre><code>#Check Docker version
docker version
Client: Docker Engine-Community
 Version: 19.03.5
 API version: 1.40
 Go version: go1.12.12
 Git commit: 633a0ea
 Built: Wed Nov 13 07:22:34 2019
 OS/Arch: darwin/amd64
 Experimental: false

Server: Docker Engine-Community
 Engine:
  Version: 19.03.5
  API version: 1.40 (minimum version 1.12)
  Go version: go1.12.12
  Git commit: 633a0ea
  Built: Wed Nov 13 07:29:19 2019
  OS/Arch: linux/amd64
  Experimental: false
 containerd:
  Version: v1.2.10
  GitCommit: b34a5c8af56e510852c35414db4c1f4fa6172339
 runc:
  Version: 1.0.0-rc8+dev
  GitCommit: 3e425f80a8c931f88e6d94a8c831b9d5aa481657
 docker-init:
  Version: 0.18.0
  GitCommit: fec3683

Get the latest image of # MindMeld from the registry
docker pull mindmeldworkbench/dep:latest
# Run a new container in the background with 9200/7151/9300 container ports bound to 9200/7151/9300 ports on 0.0.0.0 respectively.
docker run -p 0.0.0.0:9200:9200 -p 0.0.0.0:7151:7151 -p 0.0.0.0:9300:9300 mindmeldworkbench/dep -ti -d

#Preparing and starting the virtual environment
mkdir my_mm_workspace4advent2
cd my_mm_workspace4advent2
virtualenv -p python3.
source bin/activate

# Install and launch the MindMeld package
pip install mindmeld
mindmeld

Download the # MindMeld Blueprint
mindmeld blueprint video_discovery # You can also run it from the terminal instead of from the Python Shell

</code></pre></div></details>
<h3 id="test-run--1">Test run ②</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># QuestionAnswerer Application Import and Setup</span>
<span style="color:#f92672">from</span> mindmeld.components.question_answerer <span style="color:#f92672">import</span> QuestionAnswerer
qa <span style="color:#f92672">=</span> QuestionAnswerer(app_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;video_discovery&#39;</span>)

<span style="color:#75715e"># Search for &#34;Movie Minions&#34; from Knowledge Base entry</span>
qa<span style="color:#f92672">.</span>get(index<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;videos&#39;</span>, title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Minions&#39;</span>)[<span style="color:#ae81ff">0</span>]
</code></pre></div><p>[Supplement]
The results of the test run are as follows.</p>
<pre><code>{'overview':'Minions Stuart, Kevin and Bob are recruited by Scarlet Overkill, a super-villain who, alongside her inventor husband Herb, hatches a plot to take over the world.','imdb_id':'tt2293640', ' directors': ['Kyle Balda','Pierre Coffin'],'release_year': 2015,'runtime': 91,'doc_type':'movie','countries': ['US'],'title': ' Minions','cast': ['Sandra Bullock','Jon Hamm','Michael Keaton','Allison Janney','Steve Coogan','Jennifer Saunders','Geoffrey Rush','Steve Carell','Pierre' Coffin','Katy Mixon','Michael Beattie','Hiroyuki Sanada','Dave Rosenbaum','Alex Dowding','Paul Thornley','Kyle Balda','Ava Acres'],'img_url':'http ://image.tmdb.org/t/p/w185//q0R4crx2SehcEEQEkYObktdeFy.jpg','release_date': '2015-06-17','genres': ['Family','Animation','Adventure', 'Comedy'],'vote_average': 6.4,'popularity': 2.295467321653707,'id':'movie_211672','vote_count': 3660}
</code></pre><h3 id="nlp-system-training-retry">NLP System Training Retry</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># (Optional) Change log level</span>
<span style="color:#f92672">import</span> logging
I<span style="color:#e6db74">&#39;ll change logging.getLogger(&#39;</span>mindmeld<span style="color:#e6db74">&#39;).setLevel(logging.DEBUG) # DEBUG to see more logging.</span>

<span style="color:#75715e"># Perform baseline NLP system training</span>
<span style="color:#f92672">from</span> mindmeld <span style="color:#f92672">import</span> configure_logs; configure_logs()
<span style="color:#f92672">from</span> mindmeld.components.nlp <span style="color:#f92672">import</span> NaturalLanguageProcessor
nlp <span style="color:#f92672">=</span> NaturalLanguageProcessor(app_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;video_discovery&#39;</span>)
nlp<span style="color:#f92672">.</span>build()
</code></pre></div><details><summary>```nlp.build()``` detail log</summary><div>
<pre><code>Fitting domain classifier
Loading raw queries from file video_discovery/domains/unrelated/compliment/train.txt
Loading raw queries from file video_discovery/domains/unrelated/general/train.txt
Loading raw queries from file video_discovery/domains/unrelated/insult/train.txt
Loading raw queries from file video_discovery/domains/video_content/browse/train_00.txt
Loading raw queries from file video_discovery/domains/video_content/browse/train_01.txt
Loading raw queries from file video_discovery/domains/video_content/browse/train_02.txt
Loading raw queries from file video_discovery/domains/video_content/browse/train_03.txt
Loading raw queries from file video_discovery/domains/video_content/browse/train_04.txt
Loading raw queries from file video_discovery/domains/video_content/browse/train_05.txt
Loading raw queries from file video_discovery/domains/video_content/browse/train_mturk_00.txtLoading raw queries from file video_discovery/domains/video_content/browse/train_range_00.txt
Loading raw queries from file video_discovery/domains/video_content/exit/train.txt
Loading raw queries from file video_discovery/domains/video_content/greet/train.txt
Loading raw queries from file video_discovery/domains/video_content/help/train.txt
Loading raw queries from file video_discovery/domains/video_content/start_over/train.txt
Loading raw queries from file video_discovery/domains/video_content/unsupported/train_get_channel_00.txt
Loading raw queries from file video_discovery/domains/video_content/unsupported/train_get_channel_01.txt
Loading raw queries from file video_discovery/domains/video_content/unsupported/train_get_channel_02.txt
Loading raw queries from file video_discovery/domains/video_content/unsupported/train_get_time_00.txt
Loading raw queries from file video_discovery/domains/video_content/unsupported/train_get_time_01.txt
Loading raw queries from file video_discovery/domains/video_content/unsupported/train_get_time_02.txt
Loading queries from file video_discovery/domains/unrelated/compliment/train.txt
Loading queries from file video_discovery/domains/unrelated/general/train.txt
Loading queries from file video_discovery/domains/unrelated/insult/train.txt
Loading queries from file video_discovery/domains/video_content/browse/train_00.txt
Loading queries from file video_discovery/domains/video_content/browse/train_01.txt
Loading queries from file video_discovery/domains/video_content/browse/train_02.txt
Loading queries from file video_discovery/domains/video_content/browse/train_03.txt
Loading queries from file video_discovery/domains/video_content/browse/train_04.txt
Loading queries from file video_discovery/domains/video_content/browse/train_05.txt
Loading queries from file video_discovery/domains/video_content/browse/train_mturk_00.txt
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;80's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;1990's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;1990's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1980s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'all time'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '70s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;80's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1980s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;90's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'all time'.
Unable to load query: Unable to resolve system entity of type 'sys_time' for 'the year'.
Unable to load query: Unable to resolve system entity of type 'sys_time' for 'this moment'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;90's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2010-2015'. Entities found for the following types ['sys_temperature', 'sys_amount-of-money', 'sys_phone-number']
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1980s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1980s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2000s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;90's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2000 to now'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2000s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'last year'. Entities found for the following types ['sys_time']
Unable to load query: Unable to resolve system entity of type 'sys_interval' for &quot;40's&quot;.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'last decade'.
Unable to load query: Unable to resolve system entity of type 'sys_time' for 'this summer'. Entities found for the following types ['sys_interval']
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1950s'.Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2000s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1960s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Loading queries from file video_discovery/domains/video_content/browse/train_range_00.txt
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2000 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1970s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1900s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1970s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1970 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1970s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1990 to 1995'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '60s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'eighties'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '70s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1980s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'last year'. Entities found for the following types ['sys_time']
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'last year'. Entities found for the following types ['sys_time']
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1960s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'late 1990 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for 'past year'. Entities found for the following types ['sys_time']
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2000s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90 s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '60s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '2010s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1980s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90 s'.Unable to load query: Unable to resolve system entity of type 'sys_interval' for '80s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '90s'.
Unable to load query: Unable to resolve system entity of type 'sys_interval' for '1950s'.
Loading queries from file video_discovery/domains/video_content/exit/train.txt
Loading queries from file video_discovery/domains/video_content/greet/train.txt
Loading queries from file video_discovery/domains/video_content/help/train.txt
Loading queries from file video_discovery/domains/video_content/start_over/train.txt
Loading queries from file video_discovery/domains/video_content/unsupported/train_get_channel_00.txt
Loading queries from file video_discovery/domains/video_content/unsupported/train_get_channel_01.txt
Loading queries from file video_discovery/domains/video_content/unsupported/train_get_channel_02.txt
Loading queries from file video_discovery/domains/video_content/unsupported/train_get_time_00.txt
Loading queries from file video_discovery/domains/video_content/unsupported/train_get_time_01.txt
Loading queries from file video_discovery/domains/video_content/unsupported/train_get_time_02.txt
Building gazetteer 'sort'
Loading entity data from 'video_discovery/entities/sort/gazetteer.txt'
52/52 entities in entity data file exceeded popularity cutoff and were added to the gazetteer
Loading synonyms from entity mapping
Added 49/49 synonyms from file into gazetteer
Building gazetteer 'director'
Loading entity data from 'video_discovery/entities/director/gazetteer.txt'
89750/89750 entities in entity data file exceeded popularity cutoff and were added to the gazetteer
Loading synonyms from entity mapping
Added 0/0 synonyms from file into gazetteer
Building gazetteer 'title'
Loading entity data from 'video_discovery/entities/title/gazetteer.txt'
276728/276728 entities in entity data file exceeded popularity cutoff and were added to the gazetteer
Loading synonyms from entity mapping
Added 0/0 synonyms from file into gazetteer
Building gazetteer 'cast'
Loading entity data from 'video_discovery/entities/cast/gazetteer.txt'
486719/486719 entities in entity data file exceeded popularity cutoff and were added to the gazetteer
Loading synonyms from entity mapping
Added 0/0 synonyms from file into gazetteer
Building gazetteer 'genre'
Loading entity data from 'video_discovery/entities/genre/gazetteer.txt'
101/101 entities in entity data file exceeded popularity cutoff and were added to the gazetteer
Loading synonyms from entity mapping
Added 70/70 synonyms from file into gazetteer
Building gazetteer 'type'
Loading entity data from 'video_discovery/entities/type/gazetteer.txt'
18/18 entities in entity data file exceeded popularity cutoff and were added to the gazetteer
Loading synonyms from entity mapping
Added 20/20 synonyms from file into gazetteer
Building gazetteer 'country'
Loading entity data from 'video_discovery/entities/country/gazetteer.txt'
477/477 entities in entity data file exceeded popularity cutoff and were added to the gazetteer
Loading synonyms from entity mapping
Added 243/243 synonyms from file into gazetteer
Fitting intent classifier: domain='video_content'
Selecting hyperparameters using k-fold cross-validation with 5 splits
Best accuracy: 98.12%, params: {'C': 10, 'class_weight': {0: 0.5805006811989102, 1: 3.431368821292776, 2: 0.9903185247275775, 3: 5.1444117647058825, 4: 2.906170886075949, 5: 0.6776020174232005}, 'fit_intercept': True}
Fitting entity recognizer: domain='video_content', intent='browse'
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
No entity_resolution model configuration set. Using default.
Fitting role classifier: domain='video_content', intent='browse', entity_type='type'
No role model configuration set. Using default.
Importing synonym data to synonym index 'synonym_type'
Creating index 'synonym_type'
100%|████████████████████████████████████████████████████████████████████████████████| 2/2 [00:00&lt;00:00, 23.57it/s]
Loaded 2 documents
Fitting role classifier: domain='video_content', intent='browse', entity_type='country'
No role model configuration set. Using default.
Importing synonym data to synonym index 'synonym_country'
Creating index 'synonym_country'
100%|███████████████████████████████████████████████████████████████████████████| 235/235 [00:00&lt;00:00, 555.92it/s]
Loaded 235 documents
Fitting role classifier: domain='video_content', intent='browse', entity_type='sys_interval'
No role model configuration set. Using default.Fitting role classifier: domain='video_content', intent='browse', entity_type='cast'
No role model configuration set. Using default.
Importing synonym data to synonym index 'synonym_cast'
Creating index 'synonym_cast'
0it [00:00, ?it/s]
Loaded 0 documents
Fitting role classifier: domain='video_content', intent='browse', entity_type='genre'
No role model configuration set. Using default.
Importing synonym data to synonym index 'synonym_genre'
Creating index 'synonym_genre'
100%|█████████████████████████████████████████████████████████████████████████████| 31/31 [00:00&lt;00:00, 270.29it/s]
Loaded 31 documents
Fitting role classifier: domain='video_content', intent='browse', entity_type='sort'
No role model configuration set. Using default.
Importing synonym data to synonym index 'synonym_sort'
Creating index 'synonym_sort'
100%|████████████████████████████████████████████████████████████████████████████████| 4/4 [00:00&lt;00:00, 43.20it/s]
Loaded 4 documents
Fitting role classifier: domain='video_content', intent='browse', entity_type='sys_time'
No role model configuration set. Using default.
Fitting role classifier: domain='video_content', intent='browse', entity_type='director'
No role model configuration set. Using default.
Importing synonym data to synonym index 'synonym_director'
Creating index 'synonym_director'
0it [00:00, ?it/s]
Loaded 0 documents
Fitting role classifier: domain='video_content', intent='browse', entity_type='title'
No role model configuration set. Using default.
Importing synonym data to synonym index 'synonym_title'
Creating index 'synonym_title'
0it [00:00, ?it/s]
Loaded 0 documents
Fitting entity recognizer: domain='video_content', intent='greet'
There are no labels in this label set, so we don't fit the model.
Fitting entity recognizer: domain='video_content', intent='help'
There are no labels in this label set, so we don't fit the model.
Fitting entity recognizer: domain='video_content', intent='start_over'
There are no labels in this label set, so we don't fit the model.
Fitting entity recognizer: domain='video_content', intent='exit'
There are no labels in this label set, so we don't fit the model.
Fitting entity recognizer: domain='video_content', intent='unsupported'
There are no labels in this label set, so we don't fit the model.
Fitting intent classifier: domain='unrelated'
Selecting hyperparameters using k-fold cross-validation with 5 splits
Best accuracy: 70.87%, params: {'C': 1, 'class_weight': {0: 0.9618644067796609, 1: 1.009, 2: 1.0395604395604394}, 'fit_intercept': True}
Fitting entity recognizer: domain='unrelated', intent='insult'
There are no labels in this label set, so we don't fit the model.
Fitting entity recognizer: domain='unrelated', intent='general'
There are no labels in this label set, so we don't fit the model.
Fitting entity recognizer: domain='unrelated', intent='compliment'
There are no labels in this label set, so we don't fit the model.
</code></pre></div></detail>
<p>ひとまずエラーは回避でき、<code>Best accuracy: 70.87%, params: {'C': 1, 'class_weight': {0: 0.9618644067796609, 1: 1.009, 2: 1.0395604395604394}, 'fit_intercept': True}</code>という結果を受け取っていました。
<code>Unable to load query: Unable to resolve system entity of type 'sys_interval'</code>、<code>Unable to load query: Unable to resolve system entity of type 'sys_time'</code>と言ったログが出ているのが気になりましたがこちらも投稿日までに原因が追求できなかったため分かり次第追記します。
また、この時点では<code>No entity_resolution model configuration set. Using default.</code>とあり、精度が 70% 弱と低くなっていますが、この後のテストラン③の中で、フィーチャーの抽出方法を選択してフィッティングをすることで精度を上げていきます。</p>
<h3 id="テストラン">テストラン③</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># トレーニング済みの NLP システムに対してテストクエリを投げる </span>
nlp<span style="color:#f92672">.</span>process(<span style="color:#e6db74">&#34;Show me movies with Yo Oizumi&#34;</span>)
</code></pre></div><pre><code>{'text': 'Show me movies with Yo Oizumi', 'domain': 'video_content', 'intent': 'browse', 'entities': [{'text': 'movies', 'type': 'type', 'role': None, 'value': [{'cname': 'movie', 'score': 19.448803, 'top_synonym': 'movies'}, {'cname': 'tv-show', 'score': 1.684855, 'top_synonym': 'series'}], 'span': {'start': 8, 'end': 13}}, {'text': 'Yo Oizumi', 'type': 'cast', 'role': None, 'value': [], 'span': {'start': 20, 'end': 28}}]}
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Intent Classifier の作成。これを用いて、モデルやフィーチャーの抽出設定にアクセスする</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> ic <span style="color:#f92672">=</span> nlp<span style="color:#f92672">.</span>domains[<span style="color:#e6db74">&#39;video_content&#39;</span>]<span style="color:#f92672">.</span>intent_classifier
<span style="color:#f92672">&gt;&gt;&gt;</span> ic<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>model_settings[<span style="color:#e6db74">&#39;classifier_type&#39;</span>]
<span style="color:#e6db74">&#39;logreg&#39;</span>

<span style="color:#f92672">&gt;&gt;&gt;</span> ic<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>features
{<span style="color:#e6db74">&#39;bag-of-words&#39;</span>: {<span style="color:#e6db74">&#39;lengths&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]}, <span style="color:#e6db74">&#39;edge-ngrams&#39;</span>: {<span style="color:#e6db74">&#39;lengths&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]}, <span style="color:#e6db74">&#39;in-gaz&#39;</span>: {}, <span style="color:#e6db74">&#39;exact&#39;</span>: {<span style="color:#e6db74">&#39;scaling&#39;</span>: <span style="color:#ae81ff">10</span>}, <span style="color:#e6db74">&#39;gaz-freq&#39;</span>: {}, <span style="color:#e6db74">&#39;freq&#39;</span>: {<span style="color:#e6db74">&#39;bins&#39;</span>: <span style="color:#ae81ff">5</span>}}

<span style="color:#75715e"># この分類器は、fit()メソッドを使って適切なパラメータを渡すことで、様々な学習アルゴリズム・機能・ハイパーパラメータ・相互検証設定などを試すことができる。</span>
<span style="color:#75715e"># 例えば、デフォルトでは、bag-of-words がフィーチャー抽出で用いられているが、bag-of-N-grams を追加して使用することもできる。</span>
<span style="color:#75715e"># ここではサンプルブループリントを使っているため、既に入っている。</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> ic<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>features[<span style="color:#e6db74">&#39;bag-of-words&#39;</span>][<span style="color:#e6db74">&#39;lengths&#39;</span>]<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">3</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> ic<span style="color:#f92672">.</span>fit() <span style="color:#75715e"># fit(learan_data, learn_label)メソッドを用いて、学習用データと結果を学習できる</span>
Fitting intent classifier: domain<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;video_content&#39;</span>
Selecting hyperparameters using k<span style="color:#f92672">-</span>fold cross<span style="color:#f92672">-</span>validation <span style="color:#66d9ef">with</span> <span style="color:#ae81ff">5</span> splitsBest accuracy: <span style="color:#ae81ff">98.12</span><span style="color:#f92672">%</span>, params: {<span style="color:#e6db74">&#39;C&#39;</span>: <span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;class_weight&#39;</span>: {<span style="color:#ae81ff">0</span>: <span style="color:#ae81ff">0.8202145776566757</span>, <span style="color:#ae81ff">1</span>: <span style="color:#ae81ff">2.0420152091254753</span>, <span style="color:#ae81ff">2</span>: <span style="color:#ae81ff">0.9958507963118188</span>, <span style="color:#ae81ff">3</span>: <span style="color:#ae81ff">2.7761764705882355</span>, <span style="color:#ae81ff">4</span>: <span style="color:#ae81ff">1.8169303797468355</span>, <span style="color:#ae81ff">5</span>: <span style="color:#ae81ff">0.8618294360385144</span>},<span style="color:#e6db74">&#39;fit_intercept&#39;</span>: True }
</code></pre></div><h2 id="deployment">Deployment</h2>
<p>After all the steps so far, test the interactive application using the <code>Conversation</code> class.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> mindmeld.components.dialogue <span style="color:#f92672">import</span> Conversation
conv <span style="color:#f92672">=</span> Conversation(nlp<span style="color:#f92672">=</span>nlp, app_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;video_discovery&#39;</span>)
res <span style="color:#f92672">=</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#34;Show me movies with Yo Oizumi&#34;</span>)
<span style="color:#66d9ef">print</span>(res[<span style="color:#ae81ff">1</span>])
</code></pre></div><details><summary>results</summary><div>
<pre><code>{
    &quot;popularity&quot;: 1.6843605812038211,
    &quot;release_year&quot;: 2001,
    &quot;title&quot;: &quot;Spirited Away&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 1.331518694517026,
    &quot;release_year&quot;: 2004,
    &quot;title&quot;: &quot;Howl's Moving Castle&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.9276412700980977,
    &quot;release_year&quot;: 2014,
    &quot;title&quot;: &quot;When Marnie Was There&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.5483075183578056,
    &quot;release_year&quot;: 2002,
    &quot;title&quot;: &quot;The Cat Returns&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.48987671974559993,
    &quot;release_year&quot;: 2015,
    &quot;title&quot;: &quot;I Am a Hero&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.40345108131710566,
    &quot;release_year&quot;: 2015,
    &quot;title&quot;: &quot;The Boy and the Beast&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.21568218441881915,
    &quot;release_year&quot;: 2006,
    &quot;title&quot;: &quot;Brave Story&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.14845276320241113,
    &quot;release_year&quot;: 2015,
    &quot;title&quot;: &quot;Kakekomi&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.12538694143866852,
    &quot;release_year&quot;: 2009,
    &quot;title&quot;: &quot;Professor Layton and the Eternal Diva&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
{
    &quot;popularity&quot;: 0.0982032635261464,
    &quot;release_year&quot;: 2007,
    &quot;title&quot;: &quot;Kitaro&quot;,
    &quot;type&quot;: &quot;movie&quot;
}
</code></pre></div></detail>
<h2 id="interactive-simulation">Interactive simulation</h2>
<p>The <code>say()</code> method packages the input text into a user request object and passes it to the MindMeld Application Manager to simulate the user interacting with the application. This method outputs the part of the response text sent by the Dialogue Manager.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;Hi, there!&#39;</span>)
[<span style="color:#e6db74">&#39;Hi!&#39;</span>,<span style="color:#e6db74">&#39;Talk to me to browse movies and TV shows.&#39;</span>,<span style="color:#e6db74">&#39;{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 4.904354681204688,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Wonder Woman&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 4.743179401930947,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Beauty and the Beast&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie &#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 4.390633761852561,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Transformers: The Last Knight&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}\ n{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 4.316296603970634,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Logan&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 4.088732678349925 ,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;The Mummy&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 3.9604223694356175,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2017 ,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Kong: Skull Island&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 3.920513974901613,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2005,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34; : &#34;Doctor Who&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;tv-show&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 3.8653508696521426,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2011,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Game of Thrones&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;tv-show&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 3.7942142869419615,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2010,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34; The Walking Dead&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;tv-show&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 3.575316921466775,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Pirates of the Caribbean: Dead Men Tell No Tales&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}&#39;</span>, <span style="color:#e6db74">&#34;Suggestions:&#39;Most popular&#39;,&#39;Most recent&#39;,&#39;Movies&#39;,&#39;TV Shows&#39;,&#39;Action&#39;,&#39;Dramas&#39; ,&#39;Sci-Fi&#39;&#34;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;Show me Yo Oizumi movies&#39;</span>)
[<span style="color:#e6db74">&#39;Ok. Here are some results:&#39;</span>,<span style="color:#e6db74">&#39;{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 1.6843605812038211,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2001,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Spirited Away&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;\ n}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 1.331518694517026,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2004,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Howl</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s Moving Castle&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> {</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 0.9276412700980977,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2014,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;When Marnie Was There&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34; : 0.5483075183578056,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2002,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;The Cat Returns&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 0.48987671974559993,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year &#34;: 2015,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;I Am a Hero&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 0.40345108131710566,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2015,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;The Boy and the Beast&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 0.21568218441881915,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2006,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34; Brave Story&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 0.14845276320241113,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2015,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;t itle&#34;: &#34;Kakekomi&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 0.12538694143866852,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2009,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Professor Layton and the Eternal Diva&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;popularity&#34;: 0.0982032635261464,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;release_year&#34;: 2007,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;title&#34;: &#34;Kitaro&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;from 2015&#39;</span>)[<span style="color:#e6db74">&#39;Perfect. Here are some movies with Yo Oizumi:&#39;</span>, <span style="color:#e6db74">&#39;{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.48987671974559993,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2015,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;I Am a Hero&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.40345108131710566,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2015,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;The Boy and the Beast&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.14845276320241113,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2015,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Kakekomi&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;Thank you&#39;</span>)
[<span style="color:#e6db74">&#39;See you later.&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;do you have comedy movies?&#39;</span>)
[<span style="color:#e6db74">&#39;Perfect. Here are some results:&#39;</span>, <span style="color:#e6db74">&#39;{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 3.575316921466775,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Pirates of the Caribbean: Dead Men Tell No Tales&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 3.16142885645921,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Guardians of the Galaxy Vol. 2&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.864445217663442,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Despicable Me 3&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.8304034588472593,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Cars 3&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.824917558393832,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Baywatch&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.7538905585490667,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2016,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Deadpool&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.6281775734086983,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2016,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Tomorrow Everything Starts&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.561422298541789,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;The Lego Batman Movie&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.4652902501503737,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2000,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;DragonHeart: A New Beginning&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 2.4633532858463862,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2017,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Smurfs: The Lost Village&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;show me the ones with Yo Oizumi&#39;</span>)
[<span style="color:#e6db74">&#39;Ok. Here are some comedy movies:&#39;</span>, <span style="color:#e6db74">&#39;{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.14845276320241113,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2015,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Kakekomi&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.08592812381604169,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2013,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Detective in the Bar&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.058488695289761736,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2013,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;The Kiyosu Conference&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.015350574738277112,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2016,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Gold Medal Man&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.015203833742272778,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2011,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Drucker in the Dug-Out&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.01330410659551587,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2012,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Bread of Happiness&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.011187189390564376,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2006,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Sugar &amp; Spice: F</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">u00fbmi zekka&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.006566393969770445,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2014,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;A Drop of the Grapevine&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.0005218638053935734,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2006,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Simsons&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;Released in 2012&#39;</span>)
[<span style="color:#e6db74">&#39;Done. Here are some comedy movies starring Yo Oizumi:&#39;</span>, <span style="color:#e6db74">&#39;{</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;popularity&#34;: 0.01330410659551587,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;release_year&#34;: 2012,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;title&#34;: &#34;Bread of Happiness&#34;,</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">    &#34;type&#34;: &#34;movie&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">}&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> conv<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;Thank you&#39;</span>)
[<span style="color:#e6db74">&#39;Bye!&#39;</span>]
</code></pre></div><h1 id="ひとまずできた">ひとまずできた！</h1>
<p>ということで、ひとまずベーシックなところ一通り試してみることができました。
MindMeld のよいところはカスタマイズできる点だと思うので、今後カスタムアプリの作成(<code>Article_Discovery</code>ブループリント)、日本語化、Chat Bot連携など試してみたいと思います。</p>
<h1 id="免責事項">免責事項</h1>
<p>本サイトおよび対応するコメントにおいて表明される意見は、投稿者本人の個人的意見であり、シスコの意見ではありません。本サイトの内容は、情報の提供のみを目的として掲載されており、シスコや他の関係者による推奨や表明を目的としたものではありません。各利用者は、本Webサイトへの掲載により、投稿、リンクその他の方法でアップロードした全ての情報の内容に対して全責任を負い、本Web サイトの利用に関するあらゆる責任からシスコを免責することに同意したものとします。</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
