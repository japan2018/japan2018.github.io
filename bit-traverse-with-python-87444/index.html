<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Bit traverse with Python | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Bit traverse with Python</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 29, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/algorithms"> algorithms</a></code></small>


<small><code><a href="https://memotut.com/tags/competitive-programming"> competitive programming</a></code></small>

</p>
<pre><code>## bit full search means 2^n full searches
</code></pre>
<p>Example <a href="https://atcoder.jp/contests/arc061/tasks/arc061_a">ARC061</a>: Many formulas</p>
<p>Given a string S consisting only of numbers &gt;1 and 9 inclusive. Within this string, you can put +'s in several places between these characters. You don&rsquo;t have to enter any. However, + should not be consecutive. All strings that can be done in this way can be regarded as mathematical expressions, and the sum can be calculated. Calculate the values of all possible formulas and output the sum.</p>
<blockquote>
<p>Constraints
・1≤|S|≤10
• All letters included in S are numbers from 1 to 9</p>
</blockquote>
<p>Input output example</p>
<pre><code>[in] 125
[out] 176
Four patterns of #125, 1+25, 12+5, 1+2+5 are considered.
</code></pre><h2 id="concept">Concept</h2>
<p>If it is 125, there are two places (1 {a} 2 {b} 5) where &ldquo;+&rdquo; can be entered, so 2^2=4 different formulas can be considered. ab It&rsquo;s two choices, with or without &ldquo;+&rdquo;.
And since it is only bit, look for the part where the bit is standing. The image looks like the following.</p>
<table>
<thead>
<tr>
<th>index</th>
<th>a</th>
<th>b</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>You can see that there are 4 patterns in all.</p>
<h2 id="implementation-in-python">Implementation in python</h2>
<p>Bit operator of python Right shift &ldquo;&raquo;&rdquo; Use bitAND &ldquo;&amp;&rdquo;.
For details of bit operators, <a href="https://www.javadrive.jp/python/num/index4.html">here</a> was very helpful.</p>
<ul>
<li>Right shift &raquo;</li>
</ul>
<p>Try shifting 11 to the right by one bit. The rightmost 1 disappears and the leftmost 0 is inserted.
1011 = 11
0101 = 5</p>
<ul>
<li>bitAND &amp;</li>
</ul>
<p>Let&rsquo;s take 10 &amp; 12 bit AND. (Leave 1 only where both are 1 for each place.)
1010 = 10
1100 = 12
1000 = 08</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Input: 125</span>
s <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;1&#34;</span>, <span style="color:#e6db74">&#34;2&#34;</span>, <span style="color:#e6db74">&#34;5&#34;</span>]
n <span style="color:#f92672">=</span> len(s)

<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span> <span style="color:#f92672">**</span> (n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)):
    tmp <span style="color:#f92672">=</span> [False] <span style="color:#f92672">*</span> (n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>):
        <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&gt;&gt;</span> j <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">1</span>:
            tmp[j] <span style="color:#f92672">=</span> True
    pattern<span style="color:#f92672">.</span>append(tmp)

<span style="color:#66d9ef">print</span>(pattern)
</code></pre></div><pre><code>[[False, False], [True, False], [False, True], [True, True]]
</code></pre><p>I was able to find all the patterns in the full bit search.
By the way, the answer to the example I solved is <a href="https://atcoder.jp/contests/arc061/submissions/8776239">like this</a>.(Althoughthereshouldbeasmarterwaytosolvethecodethatisdirty)</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
