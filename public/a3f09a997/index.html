<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Get a clean Python development environment with pyenv&#43;pipx&#43;Poetry | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Get a clean Python development environment with pyenv+pipx+Poetry</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 16, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/pyenv">pyenv</a></code></small>


<small><code><a href="https://memotut.com/tags/poetry">Poetry</a></code></small>


<small><code><a href="https://memotut.com/tags/pipx">pipx</a></code></small>

</p>
<pre><code>It is as this article that had been a hot topic before. â€¦Because it becomes a worthless article, I will explain it a little.
</code></pre>
<p><a href="https://jacobian.org/2019/nov/11/python-environment-2020/">My Python Development Environment, 2020 Edition</a></p>
<p>The author of this article uses WSL, but I can use it almost as it is in OS X environment.</p>
<h1 id="pyenv">pyenv</h1>
<blockquote>
<p>Why? I need to run multiple Python versions, isolated from the system Python.pyenv makes it easy to install, manage, and switch between those multiple Pythons.</p>
</blockquote>
<p>A tool to switch between various Python versions. By the way, as mentioned in the original article, pyenv should be used for the development environment, and Docker should be used for the application execution environment.</p>
<h2 id="reference-article">Reference article</h2>
<ul>
<li><a href="https://github.com/pyenv/pyenv">pyenv/pyenv</a></li>
</ul>
<p>#pipx</p>
<blockquote>
<p>Why? pipx lets me install Python-based CLI stuff (youtube-dl, awscli, doc2dash, etc.) without those projects&rsquo; dependencies messing up my global Python.</p>
</blockquote>
<p>Since Python is also used to install commands such as awscli, it is quite difficult if it conflicts with the version of the development library.</p>
<h2 id="reference-article-1">Reference article</h2>
<p>If you want to know how to use it in Japanese, read the following articles.</p>
<ul>
<li><a href="https://www.natsukium.com/blog/2019-08-26/pipx/">Introduction to pipx-It&rsquo;s kind of like phoenix! </a></li>
<li><a href="https://pipxproject.github.io/pipx/docs/">Docs-pipx</a></li>
</ul>
<h1 id="poetry">Poetry</h1>
<blockquote>
<p>Why? Poetry handles dependency- and virtual-environment-management in a way that&rsquo;s very intuitive (to me), and fits perfectly with my desired workflow.</p>
</blockquote>
<p>There is a similar use for <a href="https://pipenv-ja.readthedocs.io/ja/translate-ja/">Pipenv</a>,butIamalsousingPoetrythesedays.RecentlyinHackerNews,thetopic&rdquo;<a href="https://news.ycombinator.com/item?id=21781421">Pipenvhasn&rsquo;tbeenproperlymaintainedlately?</a>&rdquo; came up.</p>
<ul>
<li>Pipenv reads <code>.python-version</code> and automatically switches the version of pyenv, but Poetry has to do it manually</li>
<li>Poetry has a command to build as a package and publish to PyPI</li>
</ul>
<p>Also, previously Poetry did not have an export command in <code>requirements.txt</code>, but <a href="https://python-poetry.org/docs/cli/#export">recently implemented</a>. When using Docker, it is a good idea to write a Dockerfile so that the <code>requirements.txt</code> generated by this command is <code>pip install -r requirements.txt</code> in the Docker image.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">poetry export -f requirements.txt &gt;requirements.txt
</code></pre></div><h2 id="reference-article-2">Reference article</h2>
<ul>
<li><a href="http://kk6.hateblo.jp/entry/2018/12/20/124151">From Python package development using Poetry to PyPI release</a></li>
<li><a href="https://python-poetry.org/">Poetry-Python packaging and dependency management made easy</a></li>
</ul>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
