<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://japan2018.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://japan2018.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://japan2018.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="https://japan2018.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="https://japan2018.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://japan2018.github.io/css/bootstrap.min.css" />

  
  <title>Create matplotlib color list | Some Title</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Create matplotlib color list</h1>
<p>
  <small class="text-secondary">
  
  
  Apr 2, 2020
  </small>
  

<small><code><a href="https://japan2018.github.io/tags/python">Python</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/matplotlib">matplotlib</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>Recently, most of my hobby and work calculations are done in Python, and graphing is done in Python matplotlib. In order to improve the distinctiveness of the graph, colors are used, but I wanted to keep the color list of matplotlib at hand, and created an image of the color list.</p>
<p>#Sample</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/129300/745fe9dc-fed2-952f-9f75-aabd9cf00355.png" alt="fig_col_mpl.png"></p>
<p>#How to make
Get the list of colors that matplotlib can handle by referring to the following. Color names and hexadecimal values can be obtained in dictionary format.</p>
<p><a href="https://pythondatascience.plavox.info/matplotlib/%E8%89%B2%E3%81%AE%E5%90%8D%E5%89%8D">Name and list of colors that can be specified in matplotlib</a></p>
<p>After that, just fill the specified rectangular area using <code>fill</code>.</p>
<p>However, in order to specify the color by referring to this when creating the graph, I want to display the color name and hexadecimal value in text.
The problem is the color name and the display color of hexadecimal text. You can specify one by one, but I can not specify the display color automatically, so I decided to use the HSV value.</p>
<p>In my case, I use hexadecimal to specify the display color, but to determine the text display color, I convert the hexadecimal strip color to RGB once, and then convert it to HSV, and display the text based on that value. I decided the color.</p>
<p>The function (def penc()) that determines the text display color is as follows. <a href="https://docs.python.org/ja/3/library/colorsys.html">colorsys.rgb_to_hsv</a>, there is a convenient one, so I use it for converting RGB to HSV.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">penc</span>(hval):
    r<span style="color:#f92672">=</span>int(hval[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>],<span style="color:#ae81ff">16</span>)
    g<span style="color:#f92672">=</span>int(hval[<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">5</span>],<span style="color:#ae81ff">16</span>)
    b<span style="color:#f92672">=</span>int(hval[<span style="color:#ae81ff">6</span>:<span style="color:#ae81ff">8</span>],<span style="color:#ae81ff">16</span>)
    hsv<span style="color:#f92672">=</span>colorsys<span style="color:#f92672">.</span>rgb_to_hsv(r<span style="color:#f92672">/</span><span style="color:#ae81ff">255</span>, g<span style="color:#f92672">/</span><span style="color:#ae81ff">255</span>, b<span style="color:#f92672">/</span><span style="color:#ae81ff">255</span>)
    h<span style="color:#f92672">=</span>hsv[<span style="color:#ae81ff">0</span>]
    s<span style="color:#f92672">=</span>hsv[<span style="color:#ae81ff">1</span>]
    v<span style="color:#f92672">=</span>hsv[<span style="color:#ae81ff">2</span>]
    col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;#000000&#39;</span>
    <span style="color:#66d9ef">if</span> <span style="color:#ae81ff">0.5</span><span style="color:#f92672">&lt;</span>h: col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;#ffffff&#39;</span>
    <span style="color:#66d9ef">if</span> v<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0.75</span>: col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;#ffffff&#39;</span>
    <span style="color:#66d9ef">return</span> col
</code></pre></div><p>In the above example, the text display color is specified as black (#000000) first, but when H of HSV exceeds 0.5 and the value of V is less than 0.75, the text display color is white (#ffffff). I am trying to.
I also thought about using the opposite color, but because there was resistance to make the text display color multicolored, I decided to divide the display color only with black and white.</p>
<h1 id="full-program">Full program</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> matplotlib
<span style="color:#f92672">import</span> colorsys
<span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt
<span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> rcParams
rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Ricty Diminished&#39;</span>


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">penc</span>(hval):
    <span style="color:#75715e">#https://docs.python.org/ja/3/library/colorsys.html</span>
    r<span style="color:#f92672">=</span>int(hval[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>],<span style="color:#ae81ff">16</span>)
    g<span style="color:#f92672">=</span>int(hval[<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">5</span>],<span style="color:#ae81ff">16</span>)
    b<span style="color:#f92672">=</span>int(hval[<span style="color:#ae81ff">6</span>:<span style="color:#ae81ff">8</span>],<span style="color:#ae81ff">16</span>)
    hsv<span style="color:#f92672">=</span>colorsys<span style="color:#f92672">.</span>rgb_to_hsv(r<span style="color:#f92672">/</span><span style="color:#ae81ff">255</span>, g<span style="color:#f92672">/</span><span style="color:#ae81ff">255</span>, b<span style="color:#f92672">/</span><span style="color:#ae81ff">255</span>)
    h<span style="color:#f92672">=</span>hsv[<span style="color:#ae81ff">0</span>]
    s<span style="color:#f92672">=</span>hsv[<span style="color:#ae81ff">1</span>]
    v<span style="color:#f92672">=</span>hsv[<span style="color:#ae81ff">2</span>]
    col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;#000000&#39;</span>
    <span style="color:#66d9ef">if</span> <span style="color:#ae81ff">0.5</span><span style="color:#f92672">&lt;</span>h: col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;#ffffff&#39;</span>
    <span style="color:#66d9ef">if</span> v<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0.75</span>: col<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;#ffffff&#39;</span>
    <span style="color:#66d9ef">return</span> col
    

cdic<span style="color:#f92672">=</span>matplotlib<span style="color:#f92672">.</span>colors<span style="color:#f92672">.</span>cnames
lkey<span style="color:#f92672">=</span>[]
lval<span style="color:#f92672">=</span>[]
<span style="color:#66d9ef">for</span> key, val <span style="color:#f92672">in</span> zip(cdic<span style="color:#f92672">.</span>keys(), cdic<span style="color:#f92672">.</span>values()):
    lkey<span style="color:#f92672">=</span>lkey<span style="color:#f92672">+</span>[key]
    lval<span style="color:#f92672">=</span>lval<span style="color:#f92672">+</span>[val]
    
xmin<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
xmax<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>
k<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>
fnameF<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fig_col_mpl.png&#39;</span>
ymin<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
ymax<span style="color:#f92672">=</span><span style="color:#ae81ff">37</span>
plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">12</span>))
plt<span style="color:#f92672">.</span>xlim([xmin,xmax])
plt<span style="color:#f92672">.</span>ylim([ymax,ymin])
plt<span style="color:#f92672">.</span>axis(<span style="color:#e6db74">&#39;off&#39;</span>)
fsize<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span> <span style="color:#75715e"># fontsize</span>
k<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(int(ymin),int(ymax)):
    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">4</span>):
        k<span style="color:#f92672">=</span>k<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">if</span> k<span style="color:#f92672">&lt;</span>len(lval):
            xs<span style="color:#f92672">=</span>float(j)
            xe<span style="color:#f92672">=</span>xs<span style="color:#f92672">+</span><span style="color:#ae81ff">1.0</span>
            ys<span style="color:#f92672">=</span>float(i)
            ye<span style="color:#f92672">=</span>ys<span style="color:#f92672">+</span><span style="color:#ae81ff">1.0</span>
            xx<span style="color:#f92672">=</span>[xs,xe,xe,xs]
            yy<span style="color:#f92672">=</span>[ys,ys,ye,ye]
            plt<span style="color:#f92672">.</span>fill(xx,yy,color<span style="color:#f92672">=</span>lval[k])
            text1<span style="color:#f92672">=</span>lkey[k]
            text2<span style="color:#f92672">=</span>lval[k]
            xg<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span><span style="color:#f92672">*</span>(xs<span style="color:#f92672">+</span>xe)
            yg<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span><span style="color:#f92672">*</span>(ys<span style="color:#f92672">+</span>ye)
            col<span style="color:#f92672">=</span>penc(lval[k])
            plt<span style="color:#f92672">.</span>text(xg,yg<span style="color:#f92672">-</span><span style="color:#ae81ff">0.25</span>,text1,rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,ha<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;center&#39;</span>,va<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;center&#39;</span>,fontsize<span style="color:#f92672">=</span>fsize,color<span style="color:#f92672">=</span>col)
            plt<span style="color:#f92672">.</span>text(xg,yg<span style="color:#f92672">+</span><span style="color:#ae81ff">0.25</span>,text2,rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,ha<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;center&#39;</span>,va<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;center&#39;</span>,fontsize<span style="color:#f92672">=</span>fsize,color<span style="color:#f92672">=</span>col)
plt<span style="color:#f92672">.</span>savefig(fnameF, dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">300</span>, bbox_inches<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tight&#34;</span>, pad_inches<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</code></pre></div><p>that&rsquo;s all</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
