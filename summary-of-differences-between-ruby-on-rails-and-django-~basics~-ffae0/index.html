<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://japan2018.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://japan2018.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://japan2018.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="https://japan2018.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="https://japan2018.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://japan2018.github.io/css/bootstrap.min.css" />

  
  <title>Summary of differences between Ruby on rails and Django ~Basics~ | Some Title</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Summary of differences between Ruby on rails and Django ~Basics~</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 4, 2020
  </small>
  

<small><code><a href="https://japan2018.github.io/tags/ruby">Ruby</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/python">Python</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/django">Django</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/on">on</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/rails5">Rails5</a></code></small>

</p>
<pre><code>##1.First of all
</code></pre>
<p>I am a beginner who has been programming for 4 months!
Since I am studying Ruby on rails and Django,
As output, I&rsquo;d like to write the basic code difference! ! :pencil2::beginner:
Since I started learning from rails,
What about Django in terms of basic rails? It is written from the perspective of: smile:
We hope you find it helpful.
(Since I am studying, I plan to add and correct it at any time!)</p>
<p>##2. <font color="red">MVC model (Rails)</font> and <font color="blue">MTV model (Django)</font>
The name &ldquo;View&rdquo; covers it, so it feels a little complicated, but the general flow is the same.
The image of myself is shown below.
<img width="1020" alt="Screenshot 2020-01-04 20.46.48.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/542326/2fa860bc-48bd-8dbe-4f61-23dad0eff9b1.png"></p>
<p>##3. Routing</p>
<p>(For Rails)
I will describe it in routes.rb.
Hit &ldquo;rake routes&rdquo; in the terminal to see the URL pattern and prefix!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Ruby:config/routes.rb" data-lang="Ruby:config/routes.rb">root<span style="color:#e6db74">&#39;products#index&#39;</span>
get<span style="color:#e6db74">&#39;index&#39;</span>, <span style="color:#e6db74">to</span>:<span style="color:#e6db74">&#39;products#index&#39;</span>
</code></pre></div><p>(For Django)
I will describe it in urls.py.
Use the path() function, which takes four arguments route,view,name,kwargs.
Here, the view&rsquo;s index function is associated with the root URL ('') so that it can be called from another file (such as template) with the name index.
Use &ldquo;as_view&rdquo; when calling a generic class in view.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python:app/urls.py" data-lang="Python:app/urls.py"><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path
<span style="color:#f92672">from</span> .import views

app_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;app name&#34;</span>

urlpatterns <span style="color:#f92672">=</span> [
    path(<span style="color:#e6db74">&#34;&#34;</span>, views<span style="color:#f92672">.</span>index, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;index&#34;</span>),
    path(<span style="color:#e6db74">&#34;products/&#34;</span>, views<span style="color:#f92672">.</span>ProductListView<span style="color:#f92672">.</span>as_view(), name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;products_list&#34;</span>),
]
</code></pre></div><h2 id="4-controllerview">4. Controller/View</h2>
<p>####4-1. How to specify html file</p>
<p>(For Rails)
Since there is a rule that a view with the same name as the action name of controller is called,
No special code is required. By preparing a view file with the same name as the action name, that view(html) file will be called.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Ruby:controllers/products_controller.rb" data-lang="Ruby:controllers/products_controller.rb"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>
<span style="color:#66d9ef">end</span>
</code></pre></div><pre><code class="language-Ruby:views/index.html.erb" data-lang="Ruby:views/index.html.erb">.title
  I will write html with haml etc.
</code></pre><p>(For Django)
Depending on whether you use a function or a class,
Use the render method or the template_name method respectively (there seems to be many others)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python:app/views.py" data-lang="Python:app/views.py">When to use the <span style="color:#75715e"># function</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>(request):
    <span style="color:#66d9ef">return</span> render(request, <span style="color:#e6db74">&#34;index.html&#34;</span>)

When to use the <span style="color:#75715e"># class</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ModelListView</span>(ListView):
  model <span style="color:#f92672">=</span> Model
  template_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;index.html&#34;</span>
</code></pre></div><p>####4-2. How to pass instance variable to html file</p>
<p>(For Rails)
In the html file, define an instance variable with @ to use the variable.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Ruby:products_controller.rb" data-lang="Ruby:products_controller.rb">
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>
  @product <span style="color:#f92672">=</span> <span style="color:#66d9ef">Product</span><span style="color:#f92672">.</span>where(id: <span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">10</span>)
<span style="color:#66d9ef">end</span>

</code></pre></div><p>(For Django)
It is shocking that the data can be handled as an html file even though there are no variables!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python:views.rb" data-lang="Python:views.rb"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">XxxListView</span>(<span style="color:#66d9ef">LoginRequiredMixin</span>, <span style="color:#66d9ef">ListView</span>):
  model <span style="color:#f92672">=</span> <span style="color:#66d9ef">Xxx</span>
  template_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;xxx.html&#34;</span>
  <span style="color:#66d9ef">Data</span> can be used as an array <span style="color:#66d9ef">in</span> xxx_list <span style="color:#66d9ef">in</span> <span style="color:#75715e"># template</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_context_data</span>(self, <span style="color:#f92672">**</span>kwargs):
    context<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;hennsu&#34;</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;value&#34;</span>
    <span style="color:#66d9ef">return</span> context
    <span style="color:#75715e">#You can pass a variable &#34;hennsu&#34; in this method</span>
</code></pre></div><p>(However, you can define variables and select data with get_context_data or get_queryset.)</p>
<h2 id="5-viewtemplate">5. View/Template</h2>
<h4 id="how-to-write-a-partial-template">・How to write a partial template</h4>
<p>(For Rails)
Use the render method.</p>
<pre><code class="language-Ruby:index.html.erb" data-lang="Ruby:index.html.erb">&lt;%= render'(folder name/)yyy.html.erb' %&gt;
- # Render destination is'_yyy.html.erb'
</code></pre><p>(For Django)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python:base.html" data-lang="Python:base.html">{% block content %}
  # Insert other html files here
{% endblock %}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python:index.html" data-lang="Python:index.html">{% extends &#34;base.html&#34; %}
{% block content %}
  # Insert this part into base.html (or vice versa)
{% endblock %}
</code></pre></div><p>I think that rails has more freedom here.</p>
<h4 id="display-of-logged-in-user-information">・Display of logged-in user information</h4>
<p>(For Rails)</p>
<pre><code class="language-Ruby:view.html.haml" data-lang="Ruby:view.html.haml"> -if user_signed_in?
   %div
     current_user.name
</code></pre><p>(For Django)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python:template.html" data-lang="Python:template.html">{% if user.is_authenticated %}
  &lt;<span style="color:#f92672">div</span>&gt; User Name: {{ user.username }} &lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><h2 id="6-model">6. Model</h2>
<p>####·migration
(For Rails)
Creating a model (rails g model Xxx) or creating a migration file (rails g migration)
-&gt; Fill migration file
-&gt; Run migration (rake db:migrate)</p>
<pre><code class="language-Ruby:Migration" data-lang="Ruby:Migration">## This is an example
  t.string :name, null: false
</code></pre><p>(For Django)
Fill in models.py
-&gt; Create migration file (python manage.py makemigrations)
-&gt; Run migration (python manage.py migrate)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python:models.py" data-lang="Python:models.py"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Xxx</span>(models<span style="color:#f92672">.</span>Model):
  xxx <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">200</span>)
  user <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>ForeignKey(User, on_delete<span style="color:#f92672">=</span>models<span style="color:#f92672">.</span>CASCADE)

  <span style="color:#66d9ef">def</span> __str__(self):
    <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>title
</code></pre></div><h2 id="7-impressions">7. Impressions</h2>
<p>I think it may be because I have been touching it for a long time,
rails has a simpler file relationship,
The logic can be written in the erb file, and the flexibility of the code is high, and I feel that it is easy to create the intended application.
On the other hand, Django feels a little quirky in composition.
However, the amount of description is small, and it seems to be quick if you get used to it.
Furthermore, I believe that the advantage of python lies in its rich library, so
I think the point is whether or not the rich library can be used in the application.
(Study more and we will fix it at any time!)
Thank you for reading: bow_tone3:</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
