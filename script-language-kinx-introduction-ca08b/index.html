<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Script language KINX (Introduction) | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Script language KINX (Introduction)</h1>
<p>
  <small class="text-secondary">
  
  
  Feb 21, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/ruby">Ruby</a></code></small>


<small><code><a href="https://memotut.com/tags/python"> Python</a></code></small>


<small><code><a href="https://memotut.com/tags/javascript"> JavaScript</a></code></small>


<small><code><a href="https://memotut.com/tags/scripting-language"> scripting language</a></code></small>


<small><code><a href="https://memotut.com/tags/kinx"> Kinx</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>I wrote <a href="https://qiita.com/Kray-G/items/7d1af238b46594ff78fe">Things like this</a> before, but as an artisan, I was tempted to make my own tools.</p>
<ul>
<li><a href="https://github.com/Kray-G/kinx">https://github.com/Kray-G/kinx</a>
<ul>
<li>Looks like JavaScript, feels like Ruby, and it is the script language fitting in C programmers.</li>
</ul>
</li>
</ul>
<p>Well, even if you say no, it&rsquo;s something you can find somewhere (I won&rsquo;t say it here), but I&rsquo;m lonely even if I&rsquo;m self-satisfied, so let&rsquo;s leave a footstep for commentary. (Once I add this article to the table of contents, I will update it sequentially)</p>
<details><summary>Table of contents (link to individual commentary articles)</summary><div>
<ul>
<li><a href="https://qiita.com/Kray-G/items/ca08b6fb40d15dd0ec76">Script Language KINX (Introduction)</a> [This article]</li>
<li>Basic version
<ul>
<li><a href="https://qiita.com/Kray-G/items/f1f891fe799fcc757834">Program basics/data type</a></li>
<li><a href="https://qiita.com/Kray-G/items/926dffbf9ee52334f7d5">Control structure</a></li>
</ul>
</li>
<li>Elements
<ul>
<li><a href="https://qiita.com/Kray-G/items/8e48b5b89203e2ec46af">Functions and Closures</a></li>
<li><a href="https://qiita.com/Kray-G/items/20e8a0cc4ac1bfc66193">Classes and Modules</a></li>
<li><a href="https://qiita.com/Kray-G/items/31f07e2f94901affc61f">Operator override</a></li>
</ul>
</li>
<li>Library
<ul>
<li>System
<ul>
<li><a href="https://qiita.com/Kray-G/items/74610fe6885f5227b0ac">Signal</a></li>
<li><a href="https://qiita.com/Kray-G/items/78cf553b65e286ea39c4">Multithread (Isolate)</a></li>
<li><a href="https://qiita.com/Kray-G/items/e44c39ddb2e17659a0a4">Process</a></li>
</ul>
</li>
<li>Primitive
<ul>
<li><a href="https://qiita.com/Kray-G/items/d74202dc7878731de916">Integer</a></li>
<li><a href="https://qiita.com/Kray-G/items/bd1a134cc501d55a4aa3">Double</a></li>
<li><a href="https://qiita.com/Kray-G/items/54aea3dec37fe395d9df">String</a></li>
<li><a href="https://qiita.com/Kray-G/items/e4e7183b64949683b780">Binary</a></li>
<li><a href="https://qiita.com/Kray-G/items/1d48e22a661d57514de8">Array</a></li>
</ul>
</li>
<li>utility
<ul>
<li><a href="https://qiita.com/Kray-G/items/5045230cd8484c6c5bf9">Getopt</a></li>
<li><a href="https://qiita.com/Kray-G/items/213c73d38aa8cc709999">Regex</a></li>
<li><a href="https://qiita.com/Kray-G/items/821eeba150a86d93766d">Range, Enumerable, for-in</a></li>
<li><a href="https://qiita.com/Kray-G/items/c3e5218c4061cb407d4f">DateTime</a></li>
<li><a href="https://qiita.com/Kray-G/items/be251d0a3c0bcaa5ba79">Math</a></li>
<li><a href="https://qiita.com/Kray-G/items/47e2bf2743afc0ee5e95">File/Directory</a></li>
<li><a href="https://qiita.com/Kray-G/items/8d3a6e56d9b45d1b0221">Database(SQLite3)</a></li>
<li><a href="https://qiita.com/Kray-G/items/f8be2c7eabbfc8731ff5">Zip</a></li>
<li><a href="https://qiita.com/Kray-G/items/2af84d7dfbf3d11853dd">XML</a></li>
<li><a href="https://qiita.com/Kray-G/items/6f83b07fca3b0b99967f">CSV Parser</a></li>
</ul>
</li>
<li>Network
<ul>
<li><a href="https://qiita.com/Kray-G/items/588eb370cb3213466cc8">Http</a></li>
</ul>
</li>
<li>Algorithm
<ul>
<li>Sort
<ul>
<li><a href="https://qiita.com/Kray-G/items/d2305cd5e97e803af25c">Quick Sort</a></li>
<li><a href="https://qiita.com/Kray-G/items/cc6b523ec8471041be92">Bubble Sort</a></li>
<li><a href="https://qiita.com/Kray-G/items/553dfc282bed0a58cf6b">Merge Sort</a></li>
<li><a href="https://qiita.com/Kray-G/items/bbc1ee89d4bffd4dfe68">Heap sort</a></li>
<li><a href="https://qiita.com/Kray-G/items/fe125ecbdeaf689f491c">Insert Sort</a></li>
<li><a href="https://qiita.com/Kray-G/items/551d5496a49d96ac2a46">Select Sort</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Inside Kinx
<ul>
<li><a href="https://qiita.com/Kray-G/items/f198a8b105b37fd43fab">Kinx Realization Technology-Yacc/Bison</a></li>
<li><a href="https://qiita.com/Kray-G/items/dfeed33544b9687717bb">Kinx Realization Technology-Switch-Case</a></li>
<li><a href="https://qiita.com/Kray-G/items/034454f69dfa914f56c9">Kinx Realization Technology-VM (Virtual Machine)</a></li>
<li><a href="https://qiita.com/Kray-G/items/66257e4cca0ad6dd7636">Kinx Realization Technology-JIT</a></li>
<li><a href="https://qiita.com/Kray-G/items/1ee8710d2a70a037f861">Kinx Realization Technology-Garbage Collection</a></li>
<li><a href="https://qiita.com/Kray-G/items/1ca831b69df8222bc7bf">Kinx Realization Technology-Fiber</a></li>
</ul>
</li>
<li>Miscellaneous topics
<ul>
<li><a href="https://qiita.com/Kray-G/items/3a17eebea0077b65b757">Supported functions after that</a></li>
</ul>
</li>
<li><a href="https://qiita.com/Kray-G/items/4c6011279d0bd3036da8">Kinx preview release (first)</a>
<ul>
<li><a href="https://qiita.com/Kray-G/items/d47af62fb4bee6a5b2de">map group? collect? </a></li>
<li><a href="https://qiita.com/Kray-G/items/282e3c841a0b342fb20a">Regarding that &ldquo;(b&rdquo;..&ldquo;aa&rdquo;) cannot be used in Ruby Range</a></li>
</ul>
</li>
</ul>
</div></details>
<blockquote>
<p>The number of articles has increased considerably since I posted them steadily.</p>
</blockquote>
<h1 id="what">what?</h1>
<p>A scripting language that inherits the traditional C-syntax familiar to you. Our goal is to &ldquo;<strong>look like JavaScript</strong>, <strong>brain (contents) is Ruby</strong>, <strong>stability is AC/DC(?)</strong>&rdquo;.</p>
<p>At this point, the library and basic methods are not available yet, so it&rsquo;s still a long way from practical use, but the basic parts of the language have almost worked.</p>
<h2 id="javascript-looks">JavaScript looks</h2>
<p>A good adult, not a child.</p>
<p>JavaScript is the most successful scripting language in the C family. However, it is not so good for desktop. node.js is convenient but too heavy, and its behavior is too quirky.</p>
<p>On the other hand, I like the idea of Ruby, but I&rsquo;m afraid of the syntax that <code>end</code> notices. Ordinary keywords are usually buried, but&hellip;</p>
<h2 id="the-brain-contents-is-ruby">The brain (contents) is Ruby</h2>
<p>That being said, I don&rsquo;t hate Ruby-like thinking. Yes, it&rsquo;s just a matter of appearance. If so, it&rsquo;s better to use a different-looking Ruby.</p>
<h2 id="stability-is-acdc">Stability is AC/DC</h2>
<p>Let&rsquo;s imitate a place without blurring.</p>
<h1 id="origin-of-the-name">Origin of the name</h1>
<p>I can&rsquo;t touch deeply (?), but the <a href="https://ja.wikipedia.org/wiki/RED_WARRIORS">Red Warriors</a>masterboard<a href="https://ja.wikipedia.org/wiki/Let'sjustsaythatitgoesbacktoKING'S">&ldquo;KING&rsquo;S&rdquo;</a>.</p>
<p>Since it became &ldquo;KINX&rdquo; at the moment, the origin is (<a href="https://en.wikipedia.org/wiki/VanHalen">VAN HALEN</a>famous&rdquo;<a href="https://ja.wikipedia.org/wiki/YouReallyGotMe">YouReallyGotMe</a>)original)<a href="https://ja.wikipedia.org/wiki/Kinks">Kinks</a> I&rsquo;m also considering that.</p>
<h1 id="sample">sample</h1>
<p>Detailed explanations will be delivered in a series. I don&rsquo;t care if there is demand.</p>
<blockquote>
<p>If you would like to know the detailed specifications right now&hellip; <a href="https://github.com/Kray-G/kinx/blob/master/doc/QuickReference.md">[Here]</a> please refer to.</p>
</blockquote>
<h2 id="fibonacci">fibonacci</h2>
<pre><code class="language-javascript:fib.kx" data-lang="javascript:fib.kx">function fib(n) {
    if (n &lt;3) return n;
    return fib(n-2) + fib(n-1);
}

System.println(fib($$[1].toInt()));
```The first thing to write is a benchmark. It looks like JavaScript.

It was a nostalgic time when Ruby once fueled everyone with the idea that speed isn't your goal, is it fun? Looking at the gradual change since the release of YARV, I saw that stance was exactly &quot;sour grapes&quot; (No, I like Ruby, except for the appearance)

Let's benchmark now. In the meantime, I'd like them to appear in Python, which Ruby is rivaling. If you compare it with this area, you can guess the approximate ability. The source code is as follows. Python3 is slower than Python2, so at 2.

```ruby:fib.rb
def fib(n)
  if n &lt;3
    return n;
  else
    return fib(n-2) + fib(n-1);
  end
end

puts fib(ARGV[0].to_i)
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:fib.py" data-lang="python:fib.py"><span style="color:#f92672">import</span> sys

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fib</span>(n):
    <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">3</span>:
        <span style="color:#66d9ef">return</span> n
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">return</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>)

<span style="color:#66d9ef">print</span> fib(int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>]))
</code></pre></div><h3 id="result">result</h3>
<p>First, display the version.</p>
<pre><code>$ ruby --version
ruby 2.5.1p57 (2018-03-29 revision 63029) [x86-64-linux-gnu]
$ python --version
Python 2.7.15+
</code></pre><p>And the result. The unit is <strong>&ldquo;second&rdquo;</strong>. The <code>time</code> command, in order of increasing <code>user</code> time. The fastest time I did about 5 times.</p>
<table>
<thead>
<tr>
<th>Language</th>
<th align="center"><code>fib(34)</code></th>
<th align="center"><code>fib(38)</code></th>
<th align="center"><code>fib(39)</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Ruby</strong></td>
<td align="center">0.391</td>
<td align="center">2.016</td>
<td align="center">3.672</td>
</tr>
<tr>
<td><strong>Kinx</strong></td>
<td align="center">0.594</td>
<td align="center">4.219</td>
<td align="center">6.859</td>
</tr>
<tr>
<td><strong>Python</strong></td>
<td align="center">0.750</td>
<td align="center">5.539</td>
<td align="center">9.109</td>
</tr>
<tr>
<td></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>Value</td>
<td align="center">9227465</td>
<td align="center">63245986</td>
<td align="center">102334155</td>
</tr>
</tbody>
</table>
<p>Ruby is super fast. Slow is just a story of the past. Rather, it seems that it may be in the fast category.</p>
<p>I won Python, so it&rsquo;s like this. I&rsquo;m not thinking of becoming a speed king, so let&rsquo;s set it as an acceptable range if it is a practical speed. However, Kinx has a special move called <code>native</code>. To be honest, I don&rsquo;t know how useful it is in practical use, but I tried to put it in with the possibility. The source code is below. Just changed <code>function</code> to <code>native</code>.</p>
<pre><code class="language-javascript:nfib.kx" data-lang="javascript:nfib.kx">native fib(n) {
    if (n &lt;3) return n;
    return fib(n-2) + fib(n-1);
}

System.println(fib($$[1].toInt()));
</code></pre><p>Let&rsquo;s add to the table above to see what effect this minor fix would have on the results.</p>
<table>
<thead>
<tr>
<th>Language</th>
<th align="center"><code>fib(34)</code></th>
<th align="center"><code>fib(38)</code></th>
<th align="center"><code>fib(39)</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Kinx(native)</strong></td>
<td align="center"><strong>0.063</strong></td>
<td align="center"><strong>0.453</strong></td>
<td align="center"><strong>0.734</strong></td>
</tr>
<tr>
<td><strong>Ruby</strong></td>
<td align="center">0.391</td>
<td align="center">2.016</td>
<td align="center">3.672</td>
</tr>
<tr>
<td><strong>Kinx</strong></td>
<td align="center">0.594</td>
<td align="center">4.219</td>
<td align="center">6.859</td>
</tr>
<tr>
<td><strong>Python</strong></td>
<td align="center">0.750</td>
<td align="center">5.539</td>
<td align="center">9.109</td>
</tr>
<tr>
<td></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td>Value</td>
<td align="center">9227465</td>
<td align="center">63245986</td>
<td align="center">102334155</td>
</tr>
</tbody>
</table>
<p>Kita.</p>
<p>I think it&rsquo;s already known, but I dare to reveal the fact that the function with the <code>native</code> keyword is natively compiled into machine language code as its name suggests, and JIT is executed. That&rsquo;s fast. However, the output assembly code is neither optimized nor register-allocated, which is not very beautiful. I do not know if it will be useful in practice, because there are various restrictions. I will touch it later, but I won&rsquo;t touch it today. For details, see <a href="https://github.com/Kray-G/kinx/blob/master/doc/QuickReference.md">“Here”</a>.</p>
<h1 id="other-features">Other features</h1>
<p>I won&rsquo;t explain it in detail this time because it will be a series, but I will show only what I can do.</p>
<h2 id="prototype-base">Prototype base</h2>
<p>Prototype-based like JavaScript. However, there is no such thing as <code>__proto__</code>. Methods are bound directly to object properties. If you want to override it, simply overwrite it. There is a <code>class</code> keyword that allows class definition. Like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ClassName</span> {

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">privateVar_</span>;

    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">initialize</span>() {
        <span style="color:#a6e22e">privateVar_</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">publicVar</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }

    <span style="color:#75715e">/* private method */</span>
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">method1</span>() {<span style="color:#75715e">/* ... */</span>}
    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">method2</span>() {<span style="color:#75715e">/* ... */</span>}

    <span style="color:#75715e">/* public method */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">method3</span>() {<span style="color:#75715e">/* ... */</span>}
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">method4</span>() {<span style="color:#75715e">/* ... */</span>}

}

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">ClassName</span>();
</code></pre></div><h2 id="garbage-collection">Garbage collection</h2>
<p>Simple mark and sweep of Stop The World. So far, I&rsquo;m not in trouble (I&rsquo;m not using it enough to bother me), so no problem. If there is a problem, think then.</p>
<h2 id="closure">Closure</h2>
<p>Function objects have lexical scope and can be closures. If it becomes JavaScript (but it doesn&rsquo;t), it&rsquo;s a natural operation. Like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">newCounter</span>() {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e">// a lexical variable.
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>() {<span style="color:#75715e">//an anonymous function.
</span><span style="color:#75715e"></span>        <span style="color:#f92672">++</span><span style="color:#a6e22e">i</span>; <span style="color:#75715e">// a reference to a lexical variable.
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">i</span>;
    };
}

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newCounter</span>();
<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">c1</span>()); <span style="color:#75715e">// 1
</span><span style="color:#75715e"></span><span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">c1</span>()); <span style="color:#75715e">// 2
</span><span style="color:#75715e"></span><span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">c1</span>()); <span style="color:#75715e">// 3
</span><span style="color:#75715e"></span><span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">c1</span>()); <span style="color:#75715e">// 4
</span><span style="color:#75715e"></span><span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">c1</span>()); <span style="color:#75715e">// 5
</span></code></pre></div><h2 id="lambda">Lambda</h2>
<p>Anonymous function objects can be expressed concisely. Arrow functions were introduced in ES6, but they aren&rsquo;t exactly the same and require a leading <code>&amp;</code>. Why you ask? I couldn&rsquo;t write well with Yacc. I am unable to resolve the conflict (sorry). Like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">calc</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">func</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">func</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>);
}

<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;add = &#34;</span><span style="color:#f92672">+</span> <span style="color:#a6e22e">calc</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>, <span style="color:#f92672">&amp;</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>));
<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;sub = &#34;</span><span style="color:#f92672">+</span> <span style="color:#a6e22e">calc</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>, <span style="color:#f92672">&amp;</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span><span style="color:#f92672">-</span><span style="color:#a6e22e">b</span>));
<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;mul = &#34;</span><span style="color:#f92672">+</span> <span style="color:#a6e22e">calc</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>, <span style="color:#f92672">&amp;</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">b</span>));
<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;div = &#34;</span><span style="color:#f92672">+</span> <span style="color:#a6e22e">calc</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>, <span style="color:#f92672">&amp;</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">b</span>));
<span style="color:#75715e">// add = 12
</span><span style="color:#75715e">// sub = 8
</span><span style="color:#75715e">// mul = 20
</span><span style="color:#75715e">// div = 5
</span></code></pre></div><h2 id="fiber">Fiber</h2>
<p>Actually, I have never used this function. However, it is in Ruby and implemented because it seems convenient. I tried it with a light feeling that I could do it like this, so it worked quite well. However, since the stack state is not retained at the time of <code>yield</code>, <code>yield</code> is valid only as a single expression statement. Substitution is possible. What I mean is that you can&rsquo;t directly embed <code>yield</code> as a function argument, but expression statements like <code>a = yield 10;</code> are OK. At this time, the array of arguments of the caller comes in <code>a</code>. A simple sample looks like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">fiber</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Fiber</span>(<span style="color:#66d9ef">function</span>() {
    <span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;fiber 1&#34;</span>);
    <span style="color:#66d9ef">yield</span>;
    <span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;fiber 2&#34;</span>);
});

<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;main 1&#34;</span>);
<span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">resume</span>();
<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;main 2&#34;</span>);
<span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">resume</span>();
<span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;main 3&#34;</span>);
<span style="color:#75715e">// main 1
</span><span style="color:#75715e">// fiber 1
</span><span style="color:#75715e">// main 2
</span><span style="color:#75715e">// fiber 2
</span><span style="color:#75715e">// main 3
</span></code></pre></div><h2 id="spread-operator">Spread operator</h2>
<p>Spread (rest) operator introduced in ES6. Yes, I wanted this. Super convenient. There are various uses, but it is like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sample</span>(<span style="color:#a6e22e">a1</span>, <span style="color:#a6e22e">a2</span>, ...<span style="color:#a6e22e">a3</span>) {
    <span style="color:#75715e">// a1 = 1
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// a2 = 2
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// a3 = [3, 4, 5]
</span><span style="color:#75715e"></span>}

<span style="color:#a6e22e">sample</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>);
</code></pre></div><h1 id="finally">Finally</h1>
<p>Thank you for reading this far. Well, if you feel like it, try using it. I don&rsquo;t think there is any practical use yet.</p>
<p>Contributions are welcome. The easiest contribution is to click the &ldquo;★&rdquo;. It&rsquo;s still very small, but if you increase it, you&rsquo;ll get more motivated. I hope ★ increases.</p>
<p><a href="https://github.com/Kray-G/kinx">Here (https://github.com/Kray-G/kinx)</a>.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
