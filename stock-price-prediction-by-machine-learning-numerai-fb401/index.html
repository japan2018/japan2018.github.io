<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Stock Price Prediction by Machine Learning Numerai | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Stock Price Prediction by Machine Learning Numerai</h1>
<p>
  <small class="text-secondary">
  
  
  Apr 16, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/machine-learning"> machine learning</a></code></small>


<small><code><a href="https://memotut.com/tags/stock-prices"> stock prices</a></code></small>


<small><code><a href="https://memotut.com/tags/finance"> finance</a></code></small>


<small><code><a href="https://memotut.com/tags/big-data"> big data</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>The general public may not have heard about it, but there is a hedge fund called &ldquo;<a href="https://numer.ai/">Numerai</a>&rdquo;. It is a hedge fund that has been known a little in the neighborhood by being covered by media such as Wired and Forbes from the latter half of 2016 to the first half of 2017. This hedge fund is a so-called crowdsourcing type fund that operates based on the forecast results of stock prices by an unspecified number of people.</p>
<p>I also participated in Numerai around 2017. Numerai&rsquo;s method is a tournament method that is ranked based on prediction results, that is, it is like Kaggle. The tournament is held weekly and the top rankings are paid in cryptocurrencies. However, the tournament at that time had an unclear ranking standard, and the fluctuation of the ranking was tremendous (e.g., although it was in TOP10, it fell below 100 in the next week), and it was a so-called unlucky game. ..</p>
<p>Recently, due to some circumstances, I took a peek at Numerai for the first time in about three years. If so, the specifications of the tournament may be much more sophisticated than in 2017. It is quite interesting to download the dataset and observe the features. I thought this was a great test case for those involved in finance M/L, so I was canned for about a week and wrestled with the dataset.</p>
<p>Numerai&rsquo;s datasets and tournaments are very useful materials for those who are interested in finance M/L. I would like to take this opportunity to introduce it to readers.</p>
<p>About #Numerai
A little more about Numerai. For an overview of Numerai, please first refer to the [past blog] I wrote in 2017 (<a href="http://we.love-profit.com/entry/2017/03/05/143748)">http://we.love-profit.com/entry/2017/03/05/143748)</a>. If you summarize the features of Numerai on that,</p>
<ul>
<li>Numerai conducts meta-learning based on the prediction results collected from the participants and operates based on the results.</li>
<li>Numerai&rsquo;s data set is kept secret, and participants cannot know what its features or the target stocks are.</li>
<li>Only the prediction result is submitted to Numerai, and it is not necessary to submit the prediction model. The intellectual property of the participants is protected, so Numerai can collect a large amount of prediction results.</li>
<li>Marcos Prado, author of finance machine learning and head of ML at AQR, has been appointed as an advisor.</li>
<li>Numerai is also funded by the renowned hedge fund Renaissance Technology.</li>
<li>Numerai&rsquo;s own assets and yields are undisclosed and completely unknown, but the total prize money paid to the participants so far has exceeded 2.5 billion yen, and it is presumed that the investment status is good. ..</li>
</ul>
<h1 id="tournament-specifications">Tournament specifications</h1>
<p>Now, let&rsquo;s look at the tournament specifications. Numerai tournaments are held weekly, with new datasets available for download on weekends. The deadline for uploading is 23:30 (Japan time) on the following Monday. The procedure for creating a forecast to upload is as follows.</p>
<h3 id="download-dataset">Download dataset</h3>
<p>When you log in, there is a download button on the left side of the screen. Just press this. The downloaded Zip file contains the following datasets.</p>
<ul>
<li>numerai_training_data.csv</li>
<li>numerai_tournament_data.csv</li>
</ul>
<p>training_data is a training dataset and tournament_data is a forecasting dataset. These are provided as CSV, but it is difficult to open them in Excel because of their large capacity. For reference, the dimension of trainig_data is (310 features + α) × about 500,000 samples and its capacity is 770MB, and the dimension of tournament_data is (310 features + α) × about 1.7 million samples and its capacity is 2.6GB. Reach The contents of the dataset will be discussed in a little more detail in later chapters.</p>
<h3 id="model-creation--submission-of-prediction-results">Model creation ~ Submission of prediction results</h3>
<p>Python or R will be suitable for creating the model. Sample code is provided for both. When you download the dataset, the sample code is also included. For reference, the code provided on HP of Numerai is listed below (Python ver.).</p>
<p>All you have to do is upload the CSV created in the following steps on the Numerai website. It&rsquo;s easy.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd
<span style="color:#f92672">from</span> xgboost <span style="color:#f92672">import</span> XGBRegressor

<span style="color:#75715e"># Read the csv file into a pandas Dataframe</span>
training_data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#34;numerai_training_data.csv&#34;</span>)<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#34;id&#34;</span>)
tournament_data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#34;numerai_tournament_data.csv&#34;</span>)<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#34;id&#34;</span>)
feature_names <span style="color:#f92672">=</span> [f <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> training_data<span style="color:#f92672">.</span>columns <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;feature&#34;</span> <span style="color:#f92672">in</span> f]

<span style="color:#75715e"># train a model to make predictions on tournament data</span>
model <span style="color:#f92672">=</span> XGBRegressor(max_depth<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, learning_rate<span style="color:#f92672">=</span><span style="color:#ae81ff">0.01</span>, \
                     (n_estimators<span style="color:#f92672">=</span><span style="color:#ae81ff">2000</span>, colsample_bytree<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>)
model<span style="color:#f92672">.</span>fit(training_data[feature_names], training_data[<span style="color:#e6db74">&#34;target&#34;</span>])

<span style="color:#75715e"># submit predictions to numer.ai</span>
predictions <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>predict(tournament_data[feature_names])
predictions<span style="color:#f92672">.</span>to_csv(<span style="color:#e6db74">&#34;predictions.csv&#34;</span>)
</code></pre></div><h3 id="model-evaluation">Model evaluation</h3>
<p>Accuracy and Logloss are used to evaluate general machine learning models, while Rank Correlation is used to evaluate Numerai tournament models. This is very good. Because the trading skill is the Information Coefficient, that is, the correlation coefficient between the forecast target and the investment index used for the forecast. The idea around here is based on the traditional active operation theory, and if you are interested, my <a href="http://we.love-profit.com/entry/2018/04/01/152750">past blog</a> Please refer to. Rank Correlation can be calculated with the following code. This code is also provided by Numerai.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">ranked_prediction <span style="color:#f92672">=</span> training_data[<span style="color:#e6db74">&#34;prediction&#34;</span>]<span style="color:#f92672">.</span>rank(pct<span style="color:#f92672">=</span>True, method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;first&#34;</span>)
correlation <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>corrcoef(training_data[<span style="color:#e6db74">&#34;target&#34;</span>], ranked_prediction)[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>]
</code></pre></div><h3 id="leaderboard-ranking">Leaderboard ranking</h3>
<p>Leaderboards are ranked by reputation. Reputation is the average value of Rank Correlation in the forward prediction for the last 100 days (*The tournament specification has been updated recently. The old specification was the average value of the last 20 tournaments. The document on this has not been updated yet. It doesn&rsquo;t seem).</p>
<p>There is another indicator on the leaderboard called MMC (Meta Model Contribution). This is the correlation value with the meta model that Numerai actually operates. This indicator has just been implemented in the latest update, and it is displayed, but it does not seem to work yet at the time of article publication.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/7d6604a5-5e7a-e53a-6a8c-45e15af248c3.png" alt="01.png"></p>
<h1 id="reward-system">Reward system</h1>
<p>Now, I will explain the reward system of Numerai, which is the most interesting thing for readers. First of all, as a major premise, &ldquo;Numerai rewards are paid in NMR (Numeraire), a cryptocurrency unique to Numerai&rdquo;. At this point, if you think that cryptocurrency is not well understood and troublesome, you can skip this chapter.</p>
<p>Another major premise is that you need to stake your NMR to get rewards. This will be explained in a little more detail.</p>
<h3 id="about-stake">About stake</h3>
<p>Some people may have a rejection reaction when proceeding with NMR, so here we proceed in yen.</p>
<p>Suppose one of the participants made a confident prediction. I want to get a reward with this. If you think so, bet 10,000 yen on your prediction result. As a result, if the prediction is good, a reward according to 10,000 yen bet is obtained. On the contrary, if the prediction is bad, part of the 10,000 yen bet will be collected for operation.</p>
<p>This is a cumbersome specification, but it is unavoidable if you think carefully. If the user does not take any risk, for example, if you keep about 1000 accounts and continue to submit appropriate prediction results, you may get good results and get rewards. The purpose is to prevent it. In addition, the amount of stake is very important when Numerai builds a meta model, as the amount of bet can show the confidence of the participants.</p>
<p>The stake reward has the following specifications. Depending on the Rank Correlation in that tournament round, the reward will be awarded or collected. Up to 25% of the bet amount is granted and collected.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/864e312e-be3d-7180-dec3-1d06e509abd5.png" alt="02.png"></p>
<p>To be a little more specific, the Rank Correlation value in each tournament round is roughly between -0.15 and +0.15 (that is, the collection/grant is within -15% to +15% of the bet amount). The variation between each round is quite large, but on average a skilled participant will settle to around 0.03. In other words, if you participate for a long time, you can expect a reward of about +3% per round.</p>
<h3 id="daily-bonus">Daily Bonus</h3>
<p>&ldquo;Only 3%?&rdquo; I think many people think so. There is another way to get big rewards with Numerai. That is the ranking.
If you are ranked high on the leaderboard, a daily bonus will be given according to the amount of stake. 5% for the top ranking and 4% for the TOP10. If you can maintain the TOP10 ranking, you can enjoy a huge yield of 4% per day. However, the following conditions exist.</p>
<ul>
<li>Payout 5 days a week</li>
<li>Earn money can be compounded every Thursday-Payout will be applied 100 days after stake (after 100 days forward forecast)</li>
</ul>
<p>Also, of course, Numerai has an upper limit on the amount payable to all participants, up to 250 NMR per day (current market price is 450,000 yen). Beyond this, the reward will be divided evenly by what the participant should receive so that the total payment is within the cap. It is quite possible to get tens of thousands of yen per day if you take a gut-stake and reign in the top rankings. The target reward is about 1 million yen per month. That would be enough for data income as a data scientist.</p>
<p>However, it should be noted that NMR is a low-credit cryptocurrency called the so-called grass coin. The price fluctuates drastically and we do not know when it will be garbage. Although it is listed on a cryptocurrency exchange, it may not be able to convert a fixed amount into a fixed amount due to its low liquidity. Cryptocurrency is also disadvantageous in tax treatment, and if you handle the remittance incorrectly, you will lose it and you will not be able to return it. It is important to enjoy &ldquo;surplus funds&rdquo; within the scope of &ldquo;self-responsibility.&rdquo; If you make a mistake, don&rsquo;t expect to make a profit from the NMR trading profit.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/4f3046de-e920-7389-edfd-aadb3df337ea.png" alt="03.png"></p>
<p>#data set
Next, I will explain the contents of the dataset. The dataset has been supervised by Marcos Prado since 2019. Prado&rsquo;s book &ldquo;Finance Machine Learning,&rdquo; which was released in December 2019, was sold stupidly on Amazon, so many people should have seen it. Under the supervision of Mr. Prado, the total number of features has been expanded from the previous 40 to about 300. Prado has also published a Numerai dataset <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3454234">paper</a>. Those who are interested should read it.</p>
<p>About ### items
The items of the data set are as follows. The number of samples is approximately 500,000 for training_data and 1.7 million for tournament_data.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/cfef062b-5c76-a53f-1999-68186b15d00c.png" alt="04.png"></p>
<ul>
<li>id is a numerical value assigned to each sample individually, and there is no duplicate in all samples. It is considered that the numerical value of id is the encrypted date and time and the stock name.</li>
<li>era indicates the period of data. training_data includes 120 periods from era1 to era120. Since the stock market changes over time, it is necessary to perform EDA considering the term structure of the data set. Note that there is no explanation as to whether or not era1 to era120 are in chronological order. Also note that the number of samples is different for each era.</li>
<li>data_type is only train in training_data. There are 3 types of tournament_data: validation, test and live. validation is data for model validation, and target is attached. test is a set that Numerai uses for grade determination, and target is a nan value. live is the ongoing market data. Naturally, target is a nan value. The number of features is different for each.</li>
<li>The total number of features is 310. Each feature is given a subname. intelligence (charging), charisma (charming), strength (muscular strength), dexterity (agility), constitution (endurance), wisdom (judgment). This is named after the RPG status name of Dungeons &amp; Dragons.</li>
<li>target is teacher data.</li>
</ul>
<p>About the values of ###feature and target
As you may have noticed by looking at the above data, the values of feature and target are discrete values. There are five types of values, 0, 0.25, 0.5, 0.75, and 1, and in short, this is the quintile data that tends to occur in quant operations. Observing the histogram for each era is as follows. Some have the same number of samples in each quantile, and some do not. The original series of features such as feature_constitution1 in the figure below may have a fat-tailed distribution, or there may be extremely few hits such as categorical variables. I proceed with EDA while thinking in that way.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/d86b4512-dd1c-0aca-3d2b-f85aebc50b84.png" alt="05.png"></p>
<h3 id="regarding-the-period-structure">Regarding the period structure</h3>
<p>Next, let&rsquo;s look at the change in the number of samples for each era. The number of samples differs considerably for each era as follows. Correlation or whatever needs to be followed in chronological order. Since the number of samples seems to be almost continuous, it is highly possible that era1 to era120 are arranged in chronological order.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/d62519e1-69ac-ee0d-566b-9984bf859308.png" alt="06.png"></p>
<h3 id="further-eda">Further EDA</h3>
<p>The above is the basics, and as EDA is advanced, various things will become clear. The dataset is much more sophisticated and interesting than it was in 2017. &ldquo;I see, it&rsquo;s only supervised by Prado. This tournament shouldn&rsquo;t be a lucky game.&rdquo; I am certain of the author.</p>
<h1 id="tournament-participation-results">Tournament participation results</h1>
<p>I will participate in Numerai from ROUND 208 next time. The model has already been made and the result of validation was good. The reputation used for ranking is the result of the forward prediction for the last 100 days, and -0.1 is applied uniformly on days without data. Therefore, new participants will start with a -0.1 reputation and gradually increase in rank as the forward prediction results accumulate.</p>
<p>This chapter will be updated one by one.</p>
<p>(Added 2020/4/19)
I submitted the ROUND 208 prediction as scheduled. Validation Correlation is 0.034, which is a decent value. By the way, I stake all the NMR I have. The price is 26 NMR (about 60,000 yen as of 4/19), which is the reward I got when I participated in 2017. Note that the payout will be applied 100 days later, again.</p>
<p>(Updated on April 24, 2020)
The result of ROUND 208, which was the first submission, was good. While all of the TOP 10 rankings were negative ROUND CORRELATION, my model was able to finish positively (the table below is my total).
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/4e3b5fef-0744-88b5-03ab-ed5db22c6912.png" alt="ROUND208-2.png"></p>
<p>(Added on April 30, 2020)
The above result was a total of only the first day of ROUND208 (I misunderstood that it was a fixed value when ROUND ended. Excuse me). The actual ROUND is 20 days, and the correlation value changes daily during the period. Today, the distribution of correlation and MMC of TOP100 users and the position of the author are shown after 5 days of ROUND208. So far so good. I added MMC to the chapter below, so please check that as well.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/40d6a0b0-d46a-66b4-9a0c-c24bcb5c0b02.png" alt="round208_submission_dist.png"></p>
<p>(Added on May 22, 2020)
I updated the model ver several times and settled from ROUND212 to almost the final model. I plan to see the situation for a while.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/d390f7cc-4dc1-c16e-369b-7b9a3ee70681.png" alt="21.png"></p>
<p>#Additional information (established April 25, 2020)
Since I actually learned about ROUND208 and found out various things, I will establish this chapter. In the future, if there is anything I understand, I will add it to this chapter.</p>
<p>(Added 2020/4/25)</p>
<ul>
<li>
<p>I wrote that payout will be applied from 100 days later, but it was found that this is a condition regarding daily bonus and that rewards/collections according to Correlation will be made immediately from the staked round (see the figure below).</p>
</li>
<li>
<p>~~ I wrote that the payout amount by Correlation is generated according to Rank Correlation in each tournament round, but this was not accurate. I thought that rewards/grants would only be given once when the round ended and the correlation through that round was finalized, but in reality, the award/collection will occur daily depending on the daily correlation during that round. It turned out that (the figure below). ~~</p>
</li>
<li>
<p>Because I was able to understand the concrete time schedule of the round, I will describe it (all times below are Japan time). The dataset will be updated on Sunday morning. I expected the deadline for submission of prediction to be 23:30 on Monday, but the deadline for submission on ROUND208 was 0:30 on Tuesday. Also, the start date of the round seems to be Thursday. Taking ROUND208 as an example, the dataset could be DL early in the morning of 4/19 (Sun), the deadline for submission of the prediction was 4:30 on Tuesday, April 21, and the round started on April 23 ( It was a tree (below).
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/e80a8bb0-461a-4e04-c464-d9f30f62804a.png" alt="07.png"></p>
</li>
<li>
<p>training_data is basically unchanged. Therefore, it is not necessary to recreate the model each time the dataset is downloaded. Improvements may be made based on the results of submissions from the previous round, but the results of the rounds will vary, and the model change should not be judged based on the short-term results.</p>
</li>
<li>
<p>About cheating. As discussed in the Numerai forum, using 3 accounts to keep the average total correlation close to 0 (that is, to reduce the risk of being staked to 0), but with a lucky lucky top daily account It has been confirmed that the aim is to aim at (it seems that the daily bonus payout is applied 100 days later to prevent such attacks). Therefore, the reward system may change in the future.</p>
</li>
</ul>
<p>(Added 2020/4/30)-The data structure of Validation will be changed from ROUND210. There is no change in tournamnet_data due to this. Specifically, as shown in the figure below, two periods of Validation will be prepared. Detailed announcement is here [https://forum.numer.ai/t/validation-2-announcement/166). Data on the corona shock period is included in either of them. The test data and live data are weekly, but the actual ROUND is held for 4 weeks (=1 month), so there is no difference from the training data.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/3a1ac879-5e7d-f43b-ffb5-c3e46c84ca4b.png" alt="08.png"></p>
<ul>
<li>
<p>For reference, I have listed the Validation Correlation of all ROUND208 participants. There is a user with extremely high correlation when looking at the whole (left figure), but this is because the validation data included in tournament_data is also included in the training data to build the model. If you have your own out-of-sample prediction performance, I think this is a good way to do it. If you check in the realistic range (right figure), you can see that there are many 0.03 units. Users with extremely low Validation Correlation may have other intents such as cheats.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/dc402802-ace4-49cb-0ab6-f283e5a27436.png" alt="round208_validation_dist.png"></p>
</li>
<li>
<p>Payout by MMC will start from the end of May 2020. The user will be able to select whether the payout is based on the correlation or the MMC (the payout by the MMC multiplies the MMC by 2). Accordingly, the ranking bonus will be abolished by September 2020. The background to changes in the reward system is described below.</p>
</li>
<li>
<p>If you abolish the ranking bonus to prevent cheating, the only payout to users is correlation. If the payout is awarded/collected only based on whether the prediction is good or bad, there will be no incentive for users to participate in the tournament. (Users with high prediction performance can make stock investment by themselves. Correlation can be set arbitrarily by the management side There is no need to make opaque bets because of the existence of gender). If payout is used as the MMC (contribution to metamodel) standard, even if the prediction performance is low, a reward can be obtained according to the contribution to the model. If the MMC standard is used for the correlation standard, 86 of the current TOP100 users will receive more rewards. See [here] for details (<a href="https://forum.numer.ai/t/mmc-payout-details-and-analysis/220)">https://forum.numer.ai/t/mmc-payout-details-and-analysis/220)</a>.</p>
</li>
<li>
<p>Detailed calculation method of MMC is <a href="https://forum.numer.ai/t/mmc2-announcement/93">here</a>.Toputitsimply,itisthecorrelationbetweentheremainingpart(residualpart) obtained by removing the correlation with the metamodel from the own model and the return. It is an indicator of how the originality part of the model is tied to predicting returns.</p>
</li>
</ul>
<p>(Added May 1, 2020)</p>
<ul>
<li>Recently, the format of Numerai&rsquo;s tournament page and each user&rsquo;s profile page was changed, which allowed us to deepen our understanding of tournament specifications and reward system. Numerai&rsquo;s documents often lack information, so we try to understand the actual tournament specifications and reward system while checking the actual machine. For this reason, the content of the article may be incomplete or it may change over and over, but please forgive me. Also, if you have any notes, it would be greatly appreciated if you could comment.</li>
<li>In Numerai, it seems that 4 ROUNDs are held in parallel. This is because one ROUND is 4 Week and a new ROUND starts every week. The description of the payout in the ongoing ROUND (Resolving Round) is just a provisional (Pending), and the actual payout is made after the ROUND is completely finished (that is, 4 weeks after the ROUND starts, the Resolved And then).</li>
</ul>
<p>(Added 2020/5/5)</p>
<ul>
<li>ROUND210 has now two validation periods. These are all labeled with the same label &ldquo;validation&rdquo;, but for the sake of convenience in this article, we will call the data for the period that was previously used as validation1 and the data for the newly added period as validation2. The performance of validation2 is overwhelmingly worse than validation1. validation2 is truly out-of-sample data. To be honest, I think this is a management mistake. The addition of validation2 reveals that validation1 does not deserve any validation data. I am wondering what to do in the future after this change.
For the time being, I have estimated the Valida toin Correlation of validation2 of TOP100 users so I will describe it. The missing part is the part that could not be estimated. We believe that 0.01-0.015 is appropriate for the Validation Correlation in at least the Validation 2 period. After all, the validation correlation of ROUND210 submitted by the author during the validation2 period was set to about 0.013.</li>
</ul>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/098ef63e-affc-a577-aae8-cb24c9744db9.png" alt="12.png"></p>
<p>(Added May 22, 2020)
Numerai allows submission of multiple models, but until now it was necessary to register each account with an independent email address. This time, it has been changed to allow submission of up to 10 models per account. The stake amount can be assigned and managed for each model. The setting method is <a href="https://forum.numer.ai/t/announcing-general-availability-of-multi-model-account-support-for-all-users/399">here</a>.</p>
<p>The author has submitted two models. The sub model is for the monitor, and after seeing it for a few rounds, if the performance is good, we will combine it with the main model.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/8abf3a1f-dc0b-0fb9-7427-af9ed3b22066.png" alt="20.png"></p>
<p>#Numerai API (established May 1, 2020)
There is an API of Numerai so I will introduce it. You can use this API to submit DL and prediction of dataset. But more useful would be the ability to aggregate user information. Below is the sample code to get Round Correlation and MMC of TOP100 users on the last day of each Round. Please be careful not to hit too much because you do not know the API limit well. I will introduce other useful methods.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> time
<span style="color:#f92672">import</span> numerapi
<span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt

round <span style="color:#f92672">=</span> <span style="color:#ae81ff">208</span>
api <span style="color:#f92672">=</span> numerapi<span style="color:#f92672">.</span>NumerAPI()

LB <span style="color:#f92672">=</span> api<span style="color:#f92672">.</span>get_leaderboard(limit<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>) <span style="color:#75715e"># TOP100 user</span>
users <span style="color:#f92672">=</span> [LB[i][<span style="color:#e6db74">&#34;username&#34;</span>] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(LB))]

submission_corr <span style="color:#f92672">=</span> []
mmc <span style="color:#f92672">=</span> []

<span style="color:#66d9ef">for</span> user <span style="color:#f92672">in</span> users:
    sub <span style="color:#f92672">=</span> api<span style="color:#f92672">.</span>daily_submissions_performances(username<span style="color:#f92672">=</span>user)
    sub_round <span style="color:#f92672">=</span> [sub[i] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(sub)) <span style="color:#66d9ef">if</span> sub[i][<span style="color:#e6db74">&#34;roundNumber&#34;</span>]<span style="color:#f92672">==</span>round]
    submission_corr<span style="color:#f92672">.</span>append(sub_round[<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#34;correlation&#34;</span>])
    mmc<span style="color:#f92672">.</span>append(sub_round[<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#34;mmc&#34;</span>])
    time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.5</span>)

plt<span style="color:#f92672">.</span>hist(submission_corr)
plt<span style="color:#f92672">.</span>hist(mmc)
</code></pre></div><p>#Numerai Community (Established May 22, 2020)
Numerai has an open chat community on a platform called Rocket.chat. Rocket.chat is like a discord. There are discussions about significant changes in tournaments and data science for models. If there is any useful information, I will pick it up and introduce it in this chapter, but especially those who are seriously working should definitely join the community. The author&rsquo;s ID in the community is uki1.</p>
<p><a href="https://community.numer.ai/home">community.numer.ai</a></p>
<p>(Added May 23, 2020)
Payout by MMC has started, and it seems that the community is using a method of neutralizing its own prediction results. MMC neutralizes the metamodel, but of course the metamodel is unknown, so it considers the prediction result of the Example model as a typical prediction result, and neutralizes its own prediction result against it. By doing this, it is possible to keep the correlation with a typical model low (however, it remains a matter whether prediction performance remains). Below is the code for neutralize. It has been reported that neutralization is performed with proportion=0.5 or so and that the prediction performance can still be maintained. In the next round 213, try neutralize for the time being, and if the prediction performance remains, it is not bad to submit one prediction result after neutralize.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np

<span style="color:#75715e"># series is the prediction result of itself, by is the prediction result that is the standard of neutralize (in MMC, the prediction result of the meta model)</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">neutralize_series</span>(series, by, proportion<span style="color:#f92672">=</span><span style="color:#ae81ff">1.0</span>):
    scores <span style="color:#f92672">=</span> series<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)
    exposures <span style="color:#f92672">=</span> by<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)exposures <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>hstack((exposures, np<span style="color:#f92672">.</span>array([np<span style="color:#f92672">.</span>mean(series)] <span style="color:#f92672">*</span> len(exposures))<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)))
    correction <span style="color:#f92672">=</span> proportion <span style="color:#f92672">*</span> (exposures<span style="color:#f92672">.</span>dot(np<span style="color:#f92672">.</span>linalg<span style="color:#f92672">.</span>lstsq(exposures, scores)[<span style="color:#ae81ff">0</span>]))
    corrected_scores <span style="color:#f92672">=</span> scores<span style="color:#f92672">-</span>correction
    neutralized <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(corrected_scores<span style="color:#f92672">.</span>ravel(), index<span style="color:#f92672">=</span>series<span style="color:#f92672">.</span>index)
    <span style="color:#66d9ef">return</span> neutralized
</code></pre></div><p>#Advantage strategies in tournaments (established May 2, 2020)
By the above, it has been stated that the ranking bonus will be abolished and that the payout will shift to a selection system based on Correlation or MMC. Correlation-based payouts are entirely dependent on the participant&rsquo;s individual predictive skills, have no income asymmetry, and there is no incentive for participants other than arm trials to choose. If participants choose the MMC criteria here, will participants really get the revenue asymmetry? This chapter analyzes the MMC and considers the participant&rsquo;s superiority strategy with the primary purpose of reward.</p>
<h3 id="top100-analysis">TOP100 analysis</h3>
<p>Before conducting an analysis on MMC, we first analyze the model that is currently (as of May 2, 2020) built by TOP100 users. First, for the TOP100 users, we will perform clustering of their prediction model based on the transition of Submission Correlation of the last 20 Rounds (see the figure below). This is because there are many users with similar trends.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/397d21e9-60d0-d3fe-b199-dfdd14bd30c9.png" alt="09.png"></p>
<p>SOM was used as the clustering method. In order to show the characteristics of each region in the difference of plots, gradation was added to the plots by prediction skill (reputation) and correlation with metamodel (corr w/ metamodel).
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/837870cd-ad65-84e1-83cf-913727672bd7.png" alt="10.png">
Now, when you look at this, there are obviously different users. They are madmin and wilfred, who are located in the lower left of the SOM map, that is, the first and second place in the ranking. Currently ranked 1st, madmin is suspected of cheating (<a href="https://forum.numer.ai/t/leaderboard-bonus-exploit-uncovered/200">Reference site</a>).Unfortunately,second-rankedMr.Wilfredwilldothesame.ItcanbeinferredfromtheirclearlylowValidationCorrelation(seethefigurebelow).Forreference,Ithinkthatmymodelislocatedintheupperleftgrouponthemap(becauseoflackofdata,itisinferredfromthebehaviorsofar).
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/e3ea3208-e69c-b05b-9b37-55639e843f0c.png" alt="11.png"></p>
<p>The question is, which part of the map can be most effectively rewarded** after excluding the two. You may simply improve your prediction skills, but if the correlation with the metamodel becomes large, MMC may be lowered and rewards may be reduced. Based on the MMC specifications, we will examine what will be the superiority strategy for maximizing rewards (scheduled for next report).</p>
<p>(Added May 19, 2020)
I will report the summary of the payout findings by MMC. First, the definition of MMC is <a href="https://forum.numer.ai/t/mmc2-announcement/93">here</a>.Briefly,whenthepredictionisconsideredasanN-dimensionalvector,MMCisthecorrelationbetweenthe&quot;orthogonalcomponentofthemetamodelvectorandtheuserpredictionmodelvector&quot;andthetargetvector.Thefollowingisaschematicdiagraminthecaseoftwodimensions(N=2).Atthistime,thecorrelationcoefficient,whichisthepredictionperformance,indicatestheanglethateachvectormakeswiththetarget(correctly,cosθ).Inthisfigure,thetargetvectorisfixedtothe(1,0) component, so the prediction performance is positive if the prediction vector is in the first quadrant. Conversely, if the prediction vector is in the second quadrant, the prediction performance will be negative. In the figure below, the prediction performance of the user model is positive, but the direct component with the meta model is negative, which means that the payout will be negative for MMC. This relationship is greatly influenced by the positional relationship between the target, metamodel, and user vector.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/1dfde04d-9648-7c92-8da3-e23eac997161.png" alt="18.png"></p>
<p>As shown in the figure above, 2D is too extreme, so here we generated random numbers for N=5000 and observed the relationship between each parameter and payout by Monte Carlo. The figure below compares old payouts with new payouts. The prediction performance of the meta model and the correlation between the meta model and the user model are used as parameters. The red line diagonally drawn on the graph is the line showing old payout: new payout = 1:1. The plot located on the upper left of this red line has new payouts, and on the contrary it is located on the lower right. The plot is a sample where the payout is reduced with a new payout.</p>
<p>The first thing to notice is that when the metamodel is in good shape (top row), MMC payouts tend to be lower than traditional payouts (ie simple predictive performance). On the contrary, when the metamodel is out of order (bottom row), MMC payouts tend to be higher than conventional payouts. That is, there is an effect of smoothing the payout to the user during a period in which the prediction is favorable (a period in which the prediction is easy) and a period in which the prediction is poor (a period in which the prediction is difficult).</p>
<p>Next, looking at each correlation with the meta model, it can be seen that the regression coefficient increases as the correlation becomes lower (as it goes to the right column). It can be seen that when the correlation is low, the MMC payout largely fluctuates compared to the conventional payout (that is, simple prediction performance). This means that if the correlation with the metamodel becomes low, the payout will be leveraged against its own prediction performance.</p>
<p>Finally, regarding profit asymmetry, as can be seen from the graph, it can be seen that the payout by MMC has a linear relationship with the old payout (that is, simple prediction performance), and there is no free lunch.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/e0b43384-4cdd-6b1e-6306-929f2662f1b7.png" alt="19.png"></p>
<p>To summarize the above,</p>
<ul>
<li>MMC payouts stabilize payouts for easy/difficult periods</li>
<li>Leverage can be applied by lowering the correlation with the meta model (of course, it will be difficult due to restrictions)</li>
<li>There are no asymmetric profit opportunities, and it seems that there are no superior strategies in tournaments.</li>
</ul>
<p>In other words, the incentive to participate in Numerai is that payouts will be inflated during hard-to-predict periods. Quantitative comparison is difficult, but it may be a good option considering it is one of the investment portfolios (provided that NMR risk can be tolerated).
The most stylish would be to hit predictions with a model that has a low correlation with the metamodel. Participants with good skills should definitely challenge.</p>
<p>(Added May 22, 2020)
Payout by MMC has started. You can choose between Corr payout and MMC payout. The setting method is <a href="https://forum.numer.ai/t/metamodel-contribution-live/449">here</a>.</p>
<p>(Added 2020/6/4)
About a month and a half has passed since I participated. During this period, the author conducted a large amount of verification from various viewpoints. We have summarized the incentives to participate in Numerai based on the results and the author&rsquo;s knowledge.</p>
<p><strong>Incentives 1. Great leverage</strong>
Numerai payout is proportional to CORR. If CORR=0.1, the payout is 10% (in MMC, multiply by 2). This specification is high leverage in the first place. Numerai&rsquo;s model is market-neutral, and taking such a strategy actually eliminates market risk, but yields are naturally low. According to the author&rsquo;s experience, the long-short return of large stocks in the actual stock market is 1% per CORR=0.1, even if it is roughly estimated (see the figure below). In other words, when the payout is CORR, leverage is already 10 times higher than the actual stock price movement. In the case of MMC, the maximum leverage is twice as much, so the actual leverage is about 20 times. In addition, you can bet this for four consecutive weeks without falling into a margin shortfall, so the effective leverage is about 80 times. High-leverage is a double-edged sword, but it is a very nice specification because it can dramatically improve the financial efficiency of the market neutral strategy.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/37dd312b-52b4-03b3-3879-ee6465fa5c7f.png" alt="23.png"></p>
<p>** Incentive 2. Portfolio construction with zero cost **
The user does not actually buy the stock, but only receives rewards based on the forecast results. This means that transaction fees and market impact have no effect. In other words, you never have to worry about backtesting degradation. This is a unique benefit for system traders, and users with particularly large stakes will receive this benefit significantly.</p>
<p><strong>Incentive 3.Stabilize P/L by MMC</strong>
In the case of the high leverage strategy, if there is a large variation in P/L, you will be sent off immediately. This is because the accumulated rewards are released at once in a few losses. Betting on the MMC has the effect of smoothing out rewards during periods of good/bad forecasts. This will provide sustainability to high-lever compounding strategies without compromising expectations.</p>
<p><strong>Incentive 4. Excellent Feature</strong>Generally, the key to building an investment strategy is the search for investment indicators. This is a particular challenge for beginners in the market. I don&rsquo;t know what indicators have explanatory power, and how to find them. The predictive power of the Feature included in the Numerai data is very good. The author has conducted multifaceted verification, but using these features will undoubtedly make it possible to keep the profit and loss positive in the long run.</p>
<p>To summarize, what are the incentives to participate in Numerai?</p>
<ul>
<li>Leverage that dramatically improves the financial efficiency of market neutral strategies</li>
<li>Enjoy ideal returns at zero cost</li>
<li>Sustainability of high-lever compound interest strategy with profit and loss smoothing effect by MMC</li>
<li>Excellent features available for free</li>
</ul>
<p>It&rsquo;s a dream platform for system traders.
By the way, it is not fair to explain only incentives, so I will reconfirm the disadvantages. The biggest risks in participating in a tournament are operational risk, NMR price fluctuation risk, and NMR liquidity risk.</p>
<p>The operational risk is the risk that the tournament will be abolished suddenly or the specifications will be changed and the expected return will not be obtained. as for this, it cant be helped. If that happens, just raise the NMR (I don&rsquo;t think it will be confiscated).
Next, there is the risk of price fluctuations in NMR, but this can only be accepted. There is no free lunch in the world in the first place, and there is always a risk in obtaining a high return. However, since TOP players are able to quintuple the amount they stake in about 30 weeks, the risk that the NMR price will be about 1/5 can be tolerated. Conversely, there is a possibility that the price of NMR will rise sharply, so I think that it is worth betting on NMR.
Finally, regarding liquidity risk, it is difficult to convert extremely large amounts of NMR in a short period of time because there are few exchanges that have NMR listed and the plates are thin. I think this is the number one neck. Since it is okay to set a large fee, it would be greatly appreciated if Numerai management would be able to swap NMR with BTC or USDT on OTC.</p>
<p>#Tips for prediction
This chapter will be updated when we can successfully reign in the top ranks.</p>
<p>(Added 2020/5/11)
Although it is still far from the top ranking, I will introduce one of the EDAs I am doing here. Basically, it is to observe the time-series transition of the correlation between features (the reader may have confirmed this as well). The point that I devised in this EDA is to observe the test data of tournament_data instead of training_data. I think anyone who read Numerai&rsquo;s <a href="https://forum.numer.ai/t/validation-2-announcement/166">Forum</a>knowsthattournament_data&rsquo;stestdataERA854-899(weekly)AlmostcompatiblewithERA197-206(monthly) of Validation2. Furthermore, this data almost corresponds to the actual tournaments ROUND168-ROUND204. This is 40 weeks before April 2020 and includes the corona shock period.</p>
<p>The graphs below show changes in correlation between dexterity1 and other dexterities (left) and changes in correlation between constitution1 and other constitutions (right) in ERA853-ERA904 (weekly).</p>
<p>As you can see, the correlation coefficient drops significantly at the right end of the dexterity correlation. This part is a corona shock. As will be described later, dexterity is an index of price ups and downs, and 14 indicators are composed of the combination of calculation period (1W, 4W, 52W, etc.) and calculation method (simple rate of change, moving average deviation rate, etc.). Has been done.</p>
<p>In addition, unlike dexterity, where the mutual correlation fluctuates greatly, the constitution shows almost constant correlation. The constitution is almost certainly an indicator of the attributes of a stock (financial statements, sectors, regions, etc.). There are indicators that drift slightly up and down in the corona shock part, but this is a financial indicator in which prices such as PER and PBR are incorporated.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/9be868a8-0aaf-69e5-6c31-9ca0e2460f24.png" alt="13.png"></p>
<p>Based on these data, I tried to reproduce the dexterity, which is the key to developing the correlation, because it is very explanatory and can be reproduced with actual market data. Since it takes a lot of time to consider the stocks of the world, we have selected the S&amp;P 500 stocks here. The figure below shows the correlation between the ups and downs indices. Features 1 to 4 are rates of rise and fall of 1W, 4W, 12W and 52W, respectively. It can be seen that the dexterity correlation in the above figure and a similar shape appear locally.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/00d5d2c2-d13e-8b45-774e-c76f93259100.png" alt="14.png"></p>
<p>Next, we compared the return balance curves for these reproduction indexes and dexterity. In conclusion, since the balance curves are very similar, I think dexterity4 and dexterity7, which have particularly strong explanatory power, are almost certainly 52W (or a period equivalent to them) as ups and downs.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/3adb053c-ac40-cd7d-f278-dff0364722e5.png" alt="15.png"></p>
<p>In addition, top-ranked users have greatly benefited from dexterity4. The following is a comparison of Round Correlation transitions of madmin, hb, and steve2 who are ranked higher and Correlation transitions of dexterity4.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/4e835521-418b-14d4-6dda-41a6543d92e1.png" alt="16.png"></p>
<p>Now the question is whether this dexterity is really a robust indicator for the whole year. At the end of this verification, we confirmed the behavior of S&amp;P500 stocks when selecting stocks using the rate of rise and fall rates for the period after 2010. In conclusion (of course) it is difficult to get enough performance just by betting on long-term rise and fall rates. Although dexterity4 seems to be a very good indicator, the period of validation2 is actually only the red frame part in the figure below.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/a4493ffa-f1d5-30b3-e2f8-37dcc3023843.png" alt="17.png"></p>
<p>From this verification, I think that it is a very difficult task to create a stable model on a weekly basis. In order to break through this, I tried introducing a trial model with ROUND 211. It is a model for behavior confirmation and we do not expect much results.</p>
<p>(Added 2020/5/29)
I commented that the model for the monitor that I put in from ROUND212 is extremely strong, so I will explain it. UKI_MONITOR1 is still a long time after submitting the model, but it seems that the latest performance is certainly excellent (see the figure below).
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/562749/0822489f-117b-da70-63c5-a0eddb21bf02.png" alt="22.png"></p>
<p>In conclusion, UKI_MONITOR1 is just dexterity7 (but multiplied by minus). The code is as follows. It just scales this to a value between 0.4 and 0.6.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">tournament_data[<span style="color:#e6db74">&#34;prediction&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>tournament_data[<span style="color:#e6db74">&#34;feature_dexterity7&#34;</span>]
</code></pre></div><p>The reason why we did this is that dexterity7 (or dexterity4) is the most high-variance of all features, and is essential to boost the predictive performance (ie Correlation) of the model. However, this indicator has a large time-dependency, and it is risky to simply incorporate it into the model, so I decided to watch the behavior for the time being. Users who have recently achieved high prediction performance have benefited from dexterity7, but we believe that it is likely that this performance will be significantly impaired. At that time, this monitor should be useful for identifying factors.</p>
<p>To be honest, I thought I should make this monitor for all 310 features, but I was disappointed because it was annoying to operate and was not very popular. Readers are encouraged to try making a monitor with a quantity within the range of common sense.</p>
<p>#in conclusion
How is it?
In this article, I gave an overview of Numerai, tournaments, reward structures, and a dataset. Numerai&rsquo;s data set is supervised by an advisor specializing in finance M/L, and it is an excellent subject that goes beyond Kaggle in practical learning of finance M/L. In addition, enough rewards are available. The battlefield for those involved in finance M/L is here.</p>
<p>Let&rsquo;s get started, Numerai.</p>
<h1 id="reference-article">Reference article</h1>
<p><a href="https://qiita.com/blog_UKI/items/25dc1c2559c61890a449">Stock price prediction by machine learning, &ldquo;Iroha no I&rdquo;</a>
[Stock price prediction by machine learning, &ldquo;Irohano&quot;ro]&rdquo; (<a href="https://qiita.com/blog_UKI/items/09fab7baecd677819895">https://qiita.com/blog_UKI/items/09fab7baecd677819895</a>)</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
