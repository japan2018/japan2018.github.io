<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>A story of a student who developed a new anti-coronavirus site (Ishikawa version) | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>A story of a student who developed a new anti-coronavirus site (Ishikawa version)</h1>
<p>
  <small class="text-secondary">
  
  
  Mar 28, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/vukkejis"> vukkejis</a></code></small>


<small><code><a href="https://memotut.com/tags/netilipiya"> netilipiya</a></code></small>


<small><code><a href="https://memotut.com/tags/nustjis"> nustjis</a></code></small>


<small><code><a href="https://memotut.com/tags/kitupaksans"> kitupaksans</a></code></small>

</p>
<pre><code># Finished product
</code></pre>
<p><a href="https://covid19-ishikawa.com/">https://covid19-ishikawa.com/</a></p>
<h1 id="self-introduction">Self-introduction</h1>
<p>Hello, it is intended to become a Toyo University information cooperation Faculty of new 4 years.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/4c10bb2b-5021-38c0-e24d-5ce8da6a410e.jpeg" alt="iniad.jpeg"></p>
<p>I&rsquo;m still a chick, so I hope you&rsquo;ll see it with warm eyes. (Though it&rsquo;s M, it&rsquo;s OK even if it&rsquo;s tough!)
Recently, it&rsquo;s been difficult. I also entered spring break and the intern was temporarily closed.
I&rsquo;m sad I don&rsquo;t have a salary&hellip;
If you have a job, please contact me! !</p>
<h1 id="background-of-development">Background of development</h1>
<p>I also returned to Ishikawa Prefecture for the purpose of evacuating, but I&rsquo;m not surprised.
So it&rsquo;s always rumbling. .. ..
One day I continued such days for two weeks, and some interesting activity&hellip;</p>
<h3 id="tokyo-its-a-story-of-a-new-anti-corona-virus-site">Tokyo It&rsquo;s a story of a new anti-corona virus site.</h3>
<img width="1440" alt="Screenshot 2020-03-28 4.44.15.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/877dbf16-0534-d452-27c4-3b24f205dd9e.png">
<p>I want to make it too! !
I thought so and decided to make it.
I&rsquo;m sorry for the shit</p>
<h1 id="first-of-all">First of all?</h1>
<p>I thought about how to make it.
You can go if you bring the source code! !</p>
<p><a href="https://github.com/tokyo-metropolitan-gov/covid19">https://github.com/tokyo-metropolitan-gov/covid19</a></p>
<p>Actually, I can come with a way to contribute.</p>
<p><a href="https://qiita.com/FPC_COMMUNITY/items/b9cc072813dc2231b2b2">https://qiita.com/FPC_COMMUNITY/items/b9cc072813dc2231b2b2</a></p>
<h3 id="then-its-easy--">Then it&rsquo;s easy! ! !</h3>
<p>Actually, it&rsquo;s just vue or nuxt.
But for the time being, I will replace all of Tokyo with Ishikawa.
ogp? favicon? I also learned for the first time, but I&rsquo;m using Ishibe to make it work like Ishikawa Prefecture.</p>
<p>Replaced easily with #
<img width="1440" alt=" Screenshot 2020-03-28 4.44.23.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/ecf66338-0bab-b65f-ffd1-3d98f6a237cf.png"></p>
<p>what! Easy! ! Margin Margin .. .. ..
There is no essential data! !
I&rsquo;ve never regretted that I haven&rsquo;t prepared or planned so much.
Where is the data of coronavirus in Ishikawa prefecture? ?
I have it! !
Click,
<img width="1440" alt="Screenshots 2020-03-28 4.44.31.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/983006b5-9b94-07c1-2d12-bc9724969aa3.png"></p>
<p><a href="https://www.pref.ishikawa.lg.jp/kansen/coronakennai.html">https://www.pref.ishikawa.lg.jp/kansen/coronakennai.html</a></p>
<p>Yes! Okay. I don&rsquo;t have any csv or excel data. (Sad)
Still open data? !
Taking advantage of what I learned at university,</p>
<h1 id="firm-scraping">Firm scraping</h1>
<p>I thought that I could do it with python, so I will format the data with bs4 and pandas.
Well, I could write it like this. (If you have redundant code, please let me know.)</p>
<p>Addendum
The corona information format changed little by little between the original Ishikawa homepage and the present.
Therefore, I made many corrections.
Later, I was contacted by the prefecture&rsquo;s information system and the format was unified, so
After that there is no problem.</p>
<p><a href="https://github.com/Retsuki/covid19-ishikawa-scraper/tree/master/src">https://github.com/Retsuki/covid19-ishikawa-scraper/tree/master/src</a></p>
<h1 id="finally-deploy">Finally deploy?</h1>
<p>How can I get it? ?
I&rsquo;ve only used heroku, so&hellip;
Well, I was worried.</p>
<h3 id="and-the-light-i-found-encounter-with-netlify-">And the light I found-Encounter with netlify-</h3>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/91266a5e-4a19-ca1d-0e3a-3db28bd1406b.png" alt="netlify.png"></p>
<p><a href="https://tech.moyashidaisuke.com/entry/covid19-netlify">https://tech.moyashidaisuke.com/entry/covid19-netlify</a>
Is it so easy? !
I was impressed that it was a great age.</p>
<h1 id="yosh-ive-made-it-public-school-on-april-23">Yosh! I&rsquo;ve made it public! (School on April 23)</h1>
<img width="717" alt="Screenshot 2020-04-22 21.05.01.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/98506c3f-8285-f72f-cc83-d6f776a083bb.png">
<p><a href="https://covid19-ishikawa.com/">https://covid19-ishikawa.com/</a>
Well yeah!
However! ! ! Another problem here&hellip;
Is this manual data update? ?</p>
<p>~~ No, wait a little longer, brother. .. ..
Actually, I had experience using cron at the internship, so
I immediately realized! ~~</p>
<h1 id="-rent-a-server-to-sakura-san">~~ Rent a server to Sakura-san&hellip;</h1>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/1460d1dc-6375-0dc0-f419-051d76316f2c.png" alt="sakuracloud.png"></p>
<p>~~ It was a moment.
If you email Sakura-san, please respond promptly
Maybe it doesn&rsquo;t cost the server!
Set up a cloud server.
Write the execution command in the shell ~~</p>
<p>~~ Regular execution with cron ~~</p>
<h1 id="changed-to-automatic-update-in-github-actions">Changed to automatic update in Github Actions</h1>
<p>For details, refer to the following article in Nagano prefecture.
<a href="https://qiita.com/wataruoguchi/items/0f69f72777237674074b">https://qiita.com/wataruoguchi/items/0f69f72777237674074b</a></p>
<p>Actual code
<a href="https://github.com/Retsuki/covid19-ishikawa-scraper">https://github.com/Retsuki/covid19-ishikawa-scraper</a></p>
<h3 id="youre-done-">You&rsquo;re done! !</h3>
<h1 id="number-of-days-spent">Number of days spent</h1>
<p>4 days?
Day 1: Improve site to Ishikawa version
Day 2: scraping the data
Day 3: I had a sad time and took a rest.
Day 4: Automatic data update
：I tweeted the situation at 6 a.m. on Twitter api.
Day 5: Corrected scraping code again due to changes in information disclosure on the coronavirus site in Ishikawa Prefecture
Day 20: Apply to netlify for unlimited use of services as a corona protection site (unlimited on the day)
Day 20: Production deployment
Day 21: url registration with google search console
Day 22: Domain acquisition, domain change with netlify
Day 24: Automatically updated on Github actions
Day 24: Change of logo design
24th day: Create a site map, send with search console (SEO measures)
Day 25: Display news from Ishikawa Corona (automatic update)
Day 25: Added graph of number of infected people by residence
：</p>
<h1 id="try-it">Try it</h1>
<p>It was a lot of fun! !
It&rsquo;s almost pakuri, but the people who created Tokyo are really great.
It was all thanks to them.
This year, my goal was to achieve
Actually, it was a very happy day.</p>
<h1 id="devised-points">Devised points</h1>
<h4 id="scraping">scraping</h4>
<p>From the beginning, the format of the original website of Ishikawa Prefecture has changed little by little.
Since there was no uniformity, I made revisions each time to increase versatility.</p>
<h4 id="automatic-tweet-on-twitter">Automatic tweet on Twitter</h4>
<p>Since SNS was used by local friends,
Enabled to tweet automatically at 6 am on Twitter.</p>
<h4 id="be-sure-to-publish-the-top-6-links-for-prefecture-corona-news">Be sure to publish the top 6 links for prefecture corona news</h4>
<p>Since the update of the original site is slower than the news,
In that case, I thought it was better to show the latest 6 news items.</p>
<h4 id="bar-graph-of-number-of-infected-people-by-residence">Bar graph of number of infected people by residence</h4>
<p>It is open as a table on the website of the original site, Ishikawa Prefecture.
<img width="235" alt="Screenshots 2020-04-22 21.06.02.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/2d766713-2002-556a-73c7-7cd00f6d8225.png"></p>
<img width="575" alt="Screenshots 2020-04-22 23.01.38.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/201115/74aa41d7-6a57-f04d-f5c8-6d41dbdcb35e.png">
<p>However, I found it difficult to see because there are 19 municipalities.
Also, when I asked an acquaintance, there were some municipalities where no infected people were confirmed.
They said they had no idea how much they should refrain from going out.
Therefore, I made it possible to see at a glance the infected person information in my area by making a bar graph.</p>
<h1 id="to-japan">To Japan</h1>
<p>I&rsquo;m not saying I&rsquo;ll do my best.
Help if someone is in trouble. I think it will be a little peaceful.
Pray for peace to the world&hellip;
we can do it!!!</p>
<p><del># Ishikawa Corona Account</del>
~~<a href="https://twitter.com/Ishikawa_Covid~~">https://twitter.com/Ishikawa_Covid~~</a></p>
<h1 id="sites-that-helped-me">Sites that helped me</h1>
<p>[Tokyo New Coronavirus Countermeasure Site]
<a href="https://stopcovid19.metro.tokyo.lg.jp/">https://stopcovid19.metro.tokyo.lg.jp/</a>
[Procedure to launch a dev environment with netlify by forking the new Tokyo coronavirus infection control site]
<a href="https://tech.moyashidaisuke.com/entry/covid19-netlify">https://tech.moyashidaisuke.com/entry/covid19-netlify</a>
[Prevalence of patients with new coronavirus infection in the prefecture]
<a href="https://www.pref.ishikawa.lg.jp/kansen/coronakennai.html">https://www.pref.ishikawa.lg.jp/kansen/coronakennai.html</a>
[Sakura cloud]
<a href="https://cloud.sakura.ad.jp/">https://cloud.sakura.ad.jp/</a>
[My Faculty]
<a href="https://www.iniad.org/">https://www.iniad.org/</a></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
