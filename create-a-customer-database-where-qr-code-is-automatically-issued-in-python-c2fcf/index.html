<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Create a customer database where QR code is automatically issued in Python | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Create a customer database where QR code is automatically issued in Python</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 12, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/qrcode"> QRcode</a></code></small>


<small><code><a href="https://memotut.com/tags/customer-management"> customer management</a></code></small>

</p>
<pre><code>## I went to a cleaning shop
</code></pre>
<p>The other day, I went to a laundry shop in the neighborhood to take out my clothes under the instructions of my wife.</p>
<p>Saturday after the new year.</p>
<p>Probably the day when most customers will come.</p>
<p>However, there is one aunt in the part.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/7a9e06f9-637a-5fe0-9a95-dcff8e329e6d.png" alt="image.png"></p>
<p>Customers come in.</p>
<p>Well, right.</p>
<p>And behind the scenes to deal with customers. .. I wonder if there&rsquo;s a phone ringing.</p>
<p>But I&rsquo;m too busy to get a call. ..</p>
<h2 id="humans-are-not-good-at-multitasking">Humans are not good at multitasking</h2>
<p>Humans, no one can do this together.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/08b5a4e4-8e71-f95b-b264-eba5a5741787.png" alt="image.png"></p>
<p>~~ Is this a shift mistake by the store owner or the store manager? ? ~~</p>
<p>I wondered if such a situation could be dealt with by improving the system.</p>
<p>You can easily publish the QR code in Python in the previous article. I wrote an article, so it&rsquo;s an application.</p>
<p>Reference: <a href="https://qiita.com/youichiokuda/items/eceb9e1a7c55e0ebbe5f">Create QR code in Python. I do not want to line up with the same statement every time I issue a commuter pass. .. </a></p>
<p>##Thing you want to do</p>
<p>・Optionally add a service to call, e-mail, or SMS when cleaning is completed.
(It&rsquo;s impossible for everyone ~~ Uzai~~, it&rsquo;s just an option) Put a QR code on clothes and hold it with your smartphone so that you can contact customers by email, SMS, or phone.</p>
<p>・The QR code will be automatically issued when the customer information is registered. Simple management.</p>
<p>![Screenshot 2020-01-12 15.12.34.png](<a href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/1771073d-5acf-01d5-2dfc-(1cdf4ab0863c.png)">https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/1771073d-5acf-01d5-2dfc-(1cdf4ab0863c.png)</a></p>
<h2 id="execution-environment">Execution environment</h2>
<p>Python 3.7.6
macOS Mojave 10.14.6</p>
<h2 id="import-library">Import library</h2>
<p>First import the required libraries. (If not, install with pip)</p>
<p>Qrcode for creating QR code
・Datetime to enter the date and time of customer registration
・Csv for database creation by CSV</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:customerdata.py" data-lang="python:customerdata.py"><span style="color:#f92672">import</span> qrcode
<span style="color:#f92672">import</span> datetime
<span style="color:#f92672">import</span> csv
</code></pre></div><h2 id="enter-the-necessary-information-when-registering-the-customer">Enter the necessary information when registering the customer</h2>
<p>Set to listen to the required information in the customer database.
Listen to the required information so that you can email, SMS or call.
*Set the registration time to be registered in the database.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:customerdata.py" data-lang="python:customerdata.py">name<span style="color:#f92672">=</span>input (<span style="color:#e6db74">&#39;What&#39;</span>s your name<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
address<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your address<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
age<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your age<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
tel<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your phone number<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
mail<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your email<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>

<span style="color:#75715e">#Set the date and time to be registered in the database</span>
dt_now<span style="color:#f92672">=</span>datetime<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>now()
dt<span style="color:#f92672">=</span>dt_now<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y year %m month </span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> day %H hour %M minute&#39;</span>)

</code></pre></div><h2 id="qr-code-creation">QR code creation</h2>
<p>The QR code is set so that the name, phone number, email, address, registration date and time will be displayed.
The name of the automatically issued img file will be output with the name and phone number of the person so that they can be searched later by text (by name and phone number).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:customerdata.py" data-lang="python:customerdata.py">img<span style="color:#f92672">=</span>qrcode<span style="color:#f92672">.</span>make(<span style="color:#e6db74">&#39;Telephone number:&#39;</span><span style="color:#f92672">+</span> str(tel) <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;Email:&#39;</span><span style="color:#f92672">+</span>str(mail)<span style="color:#f92672">+</span><span style="color:#e6db74">&#39; Name:&#39;</span><span style="color:#f92672">+</span>str(name) <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;Address:&#39;</span><span style="color:#f92672">+</span> str(address)<span style="color:#f92672">+</span><span style="color:#e6db74">&#39; Creation date :&#39;</span><span style="color:#f92672">+</span> str(dt))
img<span style="color:#f92672">.</span>save(str(name)<span style="color:#f92672">+</span>str(tel))

Register the name of <span style="color:#75715e">#QR code with your name and phone number so that you can search text later</span>
</code></pre></div><h2 id="database-registration">Database registration</h2>
<p>Register information in CSV. (Customer_data.csv)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:customerdata.py" data-lang="python:customerdata.py">
<span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;customer_data.csv&#39;</span>,<span style="color:#e6db74">&#39;a&#39;</span>) <span style="color:#66d9ef">as</span> f:
    writer <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(f)
    <span style="color:#75715e">#The following line is for initial registration only. Comment out after the second registration! !</span>
    writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;age&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;phone number&#39;</span>,<span style="color:#e6db74">&#39;email&#39;</span>,<span style="color:#e6db74">&#39;registration date&#39;</span>])
    writer<span style="color:#f92672">.</span>writerow([str(name),str(age),str(address),str(tel),str(mail),str(dt)])
    f<span style="color:#f92672">.</span>close()
  
</code></pre></div><p>Run it from the command line.</p>
<pre><code class="language-console:commandline" data-lang="console:commandline">(kyoto) MacBook-Air% python3 customerdata.py
What is your name? Taro Tanaka
address? Kyoto city A town B street
What is your age? 40
telephone number is? 090-000-0000
Email me? tanaka@gmail.com
</code></pre><p>Register in the database like this.</p>
<p>![Screenshot 2020-01-12 11.48.43.png](<a href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/541e375e-dca2-7c2e-1594-(db9d3bb10cd3.png)">https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/541e375e-dca2-7c2e-1594-(db9d3bb10cd3.png)</a></p>
<p>At the same time, a QR code will be automatically issued.
![Screenshot 2020-01-12 11.50.14.png](<a href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/9f1a1bdb-cf70-7649-49ed-(fa7451c7c6f6.png)">https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/9f1a1bdb-cf70-7649-49ed-(fa7451c7c6f6.png)</a></p>
<p>Read the QR code over the iPhone to get information.</p>
<img width="375" alt="IMG_2287.PNG" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/a330838d-3cf1-8562-368b-4cc1d2cf5c77.png">
<p>##Source code</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:customerdata.py" data-lang="python:customerdata.py">

<span style="color:#f92672">import</span> qrcode
<span style="color:#f92672">import</span> datetime
<span style="color:#f92672">import</span> csv

name<span style="color:#f92672">=</span>input (<span style="color:#e6db74">&#39;What&#39;</span>s your name<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
address<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your address<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
age<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your age<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
tel<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your phone number<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>
mail<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#39;What&#39;</span>s your email<span style="color:#960050;background-color:#1e0010">?</span><span style="color:#e6db74">&#39;)</span>


dt_now<span style="color:#f92672">=</span>datetime<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>now()
dt<span style="color:#f92672">=</span>dt_now<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y year %m month </span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> day %H hour %M minute&#39;</span>)

img<span style="color:#f92672">=</span>qrcode<span style="color:#f92672">.</span>make(<span style="color:#e6db74">&#39;Telephone number:&#39;</span><span style="color:#f92672">+</span> str(tel) <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;Email:&#39;</span><span style="color:#f92672">+</span>str(mail)<span style="color:#f92672">+</span><span style="color:#e6db74">&#39; Name:&#39;</span><span style="color:#f92672">+</span>str(name) <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;Address:&#39;</span><span style="color:#f92672">+</span> str(address)<span style="color:#f92672">+</span><span style="color:#e6db74">&#39; Creation date :&#39;</span><span style="color:#f92672">+</span> str(dt))
img<span style="color:#f92672">.</span>save(str(name)<span style="color:#f92672">+</span>str(tel))


<span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;customer_data.csv&#39;</span>,<span style="color:#e6db74">&#39;a&#39;</span>) <span style="color:#66d9ef">as</span> f:
    writer <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(f)
    <span style="color:#75715e">#The following line is for initial registration only. Comment out after the second registration! !</span>
    writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;age&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;phone number&#39;</span>,<span style="color:#e6db74">&#39;email&#39;</span>,<span style="color:#e6db74">&#39;registration date&#39;</span>])
    writer<span style="color:#f92672">.</span>writerow([str(name),str(age),str(address),str(tel),str(mail),str(dt)])
    f<span style="color:#f92672">.</span>close()
</code></pre></div><h2 id="various-applications-are-possible">Various applications are possible</h2>
<p>Creating databases and issuing QR codes automatically can be applied in many other ways.
Food delivery, wandering prevention for demented elderly, contraindications for allergies and drugs.</p>
<p>I would be grateful if you could provide comments with expandability and development that you can use like this.</p>
<p>![Screenshot 2020-01-12 15.12.34.png](<a href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/1771073d-5acf-01d5-2dfc-(1cdf4ab0863c.png)">https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/240982/1771073d-5acf-01d5-2dfc-(1cdf4ab0863c.png)</a></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
