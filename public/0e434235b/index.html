<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] I tried to make my own research tool using API of law [Smart Roppo] | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] I tried to make my own research tool using API of law [Smart Roppo]</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 14, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/php"> PHP</a></code></small>


<small><code><a href="https://memotut.com/tags/javascript"> JavaScript</a></code></small>


<small><code><a href="https://memotut.com/tags/legal-tech"> legal tech</a></code></small>


<small><code><a href="https://memotut.com/tags/law-api"> law API</a></code></small>

</p>
<pre><code>```
</code></pre>
<ol>
<li>Introduction</li>
<li>I made a product that looks like a legal tech</li>
<li>Smart Roppo concept</li>
<li>Main functions and features of SmartRoppo</li>
<li>Why did you decide to make it yourself?</li>
<li>Future tasks</li>
<li>in conclusion</li>
</ol>
<pre><code>
##1. Introduction

This article inherits the baton from Janku ([@jank_2525](https://twitter.com/jank_2525)),and&quot;**[LegalAffairsAdventCalendar2019](https://adventar.org/calendars/3900)**[^1]” I am writing as an entry for the 14th day.

Everybody's entry is wonderful and full of individuality, and I look very interesting every day.

##2. I made a product that looks like a legal tech

By the way, suddenly, I made a legal tech product, so I will publish the beta version with this entry. **[Smart Roppo]**

**SmartRoppo-Make the law database smarter-**
https://smartroppo.com/SmartRoppo/index.html
![movie2.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/261b736a-5c40-ac52-8eee-b6c8bd2bf95f.gif)


Any troublesome things such as user registration are unnecessary, and anyone can use it.
*Since it is not compatible with smartphones and tablets, please use it from a PC (Chrome browser if possible).


##3. Smart Roppo concept

The concept of SmartRoppo is &quot;** Update UI/UX of law **&quot; (magnificent).

I often deal with financial matters, but financial laws such as the Gold and Commercial Law and Banking Law are often extremely complicated and difficult to understand.

So even though I'm embarrassed to be a lawyer for five years, I still find myself wondering &quot;Is there such a clause?&quot; or even erroneously misreading it (not only me... ).

However, to put it the other way around, it is also said that these complicated and difficult laws are written concretely and in detail (with a narrow range of interpretation) assuming various cases. In fact, there are cases where even a consultation from a client who is familiar with the laws and regulations of the industry is able to provide a correct answer based on the content of the article.

In other words, if you can &quot;**exactly**&quot;read the contents of the law, you often reach the information you are looking for. Or, first of all, there is no interpretation that it cannot be done. Of course, it is important to refer to documents such as practical books, but in the end it will be essential to confirm the original text.

Here's an excerpt of a slide from one of our events.
The concept of Smart Roppo is to solve these problems with the power of technology.
![GGA Presentation Material 2_Up_Page_2.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/510ac8f7-ceaf-dc76-2f8e-ef031a89b09c.png)
![GGA Presentation Material 2_Up_Page_3.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/c77c259d-a95c-4f26-3eaf-eee6de69fd85.png)
![GGA Presentation Material 2_Up__Page_4-min.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/119a52ce-1ddc-9745-f0f4-7270c1d08d82.png)
![GGA Presentation Material 2_Up_Page_6.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/59120f83-883a-7b61-f831-dc3a356b8778.png)
![GGA Presentation Material 2_Up_Page_7.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/1c5b3da9-6678-88de-3386-9be1de264cf6.png)
![GGA Presentation Material 2_Up_Page_8.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/31a36dee-c39f-40cc-26d8-91d9b7125632.png)
![GGA Presentation Material 2_Up_Page_9.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/f15066ec-25d9-a96c-331e-874b52cf137a.png)

##4. Main functions and features of SmartRoppo

Currently, there are three main functions and features of SmartRoppo.
(Maybe it's faster to actually use it or see the demo video above, rather than explaining it in text.)

</code></pre><p>① Data acquisition function from law API (+ real-time search function of law)
② Automatic reference function for lower rules
③ Highlight function of parentheses</p>
<pre><code>
#### ① Data acquisition function from law API (+ real-time search function of law)

Until now, I think that most of the electronic six-method apps have database systems that hold their own data.

On the other hand, in SmartRoppo, we have adopted the method that utilizes the &quot;** Law API **[^2]&quot; published by the Ministry of Internal Affairs and Communications.
In other words, basically, the application does not hold the data, and the design is such that the latest XML data is acquired from e-gov each time it is accessed.

The API method keeps the legal data always up to date (as long as the e-gov is updated in a timely manner), and basically does not require maintenance (reflection work such as legal revision) on the application side [^3 ] Is an advantage.
However, the display speed may be inferior to the database method due to the mechanism of acquiring data each time.

#### ② Lower level automatic reference function

##### · Importance of lower rules

In order to accurately understand the contents of complicated laws and regulations, it is essential to read the subordinate rules such as “Cabinet Order” and “Cabinet Office Order” referred to in each article.
However, it is a painstaking task to identify and confirm each subordinate rule associated with each of these articles. Perhaps many people have seen the thick and thin papers of laws while coming and going (pinching a pen instead of bookmarks).

Therefore, SmartRoppo has implemented a function (automatic reference function) that automatically acquires these subordinate rules and displays them as a list of the laws and regulations that are the reference source.

#####-Have you never had this?

Until now, there were few electronic six-law apps that seem to be hand-referenced (thus due to limited laws and regulations).
On the other hand, to the best of my knowledge, I don't think I've seen a feature with &quot;automatically **&quot; (hence all laws) references (I'm sorry if it's different). ..

However, the accuracy of SmartRoppo is still not good enough, and at present, it is not compatible with all laws and regulations [^4], so I would like to improve this area one by one.

##### ・Why is it difficult? -The &quot;back reference&quot; wall


I've always wondered why the automatic reference feature for subrules isn't implemented. Somehow, I feel that it can be implemented relatively easily.

However, when I actually made it, it became clear. Actually, this is technically challenging (or rather troublesome) technically because of the structural problem of the law.

In particular, trying to make it compatible with the API method is difficult, and as a result of trying various methods, I could only find one that seems to work with a certain degree of accuracy.

The difficult reason is, in short, the reference of the sub-rule is that there is no information that identifies the referent in the referrer, there is information that identifies the referrer only in the referent [^5]. It is necessary to specify the destination, but how to identify the reference is a problem.&quot; It has a structure like &quot;**Egg and chicken**&quot;.

I call this a &quot;**backreference**&quot;.

![GGA Press Document 2 copy.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/279038/18b185d8-2ce1-8619-d921-c68301b50b48.png)


When humans work, attach an atari such as &quot;The &quot;Cabinet Office Ordinance&quot; here refers to the &quot;○○ Office Ordinance&quot; and should be written around this&quot;&quot; and check the texts around it. I think that you often take such a method.

However, trying to write such a &quot;skin-like&quot; thing in a program is quite difficult.

#### ③ Highlight function in parentheses

This is what you see, but it's a function to color-enclose parentheses according to their hierarchy. Texts with long parentheses or multiple parentheses are easier to read.

However, the process of this multiple parenthesis (nesting) is quite a sneaker, and **currently, a bug has appeared**.
I know the cause [^6], but I haven't been able to respond due to lack of time. Excuse me. ..

##5. Why did you decide to make it yourself?

In the development of SmartRoppo, I tried to move the hand by myself, including not only coding, but also design and (uncool) design [^7].

I am a &quot;super-humanistic&quot; person that I and others recognize. There is no technical background. I have never touched a programming language at all and started from the level of &quot;HTML...?:thinking:&quot;.

How did you come up with the idea that you could make/make it yourself? I'm not sure (or rather, forgot), but I think I had the following thoughts.

&gt;-The word legal tech has begun to spread, and there are cases where lawyers and other professionals start their own businesses [^8].
&gt;-I'm interested, so I'm going to look into overseas cases and think vaguely about ideas (I'd like to be able to automate things like DD!), but I can't do anything concretely and end up with a fancy.
&gt;-Something sloppy. **It's a waste of technology to make the most of the legal expertise, but it's a waste to just look at it without moving anything**[^9]
&gt;-I don't know how far I can do it, but I'm also technically interested [^10], so let's make something that I want. I've never done programming, but if you do your best, it'll be manageable (appropriate).

Although I started development from this background, it is harder than I expected to fight between the infinite error hell by writing the code while thinking that it is neither ah nor ah, while waiting for the lawyer business. did.To be honest, I was really worried about the above-mentioned &quot;dereference&quot; function [^11]. While trying various techniques and breaking and repeating, my head became bald **[^12].

However, **If you are not an aspiring engineer and want to learn programming, there is no point in doing something unless you put it into practice (Deploy or Die[^13]). There's no point in making something unless it's something you want to use in practice. **I thought so, so I got through with all my might.
Basically I'm a lazy nobody, but I decided what I decided to do.

As a result, I managed to take shape and feel a little relieved (although there are still many challenges).

I would like to write about the details of development (how you learned programming) and technical details at another time (if you are interested). In terms of technical aspects, I think that the legal personnel may be interested because the data they handle is **the &quot;law itself&quot;**.




##6. Future tasks

Although I tried to publish it for the time being, due to time and technical limitations, it can not be said that it still has sufficient performance and functions.
If you briefly write out future issues and features to be added, it will look like this (in no particular order).

&gt;- **Improved processing speed** (due to API method and automatic reference function, but it is a bit slow)
- ** Improve accuracy and expand target of automatic reference function (back reference) **
- ** Article number search/term search function ** (UI is available but this also lacks time)
- ** Automatic reference function for forward reference ** (I should have done this before dereference)
- ** Law of foreign language translation DB automatic reference function ** [^14]
- ** Reference function for related materials such as precedents and pub rice
- ** Personalization function such as memos and bookmarks **
- **Design modification** (Hopelessly I have no sense, so please help someone...)
- **Covering laws and regulations (court rules, notices, etc.) that are not XML data**
- ** Regular expression search function **
- ** Other minor bug fixes **

##7. in conclusion

It is still an immature product, but I hope you will try it.
And any content is fine, so it would be greatly appreciated if you could give us your opinions and requests ([@lawyer_alpaca](https://twitter.com/lawyer_alpaca)).

Thank you for your long relationship!
Next is 10ru ([@oga10ru](https://twitter.com/oga10ru))! Thank you!

[^1]: There is also &quot;[Back](https://adventar.org/calendars/4025)&quot;.
[^2]: https://www.e-gov.go.jp/elaws/interface_api/index.html
[^3]: There are some laws that do not support the law API (large data capacity, etc.). However, the number is not so large, so it is possible to check regularly for revisions and manually replace it with the latest XML data.
[^4]: The reference processing itself is done automatically by the program, but some pre-processing work when passing data to the program is done manually. I didn't have enough time to publish. ..
[^5]: As an exception, there are cases where neither the referrer nor the referee has information that &quot;clearly&quot; links the two.
[^6]: This is because the so-called &quot;replacement rules&quot; break the correspondence between parentheses. For example, in this case, the provision of “▲▲▲・・・(◆◆◆...” in Article ● should be read as “△△△...(◇◇◇...”]. If there is such a clause, there will be no &quot;closed parenthesis&quot; in the data corresponding to &quot;open parenthesis&quot;. ).
[^7]: Of course, I use general frameworks and libraries. In that sense, I didn't scratch at the level of &quot;making curry from flour&quot; or &quot;making hamburger from growing cows&quot;. Just in case.
[^8]: As a typical example, Mr. Sasahara of Holmes ([@kenta_holmes](https://twitter.com/kenta_holmes))andMr.YamamotoofGVATECH(AI-CON)[[@gvashunyamamoto](https(@twitter.com/gvashunyamamoto)),Mr.TsunodaofLegalForce([@NT_LegalForce](https://twitter.com/NT_LegalForce)),Mr.FutakiofLegalTechnology(LegalLibrary)([@LEGALLIBRARY_F](https://twitter.com/LEGALLIBRARY_F)) etc. From the bottom of my heart, I respect these people who started their business from scratch. I can't manage it at all. ..

[^9]: However, regarding legal tech, I think that each person has a different way of getting involved, whether they are a entrepreneur, a developer, a person who uses it, a person who disseminates information, or a person who waits. I think that evaluations of individual technologies and products vary from person to person, and that is all I need.

[^10]: At this time, I thought that if I learned programming, I could understand technology. But now, it's a little different, and I think they are basically separate (although they are in a complementary relationship), and we need to study each one. If you compare it to legal affairs, you might feel that &quot;a review of hundreds of contracts alone does not reveal civil trade law. And vice versa. In both, it must be studied as such.&quot; Or?

[^11]: It doesn't matter at all, but Bachelor 3 was interesting.

[^12]: Since I have a lot of hair, I think it's still okay.

[^13]: A famous phrase by Mr. Yoichi Ito, former director of MIT Media Lab. The full text of the speech is [here](https://www.ted.com/talks/joi_ito_want_to_innovate_become_a_now_ist/transcript).

[^14]: [Japanese Law Translation Database System](http://www.japaneselawtranslation.go.jp/?re=01)currentlyhasabout750Englishtranslationlaws(alittlelessthan10%ofalllaws)), but it seems that significant expansion is planned over the next three years, centering on important laws and regulations. http://www.moj.go.jp/housei/hourei-shiryou-hanrei/housei03_00013.html</code></pre>
    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
