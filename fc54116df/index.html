<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] [Python] Image processing with scikit-image | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] [Python] Image processing with scikit-image</h1>
<p>
  <small class="text-secondary">
  
  
  Feb 10, 2016
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/scikit-image">scikit-image</a></code></small>

</p>
<pre><code>## Read image file
</code></pre>
<pre><code class="language-ipython" data-lang="ipython">In [5]: from skimage import io

In [6]: I = io.imread('lena512color.tiff')

In [7]: print I.shape
(512, 512, 3)
</code></pre><h2 id="writing-image-files">Writing image files</h2>
<pre><code class="language-ipython" data-lang="ipython">In [12]: io.imsave('output.bmp', I)
</code></pre><h2 id="writing-multiple-image-files">Writing multiple image files</h2>
<p>The tiff format allows you to save multiple image files as one file, as shown below.</p>
<pre><code class="language-ipython" data-lang="ipython">In [13]: I1 = io.imread('Lenna.bmp')

In [14]: I2 = io.imread('Mandrill.bmp')

In [15]: I3 = io.imread('Parrots.bmp')

In [16]: io.imsave('output.tiff', [I1, I2, I3])

In [17]: I4 = io.imread('output.tif')

In [18]: I4.shape
Out[18]: (3, 256, 256, 3)

In [19]: io.imshow(I4[0])

In [20]: io.imshow(I4[1])

In [21]: io.imshow(I4[2])

</code></pre><p><img src="https://qiita-image-store.s3.amazonaws.com/0/100523/f2c92e13-8b4e-3068-6e1e-d0e6e54af769.png" alt="skimage_03.png">
<img src="https://qiita-image-store.s3.amazonaws.com/0/100523/0de310b1-9100-d20b-5e1e-b9e6f7e15b81.png" alt="skimage_04.png">
<img src="https://qiita-image-store.s3.amazonaws.com/0/100523/4cb2461a-21c1-397f-7bdf-dc8e7551abfb.png" alt="skimage_05.png"></p>
<h2 id="display-image">Display image</h2>
<pre><code class="language-ipython" data-lang="ipython">In [8]: io.imshow(I)
</code></pre><p><img src="https://qiita-image-store.s3.amazonaws.com/0/100523/22b99c4c-29c6-468e-5eaf-689a529adc0a.png" alt="skimage_01.png"></p>
<h2 id="color-conversion">Color conversion</h2>
<h3 id="rgb--gray">RGB â†’ Gray</h3>
<pre><code class="language-ipython" data-lang="ipython">In [9]: from skimage.color import rgb2gray

In [10]: G = rgb2gray(I)

In [11]: io.imshow(G)
</code></pre><p><img src="https://qiita-image-store.s3.amazonaws.com/0/100523/24ae9bab-fcc4-33ce-6e62-e4b661d41ca6.png" alt="skimage_02.png"></p>
<p>For other color conversion, refer to <a href="http://scikit-image.org/docs/dev/api/skimage.color.html?highlight=color#module-skimage.color">here</a></p>
<h2 id="type-and-value-changes">Type and value changes</h2>
<p>Perform type conversion and value conversion at the same time.
For the value conversion, in the case of img_as_float, the value of 255~0 is converted to the value of 1.0~0.0.
If you just want to convert the type, use astype.</p>
<pre><code class="language-ipython" data-lang="ipython">In [50]: from skimage import img_as_float, img_as_int, img_as_ubyte, img_as_uint

In [51]: I_float = img_as_float(I)

In [52]: print I_float.dtype, I_float.max(), I_float.min()
float64 1.0 0.0117647058824

In [53]: I_int = img_as_int(I)

In [54]: print I_int.dtype, I_int.max(), I_int.min()
int16 32767 385

In [55]: I_ubyte = img_as_ubyte(I)

In [56]: print I_ubyte.dtype, I_ubyte.max(), I_ubyte.min()
uint8 255 3

In [57]: I_uint = img_as_uint(I)

In [58]: print I_uint.dtype, I_uint.max(), I_uint.min()
uint16 65535 771
</code></pre><h2 id="image-resizing">Image resizing</h2>
<p>scikit-image also has transform.resize, but since the conversion method cannot be specified, scipy&rsquo;s imresize is used.</p>
<pre><code class="language-ipython" data-lang="ipython">In [79]: from skimage import io

In [80]: import numpy as np

In [81]: from scipy.misc import imresize

In [82]: I = io.imread('Lenna.bmp')

In [83]: IN = imresize(I,(I.shape[0]*2, I.shape[1]*2), interp='nearest')

In [84]: IB = imresize(I,(I.shape[0]*2, I.shape[1]*2), interp='bilinear')

In [85]: IC = imresize(I,(I.shape[0]*2, I.shape[1]*2), interp='bicubic')

In [86]: io.imshow(np.hstack((IN[200:264,200:264], IB[200:264,200:264], IC[200:264,200:264])))
</code></pre><p><img src="https://qiita-image-store.s3.amazonaws.com/0/100523/9d953e48-da1b-39b1-3bff-4b8ce7770850.png" alt="skimage_06.png"></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
