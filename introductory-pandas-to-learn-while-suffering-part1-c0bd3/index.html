<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Introductory Pandas to learn while suffering [Part1] | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Introductory Pandas to learn while suffering [Part1]</h1>
<p>
  <small class="text-secondary">
  
  
  Feb 1, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/pandas">pandas</a></code></small>


<small><code><a href="https://memotut.com/tags/python3">Python3</a></code></small>

</p>
<pre><code>## Introduction
</code></pre>
<p>Pandas is an inevitable library for data analysis in Python.
However, this Pandas has a high hurdle for beginners&hellip;
I also had a hard time, so I&rsquo;ll try to put it all together from the basics.
I am not an advanced Pandas person, so I would appreciate any comments or advice.
Also, this article will be divided into three parts.
(Since it is a plan, it is very likely to change&hellip;)</p>
<ul>
<li>Learn Pandas while suffering [Part1] ← Imakoko
<ul>
<li>How to create Series and DataFrame</li>
<li>Explains various attributes of DataFrame</li>
</ul>
</li>
<li>Introductory Pandas [Part 2]
<ul>
<li>Explains various methods of DataFrame</li>
</ul>
</li>
<li>Introductory Pandas to learn while suffering [Part 3]
<ul>
<li>Explanation of various methods of DataFrame (continued)</li>
<li>About updating values and searching</li>
<li>About calculation of DataFrame</li>
</ul>
</li>
</ul>
<p>Let&rsquo;s get started (<em>^▽^</em>)</p>
<h3 id="notes">Notes</h3>
<p>Please note that the import of the following libraries will be omitted in the future notation.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np
</code></pre></div><p>About ## Series</p>
<p>There are two main types in Pandas: the Series and DataFrame classes.
To briefly explain the difference, Series can handle one-dimensional data (vector) and DataFrame can handle two-dimensional data (matrix).
Let&rsquo;s first check the Series.
<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series">pandas.Series</a></p>
<h3 id="series-creation-dictionary-specification">Series creation (dictionary specification)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">sr <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series({<span style="color:#e6db74">&#39;taro&#39;</span>:<span style="color:#e6db74">&#39;kyoto&#39;</span>,<span style="color:#e6db74">&#39;jiro&#39;</span>:<span style="color:#e6db74">&#39;osaka&#39;</span>,<span style="color:#e6db74">&#39;saburo&#39;</span>:<span style="color:#e6db74">&#39;nara&#39;</span>})
<span style="color:#66d9ef">print</span>(sr<span style="color:#f92672">.</span>head())
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/58ebfbd5-2eea-c778-1bae-3600aaeeef1c.png" alt="img123.png"></p>
<p>In the above code, the dictionary attribute name corresponds to the row label (index) of Series, and the dictionary value corresponds to the Series value.</p>
<h3 id="series-creation-array-specification">Series creation (array specification)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">sr <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series([<span style="color:#e6db74">&#39;kyoto&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;saburo&#39;</span>])
<span style="color:#66d9ef">print</span>(sr<span style="color:#f92672">.</span>head())
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/58ebfbd5-2eea-c778-1bae-3600aaeeef1c.png" alt="img123.png"></p>
<p>You can set the row label (index) as above.
By the way, even if you do not set the line label, no error occurs, but if you do not set it explicitly, the numbers 0 and 1 are automatically set.</p>
<p>Series has a lot of functions, but I will omit it because there is much content that overlaps with DataFrame.
**However, note that the usage is different in DataFrame and Series even if the attribute name is the same. **
(Is this one of the factors that makes Pandas difficult?)</p>
<h2 id="about-dataframe">About DataFrame</h2>
<p>Pandas is a DataFrame.
Let&rsquo;s take a look at the official reference for DataFrame.
<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame">pandas.DataFrame</a></p>
<p>The following three are important as arguments of the pandas.DataFrame constructor.</p>
<ul>
<li>data</li>
<li>index</li>
<li>columns</li>
</ul>
<p>Now let&rsquo;s look at the actual program.</p>
<h3 id="create-dataframe-column">Create DataFrame (column)</h3>
<p>First, let&rsquo;s create a Datarfame using column data.
The attribute name of the dictionary is used as column labels (columns), and the value (registered as an array) is treated as a row (index).
(*If the value is not an array, an error will occur)
↑ Apparently, if you set the index properly, it does not seem to be an error even if it is not an array. (It&rsquo;s complicated&hellip;)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> {
  <span style="color:#e6db74">&#39;name&#39;</span>: [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;saburo&#39;</span>],
  <span style="color:#e6db74">&#39;address&#39;</span>: [<span style="color:#e6db74">&#39;kyoto&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>],
  <span style="color:#e6db74">&#39;birth&#39;</span>: [<span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
}
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data)
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>head())
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/509acad1-0322-2f95-7205-e3101c7388ea.png" alt="img123.png"></p>
<h3 id="create-dataframe-line">Create DataFrame (line)</h3>
<p>Next, create a Dataframe using the data in the row.
It is not an error if there is no colums, but in that case, the column labels are automatically given numbers such as 0, 1.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>head())
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/509acad1-0322-2f95-7205-e3101c7388ea.png" alt="img123.png"></p>
<p>By the way, to set both row labels (index) and column labels (columns), do as follows.
Set both index and columns.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>head())
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/e0c06a17-f839-7bc1-f783-cc60aceddeda.png" alt="img123.png"></p>
<h3 id="extract-columns-from-dataframe">Extract columns from DataFrame</h3>
<p>I think there are many opportunities to extract specific column data from the data.
In that case, it is possible to narrow down the columns more flexibly by using loc described later, but it is possible to narrow down the columns by directly specifying in the Dataframe.
**You don&rsquo;t need to remember this method at first (because of confusion), as loc described later is more powerful **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#66d9ef">print</span>(df[<span style="color:#e6db74">&#39;name&#39;</span>])
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/9bb5d41c-189c-5282-2123-0bf2affe98ef.png" alt="img123.png"></p>
<p>In the above code, the &ldquo;name&rdquo; column is extracted.
You will notice that the display has changed from the previous table.
This is because the result of extracting the column is a Series, not a Dataframe.</p>
<p>To extract multiple rows, do the following.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df[[<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>]]
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/8103f7cf-e62c-2027-e73b-395a5231f330.png" alt="img123.png"></p>
<p>When extracting multiple columns, the extracted result will be Dataframe instead of Series.</p>
<h3 id="row-extraction-from-dataframe">Row Extraction from Dataframe</h3>
<p>You can extract rows as well as columns.
Use slices to extract.
**You don&rsquo;t need to remember this method at first (because of confusion), as loc described later is more powerful **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#66d9ef">print</span>(df[<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;b&#39;</span>])
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/63e70cc4-21ac-2ec7-3ddf-d1b4f1d5db23.png" alt="img123.png"></p>
<p>In the above, we have extracted the &ldquo;a&rdquo; and &ldquo;b&rdquo; rows.
**Unlike columns, you cannot select and extract multiple rows individually. **
(For example, you cannot extract lines a and c)
Also, when selecting only row a, it is necessary to specify it in slices.
(For example, if you use <code>print(df['a':'a'])</code>, you can extract only a lines.)*Someone may have questions here.
Ordinary slices do not include the subscript specified on the right side, so if you use <code>df['a':'a']</code>, you may not be able to extract line a? ,about it.
In DataFrame, the row label/column label slice specification includes the right subscript (closed interval), but the row number/column number slice does not include the right subscript (left closed right open). section).
(Personally, I&rsquo;m also addicted to this&hellip;)</p>
<h2 id="about-dataframe-attributes">About Dataframe attributes</h2>
<p>Dataframe has the following attributes.</p>
<ul>
<li>T</li>
<li>at</li>
<li>iat</li>
<li>loc</li>
<li>iloc</li>
<li>columns</li>
<li>index</li>
<li>shape</li>
<li>values</li>
</ul>
<p>All are important, so let&rsquo;s look at each one.</p>
<h3 id="dataframet-get-transposed-matrix">Dataframe.T [Get transposed matrix]</h3>
<p>T can get the transposed matrix.
Simply put, you can get the data with rows and columns swapped.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>T)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/3c066206-e5cf-172c-287c-8b71967e2598.png" alt="img123.png"></p>
<h3 id="datarfameat--dataframeiat-single-value-extraction">Datarfame.at &amp; Dataframe.iat [Single value extraction]</h3>
<p>By using at and iat, you can get the value at any position in the **Dataframe. **
<strong>In the case of at and iat of Dataframe, two arguments are required</strong>. (To limit the position to one)
The difference between at and iat is that at specifies the position by row label and column label, while iat specifies by row number and column number.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>at[<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>]) <span style="color:#75715e"># kyoto</span>
</code></pre></div><p>In the case of the above code, kyoto can be obtained because the &ldquo;address&rdquo; column of the &ldquo;a&rdquo; row is specified.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/92d0a524-5ac6-b380-8b73-eff5a2b559da.png" alt="img123.png"></p>
<p>When iat is used, it becomes as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>iat[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]) <span style="color:#75715e">#2020-02-11T12:00:00</span>
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/cfed7f2a-ec52-d680-937a-1b229435d0fe.png" alt="img123.png"></p>
<p>You can get 2020-02-11T12:00:00 because you have specified the &ldquo;2&rdquo; column of the &ldquo;1&rdquo; row. (The row and column numbers start from 0)</p>
<h3 id="dataframeloc--dataframeiloc-row-and-column-extraction">Dataframe.loc &amp; Dataframe.iloc [row and column extraction]</h3>
<p>It&rsquo;s no exaggeration to say that the most important loc in Dataframe is loc.
If you remember how to use loc, most basic contents can be supported.
The basic syntax of loc is as follows.
**When using slices, it will be an error to describe as an array. **</p>
<pre><code>Dataframe.loc[[&lt;row label&gt;], [column label]]
Dataframe.loc [row label A: row label B, column label A: column label B]
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#75715e"># Single line extraction</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;a&#39;</span>]])

<span style="color:#75715e"># Extract multiple lines</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>]])

<span style="color:#75715e"># Single column extraction</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[:, [<span style="color:#e6db74">&#39;name&#39;</span>]])

<span style="color:#75715e"># Extract multiple columns</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[:, [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>]])

<span style="color:#75715e"># Extract row and column combination</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>]])
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;c&#39;</span>, [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>]])
</code></pre></div><p>Even if you do not write the row and column labels in an array, you can still extract one row and one column, but the behavior will be different from when you extract one row and one column in the array.
(Be careful as this specification is also a source of confusion&hellip;)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#75715e"># Single line extraction</span>
df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;a&#39;</span>]]
type(df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;a&#39;</span>]]) <span style="color:#75715e"># pandas.core.frame.DataFrame</span>

<span style="color:#75715e"># Single line extraction</span>
df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;a&#39;</span>]
<span style="color:#66d9ef">print</span>(type(df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;a&#39;</span>])) <span style="color:#75715e"># pandas.core.series.Series</span>

<span style="color:#75715e"># Single column extraction</span>
df<span style="color:#f92672">.</span>loc[:, [<span style="color:#e6db74">&#39;name&#39;</span>]]
<span style="color:#66d9ef">print</span>(type(df<span style="color:#f92672">.</span>loc[:, [<span style="color:#e6db74">&#39;name&#39;</span>]])) <span style="color:#75715e"># pandas.core.frame.DataFrame</span>

<span style="color:#75715e"># Single column extraction</span>
df<span style="color:#f92672">.</span>loc[:,<span style="color:#e6db74">&#39;name&#39;</span>]
<span style="color:#66d9ef">print</span>(type(df<span style="color:#f92672">.</span>loc[:,<span style="color:#e6db74">&#39;name&#39;</span>])) <span style="color:#75715e"># pandas.core.series.Series</span>
</code></pre></div><p>As in the above code, if specified with an array, Dataframe will be returned, and if specified without an array, Series will be returned. (<strong>Be careful when actually using it</strong>)</p>
<h3 id="dataframecolumns--dataframeindex-confirmation-of-column-labels-and-row-labels">DataFrame.columns &amp; DataFrame.index [Confirmation of column labels and row labels]</h3>
<p>There are many situations where you want to check what column labels and row labels are set in a Dataframe.
You can check the list of column labels with columns and the row label with index.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#75715e">#Display column labels</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>columns) <span style="color:#75715e"># Index([&#39;name&#39;,&#39;address&#39;,&#39;birth&#39;], dtype=&#39;object&#39;)</span>

<span style="color:#75715e">#Display row label</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>index) <span style="color:#75715e"># Index([&#39;a&#39;,&#39;b&#39;,&#39;c&#39;], dtype=&#39;object&#39;)</span>
</code></pre></div><h3 id="dataframeshape-get-the-number-of-rows-and-columns">DataFrame.shape [Get the number of rows and columns]</h3>
<p>There are many times when you want to check how many rows and columns of data exist in a Dataframe.
You can get the number of rows and columns by using shape.
The first tuple returned by shape is the number of rows, and the second is the number of columns.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])
<span style="color:#75715e">#Get the number of rows and columns</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>shape) <span style="color:#75715e"># (3, 3)</span>
</code></pre></div><h3 id="dataframevalues-getting-a-numpy-array">DataFrame.values [Getting a numpy array]</h3>
<p>Information such as row label and column label is attached to the DataFrame in addition to the value, but if label information is not needed and only data is needed, it can be converted into a numpy array.
*However, the method of getting numpy array with values seems to be deprecated. (Thank you nkay.)
To get a numpy array, use the to_numpy function. (Details are in comments)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">data <span style="color:#f92672">=</span> [
  [<span style="color:#e6db74">&#39;taro&#39;</span>,<span style="color:#e6db74">&#39;kyoto&#39;</span>, <span style="color:#e6db74">&#39;2020-01-01T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;jiro&#39;</span>,<span style="color:#e6db74">&#39;osaka&#39;</span>, <span style="color:#e6db74">&#39;2020-02-11T12:00:00&#39;</span>],
  [<span style="color:#e6db74">&#39;saburo&#39;</span>,<span style="color:#e6db74">&#39;nara&#39;</span>, <span style="color:#e6db74">&#39;2020-03-22T12:00:00&#39;</span>]
]
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data <span style="color:#f92672">=</span> data, index <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>], columns <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;name&#39;</span>,<span style="color:#e6db74">&#39;address&#39;</span>,<span style="color:#e6db74">&#39;birth&#39;</span>])<span style="color:#75715e">#get numpy array</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>values)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/192873/35f73bc6-d4e8-4d2d-f2ef-488446512b09.png" alt="img123.png"></p>
<p>By converting it to a numpy array, you can get the data with the same accelerator method as a normal two-dimensional array.
**Note that the data extraction method is different for DataFrame, Series, and numpy array. **
(This is also a source of confusion&hellip;)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#numpy array can access data like normal 2D array</span>
<span style="color:#75715e"># Extract 0th row and 1st column</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>values[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>]) <span style="color:#75715e"># kyoto</span>

<span style="color:#75715e"># Extract line 0</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>values[<span style="color:#ae81ff">0</span>])

<span style="color:#75715e"># You can also use slices</span>
<span style="color:#75715e"># Pull out the 1st row</span>
<span style="color:#66d9ef">print</span>(df<span style="color:#f92672">.</span>values[:, <span style="color:#ae81ff">1</span>]) <span style="color:#75715e"># [&#39;kyoto&#39;&#39;osaka&#39;&#39;nara&#39;]</span>
</code></pre></div><h2 id="finally">Finally</h2>
<p>Pandas is certainly difficult, but since the official reference is written in a very easy-to-understand way, I don&rsquo;t think it&rsquo;s a ridiculous hurdle to understand if you read the reference carefully and proceed with learning. (Maybe I&rsquo;m just thinking about it&hellip;).
In particular, <a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html?highlight=missing">10 minutes to pandas</a> is compact and easy to understand, so the first I highly recommend it as a starting point.</p>
<p>I think you&rsquo;ve used the phrase &ldquo;source of confusion&rdquo; about four times in this article.
Since that part is a particularly complicated part, please be aware that if you do not understand it well, it may not be possible to handle it when combining data etc. when the amount of data increases.</p>
<p>Part 2 finally introduces the Pandas methods.
There are so many kinds of methods that it is difficult to learn, but I will try to write them in a way that is as easy to understand as possible. (^^♪
Then (^_-)-☆</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
