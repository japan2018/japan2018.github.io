<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] What failed when Javaer changed to Pythonista | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] What failed when Javaer changed to Pythonista</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 2, 2016
  </small>
  

<small><code><a href="https://memotut.com/tags/java">Java</a></code></small>


<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/pythonista">Pythonista</a></code></small>


<small><code><a href="https://memotut.com/tags/pyconjp">PyConJP</a></code></small>


<small><code><a href="https://memotut.com/tags/javaer">Javaer</a></code></small>

</p>
<pre><code># at first
</code></pre>
<p>This is the 12/2 charge article for <a href="http://www.adventar.org/calendars/1741">PyCon JP Advent Calendar 2016</a>.
There are other interesting articles, so if you are interested, please check it out.
I have written Java in some places, but it may be wrong because it has been a while, so I hope you can read it while thinking about it.</p>
<h1 id="purpose">Purpose</h1>
<p>As the subject says, I&rsquo;ll share the mistakes I&rsquo;ve made so that anyone reading this can make the transition from Javaer to Pythonista smoother.</p>
<h1 id="self-introduction">Self-introduction</h1>
<p>A member of PyCon JP 2017.
Speaking of PyCon related activities, <a href="https://www.youtube.com/watch?v=p4EElYZwZw4">Talk in 2015</a>,<a href="https://www.youtube.com/watch?v=O1-9Yv9cB8Q&amp;t=820s">LTin2016</a>.
The 1st <a href="http://www.pycon.jp/support/bootcamp.html">Python Boot Camp</a> I also taught.
Twitter account is <a href="https://twitter.com/horobi_gengar">@horobi_gengar</a></p>
<h1 id="history">History</h1>
<p>As for the subject, I think it&rsquo;s necessary, so I&rsquo;ll briefly explain the languages I&rsquo;ve used in development so far.</p>
<p>| Order | Enrollment period | Main language | Supplement |
|:&mdash;:|:&mdash;:|:&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;:|:&mdash;&mdash;&mdash;&mdash;&mdash; &mdash;:|
| First company | Two and a half years | Nothing in particular | C or vb. Flexible according to the site |
| Second company | 5 and a half years | Java | Others such as JavaScript, Delphi and COBOL |
| Third company | 5 months | None in particular | C# and PHP little by little |
| Fourth company | 2 years | Python | Very rarely involved in Ruby |
| 5th company | 3 months (ongoing) | Python | Write JavaScript occasionally |</p>
<p>So, this time it&rsquo;s about the 4th company.</p>
<h1 id="failed">Failed</h1>
<h2 id="i-wrote-one-file-per-class">I wrote one file per class</h2>
<p>I made various mistakes, but this was the biggest one.
Basically (with exceptions) Java is described by 1 class per file, but Python often describes multiple classes in 1 file.
Image-wise, Python must be written with an image that reduces the number of package layers by one compared to Java.</p>
<p>I will explain it along with the image of the package (folder structure).
For example, <a href="https://ja.wikipedia.org/wiki/Data_Access_Object">DAO</a> for accessing the users table in the common module</p>
<p>common
└db
└dao</p>
<p>Create a file called Users.java under this package and create a class called Users in it.</p>
<p>And if you want to use that Users class from another class,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java:Users.java" data-lang="java:Users.java"><span style="color:#f92672">package</span> common.db.dao.Users

users <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Users<span style="color:#f92672">()</span>
user <span style="color:#f92672">=</span> users<span style="color:#f92672">.</span><span style="color:#a6e22e">getUser</span><span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>
</code></pre></div><p>It feels like.
However, if you describe the same package configuration in Python,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:users.py" data-lang="py:users.py"><span style="color:#f92672">from</span> common.db.dao.users <span style="color:#f92672">import</span> Users

users <span style="color:#f92672">=</span> Users()
user <span style="color:#f92672">=</span> users<span style="color:#f92672">.</span>get_user(<span style="color:#ae81ff">1</span>)
</code></pre></div><p>It becomes like that, and the end of from and the contents of import overlap and it becomes encouraging.
So, in this case, create dao.py under the db package and describe the Users class in it,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:users.py" data-lang="py:users.py"><span style="color:#f92672">from</span> common.db.dao <span style="color:#f92672">import</span> Users

users <span style="color:#f92672">=</span> Users()
user <span style="color:#f92672">=</span> users<span style="color:#f92672">.</span>get_user(<span style="color:#ae81ff">1</span>)
</code></pre></div><p>It should be described as follows. (This is going to be a big dao file size, but this is just an example)
Due to this failure, we decided to gently modify a module that had a certain operating history.</p>
<h2 id="i-made-all-internal-variables-public">I made all internal variables public.</h2>
<p>In the case of Java, if you add public or private at the beginning of the internal variable of the class, you can explicitly specify whether it can be referenced from outside.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java:User.java" data-lang="java:User.java">
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> userId<span style="color:#f92672">;</span> <span style="color:#75715e">// accessible from outside the class
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> String userName<span style="color:#f92672">;</span> <span style="color:#75715e">// inaccessible from outside the class
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> userId<span style="color:#f92672">,</span> String userName<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">userId</span> <span style="color:#f92672">=</span> userId
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">userName</span> <span style="color:#f92672">=</span> userName
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

User u <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Taro Yamada&#34;</span><span style="color:#f92672">)</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>u<span style="color:#f92672">.</span><span style="color:#a6e22e">userId</span><span style="color:#f92672">)</span> <span style="color:#75715e">// safe
</span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>u<span style="color:#f92672">.</span><span style="color:#a6e22e">userName</span><span style="color:#f92672">)</span> <span style="color:#75715e">//out
</span></code></pre></div><p>On the other hand, in Python, by adding &ldquo;_ (underscore)&rdquo; to the variable name, public or private control in Java can be performed. (You can refer to it if you want to.)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:user.py" data-lang="py:user.py"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(object):
    <span style="color:#66d9ef">def</span> __init__(self, user_id, user_name):
        self<span style="color:#f92672">.</span>user_id <span style="color:#f92672">=</span> user_id <span style="color:#75715e"># accessible from outside the class</span>
        self<span style="color:#f92672">.</span>__user_name <span style="color:#f92672">=</span> user_name <span style="color:#75715e"># not accessible from outside the class</span>

u <span style="color:#f92672">=</span> User(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;Taro Yamada&#39;</span>)
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>uer_id) <span style="color:#75715e">#safe</span>
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>__user_name)<span style="color:#75715e">#out</span>
</code></pre></div><p>However, what I thought, when I started writing Python, I misunderstood and remembered the following language specifications.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:user.py" data-lang="py:user.py"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(object):
    user_id <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e">#If you write it in this place, it can be accessed from outside the class.</span>
    <span style="color:#66d9ef">def</span> __init__(self, user_id, user_name):
        self<span style="color:#f92672">.</span>user_id <span style="color:#f92672">=</span> user_id
        self<span style="color:#f92672">.</span>user_name <span style="color:#f92672">=</span> user_name <span style="color:#75715e"># Treat as private if not written</span>

u <span style="color:#f92672">=</span> User(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;Taro Yamada&#39;</span>)
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>uer_id) <span style="color:#75715e">#safe</span>
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>user_name)<span style="color:#75715e">#out (I thought it was)</span>
</code></pre></div><p>Why did this happen? Of course, user_name can be accessed from outside and is unlimited.
When I realized this, I felt cold on my back and a festival with two underbars was held.</p>
<h2 id="i-made-a-gettersetter">I made a getter/setter.</h2>
<p>In the case of Java, create getters and setters by not considering the internal variables as public and considering the range of influence.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java:User.java" data-lang="java:User.java">
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> userId<span style="color:#f92672">;</span> <span style="color:#75715e">// Keep internal variables inaccessible from outside
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> String userName<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> userId<span style="color:#f92672">,</span> String userName<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">userId</span> <span style="color:#f92672">=</span> userId
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">userName</span> <span style="color:#f92672">=</span> userName
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getUserId</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">userId</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getUserName</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">userName</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

User u <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Taro Yamada&#34;</span><span style="color:#f92672">)</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>u<span style="color:#f92672">.</span><span style="color:#a6e22e">getUserId</span><span style="color:#f92672">())</span> <span style="color:#75715e">//Encapsulate by inserting a function instead of calling an internal variable directly
</span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>u<span style="color:#f92672">.</span><span style="color:#a6e22e">getUserName</span><span style="color:#f92672">())</span>
</code></pre></div><p>After all, Eclipse has a function to batch create getters and setters.
So I did the same thing in Python.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:user.py" data-lang="py:user.py">
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(object):
    <span style="color:#66d9ef">def</span> __init__(self, user_id, user_name):
        self<span style="color:#f92672">.</span>__user_id <span style="color:#f92672">=</span> user_id
        self<span style="color:#f92672">.</span>__user_name <span style="color:#f92672">=</span> user_name

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_user_id</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__user_id

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_user_name</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__user_name


u <span style="color:#f92672">=</span> User(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;Taro Yamada&#39;</span>)
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>get_user_id())
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>get_user_name())<span style="color:#75715e"># Use like this</span>
</code></pre></div><p>One of the merits of so-called lightweight languages such as Python is &ldquo;less code&rdquo;.
This bad description method is the berry baddest know-how that erases its merit. Too bad.
For Python, this is fine.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:user.py" data-lang="py:user.py">
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(object):
    <span style="color:#66d9ef">def</span> __init__(self, user_id, user_name):
        self<span style="color:#f92672">.</span>user_id <span style="color:#f92672">=</span> user_id <span style="color:#75715e">#Do not underbar anymore if there is a possibility to be directly accessed from outside</span>
        self<span style="color:#f92672">.</span>user_name <span style="color:#f92672">=</span> user_name

u <span style="color:#f92672">=</span> User(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;Taro Yamada&#39;</span>)
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>user_id)
u<span style="color:#f92672">.</span>user_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Jiro Suzuki&#34;</span> <span style="color:#75715e">#You can access as much as you want, but this is all right! ! !</span>
</code></pre></div><p>If you really care, you shouldn&rsquo;t even use property.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:user.py" data-lang="py:user.py">
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(object):
    <span style="color:#66d9ef">def</span> __init__(self, user_id, user_name):
        self<span style="color:#f92672">.</span>__user_id <span style="color:#f92672">=</span> user_id
        self<span style="color:#f92672">.</span>__user_name <span style="color:#f92672">=</span> user_name

    <span style="color:#a6e22e">@property</span> <span style="color:#75715e"># This is read-only</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">user_id</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__user_id

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">user_name</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__user_name


u <span style="color:#f92672">=</span> User(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;Taro Yamada&#39;</span>)
<span style="color:#66d9ef">print</span>(u<span style="color:#f92672">.</span>user_id) <span style="color:#75715e">#safe</span>
u<span style="color:#f92672">.</span>user_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Jiro Suzuki&#34;</span> <span style="color:#75715e">#Out! ! ! !</span>
</code></pre></div><p>It&rsquo;s important to write properly.</p>
<p>#PostscriptSeveral times so far
&ldquo;Your Python is Java-like&rdquo;
&ldquo;I&rsquo;m a Javaer, but the Python you wrote is easy to read.&rdquo;
I wrote this article because I was quite interested in it.
After all, compared to Python written by people who have written other lightweight languages forever, my own Python is somewhat stiff and Java-like.
I&rsquo;ve been writing Python for two years now, so I think the Java odor is pretty much gone, but I will continue to devote myself day by day.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
