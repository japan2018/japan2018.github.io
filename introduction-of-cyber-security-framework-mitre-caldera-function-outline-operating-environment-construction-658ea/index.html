<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Introduction of cyber security framework MITRE CALDERA, function outline, operating environment construction | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Introduction of cyber security framework MITRE CALDERA, function outline, operating environment construction</h1>
<p>
  <small class="text-secondary">
  
  
  May 16, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/security"> Security</a></code></small>


<small><code><a href="https://memotut.com/tags/security"> Security</a></code></small>


<small><code><a href="https://memotut.com/tags/oss"> OSS</a></code></small>


<small><code><a href="https://memotut.com/tags/human-resource-development"> Human resource development</a></code></small>

</p>
<pre><code># Cyber security framework &quot;MITRE CALDERA&quot; introduction: Function overview and operating environment construction
</code></pre>
<table>
<thead>
<tr>
<th align="center">Red Team Screen</th>
<th align="center">Blue Team Screen</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><img alt="RedTeam" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/29070/041813f8-d8f8-b4c2-09a2-f9809d9d93c8.png" width ="80%"></td>
<td align="center"><img alt="BlueTeam" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/29070/854bde87-57c7-0b7d-61f7-00602e2ad588.png" width="80%"></td>
</tr>
</tbody>
</table>
<ul>
<li>The above image is the MITER CALDERA version 2.6.6 Web client screen.</li>
</ul>
<h2 id="introduction">Introduction</h2>
<h3 id="effect">Effect</h3>
<p>My job is cyber security research, and I am particularly interested in human resource development.
During my research, I encountered an OSS (Open Source Software) called &ldquo;MITRE CALDERA&rdquo;, and it was a potential tool that could be used for human resource development, so I would like everyone to know, use, and make this article. writing.</p>
<h3 id="constitution">Constitution</h3>
<p>Since there are many introductions, I will introduce them in the following four articles.</p>
<p>*Outline of functions and operating environment construction (this article)</p>
<ul>
<li>Usage: Red Team</li>
<li>Usage: Blue Team</li>
<li>Usage: Training</li>
</ul>
<p>Glossary:</p>
<ul>
<li>Red Team: A team that simulates a cyber attack</li>
<li>Blue Team: A team that responds to cyber attacks (incident and response)</li>
</ul>
<h3 id="target-audience">Target audience</h3>
<ul>
<li>People who are interested in cyber security</li>
<li>People who are interested in developing cyber security human resources</li>
<li>People who are interested in plug-in programming</li>
</ul>
<h3 id="noticedisclaimer">Notice/Disclaimer</h3>
<p>This article contains how to mimic a cyber attack.
The purpose of this is to confirm/examine/improve what kind of event will occur due to cyber attack, how to deal with it, and utilize it for cyber security personnel training.
Create a closed network environment so that it will not affect other systems or networks.
If you do it for a person who does not have permission, it will violate laws such as the Unauthorized Access Prohibition Law.</p>
<p>The contents of this article are my personal views, not the official views of my organization.
The author and his/her organization will not be held responsible for any troubles, damages, or damages to users or third parties caused by trying the suggestions in this article.</p>
<h2 id="introduction-1">Introduction</h2>
<h3 id="what-is-miter-caldera">What is MITER CALDERA</h3>
<p>MITER CALDERA is a &ldquo;cyber security framework&rdquo; in which various functions are provided as plugins.
This tool is characterized by emulating the cyber attack using the cyber attack technology and attack scenario actually used.
USS MITER, Inc. publishes OSS under Apache license.
The main features provided are listed below.</p>
<ul>
<li>Simulate a cyber attack</li>
<li>Observe the events that occur due to cyber attacks, consider ways to deal with them, and deal with them</li>
<li>Check whether cyber attacks can be automatically detected, and improve so that they can be automatically detected and dealt with</li>
</ul>
<p>You can also automatically execute the above functions based on the scenario prepared in advance.
We support security improvement and human resource development with the following work loop.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/29070/602c6dff-514a-c57a-1571-977ac7c304de.png" alt="Utilization cycle"></p>
<h3 id="miter-caldera-related-projects">MITER CALDERA related projects</h3>
<p>MITER is a non-profit organization (NPO) in the United States, and through the operation of the US Government-funded Research and Development Center (FFRDC) and private partnerships, various projects that generate public interest and innovative ideas for industry and academia. there is.
For details, please see the MITER website.
<a href="https://www.mitre.org/about/corporate-overview">https://www.mitre.org/about/corporate-overview</a></p>
<p>Here are the related projects you should know to use MITER CALDERA.</p>
<ul>
<li><a href="https://attack.mitre.org/">MITRE ATT&amp;CK</a>: Cyber Attack Technology Knowledge Base</li>
<li><a href="https://mitre-attack.github.io/attack-navigator/enterprise/">MITRE ATT&amp;CK NAVIGATOR</a>: Tool to visualize/extract information of MITER ATTACK</li>
</ul>
<h2 id="functional-overview">Functional overview</h2>
<p>MITER CALDERA itself is a Python script that provides a web service by incorporating a plugin.
The basic functions of MITER CALDERA are provided as plugins. The plugin is also a Python script.
MITER CALDERA is a project that started in 2017, but it has been updated frequently these days, and new feature plugins are actively added.
You can also incorporate plugins created by other projects. (See <a href="https://qiita.com/shiracamus/items/658ea3e5b28fa5ae3245#comment-51188959a3e28c8c2ec3">Comments</a>)
Some plugins are disabled immediately after installation, but you can enable them from the Configure menu.</p>
<h3 id="basic-plug-in-function">Basic plug-in function</h3>
<p>The following is a list of MITER CALDERA version 2.6.6 plugins released on March 20, 2020.</p>
<table>
<thead>
<tr>
<th>Plugin name</th>
<th>Valid version</th>
<th align="center">Standard valid</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>sandcat</td>
<td>All</td>
<td align="center">◯</td>
<td>Agent, RAT/BOT</td>
</tr>
<tr>
<td>stockpile</td>
<td>All</td>
<td align="center">◯</td>
<td>Basic scenario</td>
</tr>
<tr>
<td>compass</td>
<td>2.5</td>
<td align="center">◯</td>
<td>Scenario creation</td>
</tr>
<tr>
<td>response</td>
<td>2.5</td>
<td align="center">◯</td>
<td>Incident Response Scenario</td>
</tr>
<tr>
<td>terminal</td>
<td>2.6</td>
<td align="center"></td>
<td>Reverse shell terminal</td>
</tr>
<tr>
<td>gameboard</td>
<td>2.6</td>
<td align="center">◯</td>
<td>Red team vs. blue team score display</td>
</tr>
<tr>
<td>mock</td>
<td>All</td>
<td align="center">×</td>
<td>Pseudo Agent</td>
</tr>
<tr>
<td>ssl</td>
<td>All</td>
<td align="center">×</td>
<td>HTTPS proxy</td>
</tr>
<tr>
<td>access</td>
<td>2.6</td>
<td align="center">No</td>
<td>Remote access settings</td>
</tr>
<tr>
<td>atomic</td>
<td>2.6</td>
<td align="center">◯</td>
<td>Atomic Red Canary Scenario prepared by the team</td>
</tr>
</tbody>
</table>
<h3 id="miter-caldera-agent">MITER CALDERA Agent</h3>
<p>When mimicking a cyber attack with MITER CALDERA, it starts from the state of being intruded into the terminal. We will not search for vulnerabilities and invade them.
It is MITER CALDERA Agent that makes the terminal intruded. It is a program commonly called RAT (Remote Access Trojan).
You can download some agent programs by accessing the MITER CALDERA Server. Select an appropriate agent according to the OS and purpose, download it, or copy and paste the script to execute the agent.
The agent connects to the MITER CALDERA Server and executes the remote control command instructed by the server.</p>
<h2 id="build-operating-environment">Build operating environment</h2>
<p>You can do it exactly as written in the README.md file in <a href="https://github.com/mitre/caldera">GitHub repository</a>, but there are some parts that are difficult to understand, so I will explain.</p>
<h3 id="required-environment-and-tools">Required environment and tools</h3>
<h4 id="os">OS</h4>
<ul>
<li>Linux or MacOS</li>
</ul>
<p>I tried to install it on my MacOSX Catalina, but the installation shell script ended in error, and I could not install.
We recommend that you install Linux in a virtual environment such as VirtualBox and run it on that virtual environment.
Please refer to other people&rsquo;s articles for how to build a virtual environment.</p>
<h4 id="required-tools">Required tools</h4>
<ul>
<li>git command</li>
<li>Python Version 3.6.1 or later</li>
<li>Google Chrome web browser (currently only Google Chrome is guaranteed to work)</li>
</ul>
<p>For how to install each tool, refer to the articles of other people.</p>
<h3 id="installation-procedure">Installation procedure</h3>
<p>The latest version of MITER CALDERA is 2.6.65, but the training plugin only works with 2.6.6, so the installation instructions for 2.6.6 are given below.
Execute the following command in a shell terminal.</p>
<pre><code class="language-console" data-lang="console">$ git clone https://github.com/mitre/caldera.git --recursive --branch 2.6.6
$ cd caldera
$ sudo ./install.sh
</code></pre><p>During the execution of install.sh, the Python virtual environment and required Python modules are installed in the virtual environment.
At the end of the message, you will be told that you can start the web service in the next step.</p>
<h3 id="web-service-startup-procedure">Web service startup procedure</h3>
<pre><code class="language-console" data-lang="console">$ source calderaenv/bin/activate
$python server.py
</code></pre><p>The web server will start and will wait for access from the web browser.</p>
<h3 id="web-login-procedure">Web login procedure</h3>
<p>Start the Google Chrome web browser on the host that started the web service and enter <code>http://localhost:8888/</code> in the URL field to access the MITER CALDERA Server.
If you want to access from another host, change the <code>localhost</code> part to the IP address of the host that launched the Web service.</p>
<p>There are two types of login accounts.
Select a user name according to your purpose.</p>
<table>
<thead>
<tr>
<th>Username</th>
<th>Password</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>red</td>
<td>admin</td>
<td>Execute attack scenario for Red Team. Check for attack detection and countermeasures</td>
</tr>
<tr>
<td>blue</td>
<td>admin</td>
<td>Defensive scenario execution for Blue Team. Take Incident &amp; Response</td>
</tr>
</tbody>
</table>
<p>Depending on the user name, the background image and tool name change like the first image in this article.
(With MITER CALDERA version 2.6.64, the only difference is the window frame color)
Various functions can be used from the menu.</p>
<h3 id="how-to-finish">How to finish</h3>
<p>Enter <code>CTRL+C</code> in the terminal where the python script of the MITER CALDERA server is running, and terminate the Python script with.</p>
<h3 id="uninstall-procedure">Uninstall procedure</h3>
<p>Please delete all the directories under git clone.
The Python virtual environment will be deleted as well.</p>
<h2 id="at-the-endthis-is-the-end-of-the-function-outline-and-operating-environment-construction">at the endThis is the end of the function outline and operating environment construction.</h2>
<p>If you are interested, please install and try it out.
The Red Team edition, Blue Team edition, and Training edition are scheduled to be released. I hope you look forward to it.</p>
<h2 id="reference-materials">Reference materials</h2>
<h3 id="official-site">Official site</h3>
<ul>
<li><a href="https://github.com/mitre/caldera">GitHub repository</a></li>
<li><a href="https://caldera.readthedocs.io/en/latest/">Documents</a></li>
<li><a href="https://www.youtube.com/watch?v=_mVGjqu03fg">Tutorial Video (MITRE CALDERA 2.6.2)</a></li>
<li><a href="https://www.mitre.org/research/technology-transfer/open-source-software/caldera">Introduction to MITER CALDERA</a></li>
<li><a href="https://www.mitre.org/publications/project-stories/testing-your-network-defenses-by-imitating-malicious-adversaries">MITRE CALDERA Project Introduction (October 2019 version)</a></li>
</ul>
<h3 id="security-conference-presentation-materialsvideos">Security conference presentation materials/videos</h3>
<ul>
<li><a href="https://www.blackhat.com/docs/eu-17/materials/eu-17-Miller-CALDERA-Automating-Adversary-Emulation.pdf">Black Hat Europe 2017: CALDERA: Automating Adversary Emulation (PDF)</a></li>
<li><a href="https://www.youtube.com/watch?v=fx3635hLewg">Black Hat Europe 2017: CALDERA: Automating Adversary Emulation (Video)</a></li>
<li><a href="https://www.youtube.com/watch?v=xjDrWStR68E">2018.01.03 CALDERA automated cyber adversary emulation system-mitrecorp</a></li>
<li><a href="https://www.youtube.com/watch?v=zZ3nuYZKBwk">2019.03.06 Live Adversary Simulation: Red and Blue Team Tactics-RSA Conference</a></li>
<li><a href="https://www.youtube.com/watch?v=-jCYMygWbhg">2019.06.19 BSides London: The Imitation Game: Emulating Attackers-Wietze Beukema</a></li>
<li><a href="https://www.youtube.com/watch?v=lyWJJRnTbI0">2019.10.10 BruCON 0x0B: Automated adversary emulation using Caldera-Erik Van Buggenhout</a></li>
<li><a href="https://www.youtube.com/watch?v=EOD7qsSWpCg">2019.11.04 MITER Tech Talks: CALDERA</a></li>
</ul>
<h3 id="external-plugin">External plugin</h3>
<ul>
<li>ATT&amp;CK Evaluations Round 1: <a href="https://github.com/mitre-attack/evals_caldera">APT3 attack scenario</a></li>
<li>ATT&amp;CK Evaluations Round 2: <a href="https://github.com/mitre-attack/attack-arsenal/tree/master/adversary_emulation/APT29/CALDERA_DIY/evals">APT29 attack scenario</a></li>
</ul>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
