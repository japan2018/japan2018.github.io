<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Tips to know when competing programming with Python 2 (data structure) | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Tips to know when competing programming with Python 2 (data structure)</h1>
<p>
  <small class="text-secondary">
  
  
  Apr 25, 2015
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/competitive-programming"> competitive programming</a></code></small>


<small><code><a href="https://memotut.com/tags/python2"> Python2</a></code></small>

</p>
<pre><code>[Tips to know when programming competitively in Python2](http://qiita.com/lethe2211/items/b91cc9e2b355ad32f1e6) is divided into data structures.
</code></pre>
<p>The Python version is <strong>2.7.5</strong> (In Python3, specifications such as input/output are very different, so I recommend you to refer to other articles).</p>
<h2 id="int">int</h2>
<p>Integer type.</p>
<p>Strictly speaking, Python integers have integer type int and long integer type long.</p>
<ul>
<li>Type is automatically converted by boundary value like Ruby&rsquo;s Fixnum and Bignum</li>
<li>There is no difference in methods that can be used with integer type and long integer type like BigInteger of Java</li>
</ul>
<p>So don&rsquo;t worry too much about it.</p>
<h3 id="convert-string-to-integer">Convert string to integer</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span> int(<span style="color:#e6db74">&#39;10&#39;</span>) <span style="color:#75715e"># 10</span>
</code></pre></div><p>I like this area very briefly.</p>
<h3 id="radix-conversion">Radix conversion</h3>
<p>Radix conversion of integer is frequent in computer processing.</p>
<p>@n_knuu6 taught me.</p>
<p>By using <code>format()</code>, you can convert from a decimal number to a character string expressed in 2/8/16.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Binary number</span>
b <span style="color:#f92672">=</span> format(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;b&#39;</span>) <span style="color:#75715e"># &#39;1010&#39;</span>

<span style="color:#75715e"># Octal</span>
o <span style="color:#f92672">=</span> format(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;o&#39;</span>) <span style="color:#75715e"># &#39;12&#39;</span>

<span style="color:#75715e">#Hexadecimal (lowercase)</span>
x <span style="color:#f92672">=</span> format(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;x&#39;</span>) <span style="color:#75715e">#&#39;a&#39;</span>

<span style="color:#75715e"># Hexadecimal (uppercase)</span>
X <span style="color:#f92672">=</span> format(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;X&#39;</span>) <span style="color:#75715e">#&#39;A&#39;</span>
</code></pre></div><p>Conversely, if you want to convert a character string expressed in 2/8/16 hexadecimal notation to decimal, specify the radix of the original character string in the second argument of <code>int()</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">d1 <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;1010&#39;</span>, <span style="color:#ae81ff">2</span>) <span style="color:#75715e">#10</span>
d2 <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;12&#39;</span>, <span style="color:#ae81ff">8</span>) <span style="color:#75715e">#10</span>
d3 <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">16</span>) <span style="color:#75715e">#10</span>
d4 <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#ae81ff">16</span>) <span style="color:#75715e">#10</span>
</code></pre></div><h3 id="bit-operation">Bit operation</h3>
<p>I will write it.</p>
<h2 id="float">float</h2>
<p>Floating point type.</p>
<h3 id="convert-string-to-floating-point">Convert string to floating point</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span> float(<span style="color:#e6db74">&#39;10.00&#39;</span>) <span style="color:#75715e"># 10.0</span>
</code></pre></div><h3 id="processing-when-the-result-of-division-becomes-a-floating-point">Processing when the result of division becomes a floating point</h3>
<p>The following points are often addicted to floating point.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># The remainder of division is truncated</span>
a <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">2</span> <span style="color:#75715e"># 2</span>
</code></pre></div><p>If the result of division between integers is a value other than an integer, the result will be truncated (Python3 seems to solve this problem).</p>
<p>If you want to express the division of integers correctly,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">a1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1.0</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span> <span style="color:#75715e">#2.5</span>
a2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">5.</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span> <span style="color:#75715e"># 2.5</span>
a3 <span style="color:#f92672">=</span> float(<span style="color:#ae81ff">5</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span> <span style="color:#75715e">#2.5</span>
</code></pre></div><p>It is good practice to make either the numerator or denominator a float type, as in.</p>
<h3 id="dealing-with-infinity">dealing with infinity</h3>
<p>Infinite, often used in competitive programming.</p>
<p>Of course, it is possible to set a very large integer value such as 10000000000 as infinity, but it may cause an unexpected bug such as the input value may exceed the set value.</p>
<p>In Python, you can represent infinity with <code>float('inf')</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">p_inf <span style="color:#f92672">=</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>) <span style="color:#75715e"># positive infinity</span>
<span style="color:#66d9ef">print</span> p_inf <span style="color:#f92672">&gt;</span><span style="color:#ae81ff">10000000000</span> <span style="color:#75715e"># True</span>
<span style="color:#66d9ef">print</span> p_inf <span style="color:#f92672">+</span> <span style="color:#ae81ff">10000000000</span> <span style="color:#75715e"># inf</span>
<span style="color:#66d9ef">print</span> p_inf<span style="color:#f92672">-</span><span style="color:#ae81ff">10000000000</span> <span style="color:#75715e"># inf</span>
<span style="color:#66d9ef">print</span> min(<span style="color:#ae81ff">10000000000</span>, float(<span style="color:#e6db74">&#39;inf&#39;</span>)) <span style="color:#75715e"># 10000000000</span>

n_inf <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>float(<span style="color:#e6db74">&#39;inf&#39;</span>) <span style="color:#75715e"># negative infinity</span>
<span style="color:#66d9ef">print</span> n_inf <span style="color:#f92672">&lt;-</span><span style="color:#ae81ff">10000000000</span> <span style="color:#75715e"># True</span>

<span style="color:#66d9ef">print</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>)<span style="color:#f92672">-</span>float(<span style="color:#e6db74">&#39;inf&#39;</span>) <span style="color:#75715e"># nan</span>
<span style="color:#66d9ef">print</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>) <span style="color:#f92672">/</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>) <span style="color:#75715e"># nan</span>
<span style="color:#66d9ef">print</span> float(<span style="color:#e6db74">&#39;inf&#39;</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e"># nan</span>
</code></pre></div><p>Note that the value becomes nan (indefinite) when subtracting or dividing between infinities or multiplying infinity by 0 as described above.</p>
<h2 id="str">str</h2>
<p>String type.
As with Java, be careful that you cannot change the character string (reassign to the elements that make up the character string).</p>
<h3 id="output-string-in-reverse-order">Output string in reverse order</h3>
<p>I use it very often (but forget it soon).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">s <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;abc&#39;</span>
reverse <span style="color:#f92672">=</span> s[::<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#75715e">#&#39;cba&#39;</span>
</code></pre></div><h3 id="convert-a-string-and-a-list-of-each-character-in-the-string">Convert a string and a list of each character in the string</h3>
<p>I also often use this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">s <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;abc&#39;</span>
l <span style="color:#f92672">=</span> list(s) <span style="color:#75715e"># [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]</span>

ns <span style="color:#f92672">=</span> <span style="color:#e6db74">``</span><span style="color:#f92672">.</span>join(l) <span style="color:#75715e">#&#39;abc&#39;</span>
ns2 <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;,&#39;</span><span style="color:#f92672">.</span>join(l) <span style="color:#75715e">#&#39;a,b,c&#39;</span>

<span style="color:#75715e"># By the way, str(l) is not the inverse operation</span>
bad <span style="color:#f92672">=</span> str(l) <span style="color:#75715e"># &#34;[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]&#34;</span>
</code></pre></div><h3 id="get-ascii-code-from-alphanumeric-characters">Get ASCII code from alphanumeric characters</h3>
<p>In competitive programming, ASCII code is often obtained from characters (the famous one is Caesar cipher).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">c <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span>
<span style="color:#66d9ef">print</span> ord(<span style="color:#e6db74">&#39;a&#39;</span>) <span style="color:#75715e">#97</span>

<span style="color:#75715e"># An error occurs if you add a character string of 2 or more characters or a character that cannot be represented in ASCII code to the argument.</span>
<span style="color:#66d9ef">print</span> ord(<span style="color:#e6db74">&#39;ab&#39;</span>) <span style="color:#75715e"># TypeError</span>
</code></pre></div><h2 id="list">list</h2>
<p>So-called arrays (strictly speaking, Python also has an array module, so it&rsquo;s a mistake, but unless you need a very high speed, use a list).
There are various functions.</p>
<p><a href="http://docs.python.jp/2/tutorial/datastructures.html">5. Data Structures — Python 2.7ja1 documentation</a></p>
<p><a href="http://d.hatena.ne.jp/yumimue/20071205/1196839438">List-Create, Extract, Replace, Add, Search, Delete, Number of Elements-Hikime</a></p>
<p>I omitted the basics because they are written on the above page.</p>
<h3 id="initialization">Initialization</h3>
<p>If the number of elements is small, you can substitute it as it is. For example, in C++</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">100</span>][<span style="color:#ae81ff">100</span>];
</code></pre></div><p>What to do</p>
<h4 id="initializing-the-one-dimensional-list">Initializing the one-dimensional list</h4>
<p>There is initialization by list comprehension and initialization by *.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Both assign a list of 100 0s ([0, 0, ..., 0]) to the variable l</span>
l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">100</span>)] <span style="color:#75715e"># Initialization using list comprehension</span>
Initialization using l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span> <span style="color:#75715e"># *</span>
</code></pre></div><p>By the way, when I compared the execution time using %timeit of <a href="http://ipython.org/">ipython</a>,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">45</span>]: <span style="color:#f92672">%</span>timeit [<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">1000000</span>
<span style="color:#ae81ff">100</span> loops, best of <span style="color:#ae81ff">3</span>: <span style="color:#ae81ff">6.66</span> ms per loop

In [<span style="color:#ae81ff">46</span>]: <span style="color:#f92672">%</span>timeit [<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1000000</span>)]
<span style="color:#ae81ff">10</span> loops, best of <span style="color:#ae81ff">3</span>: <span style="color:#ae81ff">65.1</span> ms per loop
</code></pre></div><p>It was found that the initialization using * is faster.</p>
<h4 id="initialize-2d-list">Initialize 2D list</h4>
<p>Here, to generate a 2D list of 10*10,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>
</code></pre></div><p>Is wrong.
If you use * for a list, the list reference is copied, so</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>
l[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">print</span> l
<span style="color:#75715e"># [[1, 0, 0, ..., 0],</span>
<span style="color:#75715e"># [1, 0, 0, ..., 0],</span>
<span style="color:#75715e"># ...</span>
<span style="color:#75715e"># [1, 0, 0, ..., 0]]</span>
</code></pre></div><p>As in, changes are propagated to other places.
This is a place where I&rsquo;m addicted.</p>
<p>Correctly,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]
l[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">print</span> l
<span style="color:#75715e"># [[1, 0, 0, ..., 0],</span>
<span style="color:#75715e"># [0, 0, 0, ..., 0],</span>
<span style="color:#75715e"># ...</span>
<span style="color:#75715e"># [0, 0, 0, ..., 0]]</span>
</code></pre></div><p>Or</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]
</code></pre></div><p>And
The same applies to three or more dimensions.</p>
<p>Again, when I took a benchmark of execution time,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">40</span>]: <span style="color:#f92672">%</span>timeit [[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">1000</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1000</span>)]
<span style="color:#ae81ff">100</span> loops, best of <span style="color:#ae81ff">3</span>: <span style="color:#ae81ff">7.04</span> ms per loop

In [<span style="color:#ae81ff">42</span>]: <span style="color:#f92672">%</span>timeit [[<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1000</span>)] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1000</span>)]
<span style="color:#ae81ff">10</span> loops, best of <span style="color:#ae81ff">3</span>: <span style="color:#ae81ff">48</span> ms per loop
</code></pre></div><p>It turns out that it seems better to use * where it can be used.</p>
<h3 id="list-comprehension">List comprehension</h3>
<p><a href="http://docs.python.jp/2/tutorial/datastructures.html#id6">5. Data structure — Python 2.7ja1 documentation</a></p>
<p><a href="http://jutememo.blogspot.jp/2008/05/python_31.html">Python list comprehension-Compared to writing in Ruby or Haskell | Note for brain forgetting immediately</a></p>
<p>A Python-specific notation for operations on lists.</p>
<p>It seems that the learning cost is a little high for the Python language specification, but I think that it is worth remembering because it is possible to express concisely and powerfully.</p>
<p>As shown in the above example, it should be used instead of <code>map()</code> and <code>filter()</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">5</span>) <span style="color:#75715e"># [0, 1, 2, 3, 4]</span>
x <span style="color:#f92672">=</span> [<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> e <span style="color:#66d9ef">for</span> e <span style="color:#f92672">in</span> l <span style="color:#66d9ef">if</span> e <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">3</span>] Of the elements of <span style="color:#75715e"># l, take out 3 or more elements (filter), and return a set of doubled elements (map)</span>
<span style="color:#66d9ef">print</span> x <span style="color:#75715e"># [6, 8]</span>
</code></pre></div><p>Also applicable to multi-dimensional lists.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]
x <span style="color:#f92672">=</span> [[e <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">for</span> e <span style="color:#f92672">in</span> l[i]] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(l))] <span style="color:#75715e"># add 1 to every element in the list</span>
<span style="color:#66d9ef">print</span> l
<span style="color:#75715e"># [[1, 1, ..., 1],</span>
<span style="color:#75715e"># [1, 1, ..., 1],</span>
<span style="color:#75715e"># ...</span>
<span style="color:#75715e"># [1, 1, ..., 1]]</span>
</code></pre></div><p>You can also write a short for loop.
List comprehension is generally faster.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
        l<span style="color:#f92672">.</span>append((i, j))
<span style="color:#66d9ef">print</span> l
<span style="color:#75715e"># [(0, 0),</span>
<span style="color:#75715e"># (0, 1),</span>
<span style="color:#75715e"># (0, 2),</span>
<span style="color:#75715e"># ...</span>
<span style="color:#75715e"># (9, 8),</span>
<span style="color:#75715e"># (9, 9)]</span>

<span style="color:#75715e"># The above code can be written in one lineprint [(i, j) for i in range(10) for j in range(10)]</span>
</code></pre></div><p>Nesting can be done as follows, but it is not recommended because it often becomes complicated.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">5</span>) <span style="color:#75715e"># [0, 1, 2, 3, 4]</span>
x <span style="color:#f92672">=</span> [e <span style="color:#66d9ef">for</span> e <span style="color:#f92672">in</span> [<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> e <span style="color:#66d9ef">for</span> e <span style="color:#f92672">in</span> l <span style="color:#66d9ef">if</span> e <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">3</span>] <span style="color:#66d9ef">if</span> e <span style="color:#f92672">&gt;</span><span style="color:#ae81ff">7</span>] Take out only <span style="color:#ae81ff">3</span> <span style="color:#f92672">or</span> more of the elements of <span style="color:#75715e"># l, and double it. Return only those greater than 7 as a list</span>
<span style="color:#66d9ef">print</span> x <span style="color:#75715e"># [8]</span>
</code></pre></div><h3 id="sort">sort</h3>
<p>There is a non-destructive <code>sorted()</code> function and a destructive <code>sort()</code> method.</p>
<p>Both <code>sorted()</code> and <code>sort()</code> are sorted in ascending order by default, but you can change it to descending order by passing <code>reverse=True</code> as an argument.</p>
<p>If the element to be sorted is a character string, it is sorted in dictionary order.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>]

<span style="color:#66d9ef">print</span> sorted(l) <span style="color:#75715e"># [1, 2, 3, 4, 5]</span>
<span style="color:#66d9ef">print</span> l <span style="color:#75715e"># [5, 1, 3, 4, 2]</span>
<span style="color:#66d9ef">print</span> l<span style="color:#f92672">.</span>sort() <span style="color:#75715e"># None</span>
<span style="color:#66d9ef">print</span> l <span style="color:#75715e"># [1, 2, 3, 4, 5]</span>

l<span style="color:#f92672">.</span>sort(reverse<span style="color:#f92672">=</span>True)
<span style="color:#66d9ef">print</span> l <span style="color:#75715e"># [5, 4, 3, 2, 1]</span>
</code></pre></div><p>When each element of the list is a tuple, by default, the 0th element of each element is sorted, then the same value is sorted by the 1st element, and so on.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l2 <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#39;hoge&#39;</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#e6db74">&#39;fuga&#39;</span>, <span style="color:#ae81ff">3</span>), (<span style="color:#e6db74">&#39;piyo&#39;</span>, <span style="color:#ae81ff">2</span>), (<span style="color:#e6db74">&#39;fuga&#39;</span>, <span style="color:#ae81ff">1</span>)]

<span style="color:#66d9ef">print</span> sorted(l2) <span style="color:#75715e"># [(&#39;fuga&#39;, 1), (&#39;fuga&#39;, 3), (&#39;hoge&#39;, 1), (&#39;piyo&#39;, 2)]</span>
</code></pre></div><p>By giving <code>key=&quot;lambda expression&quot;</code> to the argument, sorting by specifying a key is also possible.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l2 <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#39;hoge&#39;</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#e6db74">&#39;fuga&#39;</span>, <span style="color:#ae81ff">3</span>), (<span style="color:#e6db74">&#39;piyo&#39;</span>, <span style="color:#ae81ff">2</span>), (<span style="color:#e6db74">&#39;fuga&#39;</span>, <span style="color:#ae81ff">1</span>)]

Regarding <span style="color:#75715e">#l2, the following two are equivalent</span>
<span style="color:#66d9ef">print</span> sorted(l2) <span style="color:#75715e"># [(&#39;fuga&#39;, 1), (&#39;fuga&#39;, 3), (&#39;hoge&#39;, 1), (&#39;piyo&#39;, 2)]</span>
<span style="color:#66d9ef">print</span> sorted(l2, key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x: (x[<span style="color:#ae81ff">0</span>], x[<span style="color:#ae81ff">1</span>])) <span style="color:#75715e"># [(&#39;fuga&#39;, 1), (&#39;fuga&#39;, 3), (&#39;hoge&#39;, 1), (&#39; piyo&#39;, 2)]</span>

<span style="color:#75715e"># Sort the second element in descending order, and if they have the same value, sort the first element in ascending order</span>
<span style="color:#66d9ef">print</span> sorted(l2, key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x: (<span style="color:#f92672">-</span>x[<span style="color:#ae81ff">1</span>], x[<span style="color:#ae81ff">0</span>]) <span style="color:#75715e"># [(&#39;fuga&#39;, 3), (&#39;piyo&#39;, 2), (&#39;fuga&#39;, 1), (&#39; hoge&#39;, 1)]</span>
</code></pre></div><h2 id="set-and-dict">set and dict</h2>
<p>I will write it.</p>
<h2 id="stackqueue">Stack/Queue</h2>
<p>In Python, the list object acts as a stack and a queue.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]

<span style="color:#75715e"># push/enque</span>
l<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">4</span>)
<span style="color:#66d9ef">print</span> l <span style="color:#75715e"># [0, 1, 2, 3, 4]</span>

<span style="color:#75715e"># pop</span>
x <span style="color:#f92672">=</span> l<span style="color:#f92672">.</span>pop() <span style="color:#75715e"># 4</span>
<span style="color:#66d9ef">print</span> l <span style="color:#75715e"># [0, 1, 2, 3]</span>

<span style="color:#75715e"># deque</span>
y <span style="color:#f92672">=</span> l<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">0</span>) <span style="color:#75715e"># 0</span>
<span style="color:#66d9ef">print</span> l <span style="color:#75715e"># [1, 2, 3]</span>
</code></pre></div><p><strong>Added:</strong>
@wonderful_panda taught me.</p>
<p><a href="http://docs.python.jp/2/library/collections.html#collections.deque">8.3. collections — High performance container data types — Python 2.7ja1 documentation</a></p>
<p>Although <code>append()</code> and <code>pop()</code> are $O(1)$, <code>pop(0)</code> is an operation of $O(n)$, so when the number of list elements is large, dequeuing takes time. It becomes like this.
When using (stack,) queues it is safe to use collections.deque.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> deque

l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
q <span style="color:#f92672">=</span> deque(l)

<span style="color:#75715e"># push/enque</span>
q<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">4</span>)
<span style="color:#66d9ef">print</span> q <span style="color:#75715e"># deque([0, 1, 2, 3, 4])</span>

<span style="color:#75715e"># pop</span>
x <span style="color:#f92672">=</span> q<span style="color:#f92672">.</span>pop() <span style="color:#75715e"># 4</span>
<span style="color:#66d9ef">print</span> q <span style="color:#75715e"># deque([0, 1, 2, 3])</span>

<span style="color:#75715e"># deque</span>
y <span style="color:#f92672">=</span> q<span style="color:#f92672">.</span>popleft() <span style="color:#75715e"># 0</span>
<span style="color:#66d9ef">print</span> q <span style="color:#75715e"># deque([1, 2, 3])</span>
</code></pre></div><h2 id="priority-queue">Priority queue</h2>
<p><a href="http://lethe2211.hatenablog.com/entry/2014/12/30/011030">I implemented the Dijkstra algorithm in Python-don&rsquo;t say futu! </a></p>
<p>Priority queues (priority queues) that are taken care of in competition programming.</p>
<p>I wrote an article on the blog before, so please refer to that.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
