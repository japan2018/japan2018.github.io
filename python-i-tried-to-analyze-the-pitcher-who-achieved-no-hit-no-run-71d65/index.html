<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] I tried to analyze the pitcher who achieved no hit no run | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] I tried to analyze the pitcher who achieved no hit no run</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 24, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/matplotlib">matplotlib</a></code></small>


<small><code><a href="https://memotut.com/tags/python3">Python3</a></code></small>


<small><code><a href="https://memotut.com/tags/baseball">baseball</a></code></small>

</p>
<pre><code>#Overview
</code></pre>
<p>On June 18, 2014, the Dodgers Clayton Kershaw pitched nine times in the Colorado Rockies v Los Angeles Dodgers match, achieving 15 strikeouts and no-hit nolan. This time we will compare it to our opponent Rockies pitcher and analyze why Clayton Kershaw achieved a no-hit nolan.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/3d88ae98-7b8b-5541-199e-c48aa1a8ac4b.jpeg" width=60%></p>
<p>#environment
・Python 3.7.5
・Windows10
・Jupyter Notebook (Anaconda3)</p>
<h1 id="start-analysis-play-ball">Start analysis (play ball)</h1>
<h4 id="first-launch-jupyter-notebook-with-anaconda-prompt">First, launch Jupyter Notebook with Anaconda Prompt</h4>
<pre><code>$ jupyter notebook
</code></pre><h4 id="then-import-the-required-libraries">Then import the required libraries</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">%matplotlib inline
import requests
import xml.etree.ElementTree as ET
import os
import pandas as pd
</code></pre><h4 id="create-a-data-frame-for-future-analysis">Create a data frame for future analysis</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">#Create data frame
pitchDF = pd.DataFrame(columns = ['pitchIdx','inning','frame','ab','abIdx','batter','stand','speed',
                                       'pitchtype','px','pz','szTop','szBottom','des'], dtype=object)

# Create a ball dictionary
pitchDictionary = {&quot;FA&quot;:&quot;fastball&quot;, &quot;FF&quot;:&quot;4-seam fb&quot;, &quot;FT&quot;: &quot;2-seam fb&quot;, &quot;FC&quot;: &quot;fb-cutter&quot;, &quot;&quot;:&quot;unknown&quot;, None: &quot;none&quot;,
                    &quot;FS&quot;:&quot;fb-splitter&quot;, &quot;SL&quot;:&quot;slider&quot;, &quot;CH&quot;:&quot;changeup&quot;, &quot;CU&quot;:&quot;curveball&quot;, &quot;KC&quot;:&quot;knuckle-curve&quot;,
                    &quot;KN&quot;:&quot;knuckleball&quot;,&quot;EP&quot;:&quot;eephus&quot;, &quot;UN&quot;:&quot;unidentified&quot;, &quot;PO&quot;:&quot;pitchout&quot;, &quot;SI&quot;:&quot;sinker&quot;, &quot;SF&quot;:&quot;split-finger&quot;
                    }

# top = front, bottom = back
frames = [&quot;top&quot;, &quot;bottom&quot;]
</code></pre><h4 id="acquisition-of-player-information">Acquisition of player information</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb"># Read player information distributed by MLB Advanced Media
url ='https://gd2.mlb.com/components/game/mlb/year_2014/month_06/day_18/gid_2014_06_18_colmlb_lanmlb_1/players.xml'
resp = requests.get(url)
xmlfile = &quot;myplayers.xml&quot;

with open(xmlfile, mode='wb') as f:
    f.write(resp.content)
statinfo = os.stat(xmlfile)

Parse #xml file
tree = ET.parse(xmlfile)
game = tree.getroot()
teams = game.findall(&quot;./team&quot;)
playerDict = {}

for team in teams:
    players = team.findall(&quot;./player&quot;)
    for player in players:
        # Add player ID and player name to dictionary
        playerDict[ player.attrib.get(&quot;id&quot;) ]= player.attrib.get(&quot;first&quot;) + &quot;&quot; + player.attrib.get(&quot;last&quot;)
</code></pre><h4 id="data-acquisition-for-each-inning">Data acquisition for each inning</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb"># Read the data for each inning distributed by MLB Advanced Media
url ='https://gd2.mlb.com/components/game/mlb/year_2014/month_06/day_18/gid_2014_06_18_colmlb_lanmlb_1/inning/inning_all.xml'
resp = requests.get(url)
xmlfile = &quot;mygame.xml&quot;

with open(xmlfile,'wb') as f:
    f.write(resp.content)
statinfo = os.stat(xmlfile)

Parse #xml file
tree = ET.parse(xmlfile)
root = tree.getroot()
innings = root.findall(&quot;./inning&quot;)

totalPitchCount = 0
topPitchCount = 0
bottomPitchCount = 0

for inning in innings:
    for i in range(len(frames)):
        fr = inning.find(frames[i])
        if fr is not None:
            for ab in fr.iter('atbat'):
                battername = playerDict[ab.get('batter')]
                standside = ab.get('stand')
                abIdx = ab.get('num')
                abPitchCount = 0
                pitches = ab.findall(&quot;pitch&quot;)
                for pitch in pitches:
                    if pitch.attrib.get(&quot;start_speed&quot;) is None:
                        speed == 0
                    else:
                        speed = float(pitch.attrib.get(&quot;start_speed&quot;))

                    pxFloat = 0.0 if pitch.attrib.get(&quot;px&quot;) == None else float('{0:.2f}'.format(float(pitch.attrib.get(&quot;px&quot;)))))
                    pzFloat = 0.0 if pitch.attrib.get(&quot;pz&quot;) == None else float('{0:.2f}'.format(float(pitch.attrib.get(&quot;pz&quot;)))))
                    szTop = 0.0 if pitch.attrib.get(&quot;sz_top&quot;) == None else float('{0:.2f}'.format(float(pitch.attrib.get(&quot;sz_top&quot;)))))
                    szBot = 0.0 if pitch.attrib.get(&quot;sz_bot&quot;) == None else float('{0:.2f}'.format(float(pitch.attrib.get(&quot;sz_bot&quot;)))))

                    abPitchCount = abPitchCount + 1
                    totalPitchCount = totalPitchCount + 1
                    
                    if frames[i]=='top':
                        topPitchCount = topPitchCount + 1
                    else:
                        bottomPitchCount = bottomPitchCount + 1
                                  
                    inn = inning.attrib.get(&quot;num&quot;)
                    
                    verbosePitch = pitchDictionary[pitch.get(&quot;pitch_type&quot;)]

                    desPitch = pitch.get(&quot;des&quot;)
                    
                    # Add to data frame
                    pitchDF.loc[totalPitchCount] = [float(totalPitchCount), inn, frames[i], abIdx, abPitchCount, battername, standside, speed,
                                               verbosePitch, pxFloat, pzFloat, szTop, szBot, desPitch]
</code></pre><h4 id="data-frame-check">Data frame check</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">pitchDF

# pitchIdx=serial number
# inning=Inning
# frame = front and back
# ab = batter ID
# abIdx=Number of balls per bat
# batter=batter name
# stand = turn at bat (R → right-handed, L → left-handed)
# speed=ball speed
# pitchtype=Type
# px = Home base passage position (left and right) (right → positive, left → negative)
#pz = Home base passage position (high and low)
#szTop=Distance from the ground to the highest value in the batter's strike zone
#szBottom=Distance from the ground to the lowest value of the batter's strike zone
#des=result
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/fa354b6e-c76f-5a9d-099b-23b588599454.png" width=250%>#### Create strike zone</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">import matplotlib.pyplot as plt
import matplotlib.patches as patches

# Draw a new window
fig1 = plt.figure()
#add subplot
ax1 = fig1.add_subplot(111, aspect='equal')

# Strike zone width is 17 inches = 1.4 feet
# Strike zone height is 1.5 to 3.5 feet
# Baseball ball size is 3 inches = 0.25 feet
# How to find feet = inches / 12

# Strike zone creation
# The blue frame is the strike zone
platewidthInFeet = 17/12
szHeightInFeet = 3.5-1.5

# Create a strike zone outside one ball
# The light blue frame has a strike zone outside one ball
expandedPlateInFeet = 20/12
ballInFeet = 3/12
halfBallInFeet = ballInFeet / 2

ax1.add_patch(patches.Rectangle((expandedPlateInFeet/-2, 1.5-halfBallInFeet), expandedPlateInFeet, szHeightInFeet + ballInFeet, color='lightblue'))
ax1.add_patch(patches.Rectangle((platewidthInFeet/-2, 1.5), platewidthInFeet, szHeightInFeet))

plt.ylim(0, 5)
plt.xlim(-2, 2)
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/5f9a2d1d-d451-ce8e-0ab8-cc7deb00feb6.png" alt="strike.png"></p>
<h4 id="added-strikeball-judgment-to-data-frame">Added strike/ball judgment to data frame</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">uniqDesList = pitchDF.des.unique()
ballColList = []
strikeColList = []
ballCount = 0
strikeCount = 0

for index, row in pitchDF.iterrows():
    des = row['des']
    if row['abIdx'] == 1:
        ballCount = 0
        strikeCount = 0
    
    ballColList.append(ballCount)
    strikeColList.append(strikeCount)

    if'Ball' in des:
        ballCount = ballCount + 1
    elif'Foul' in des:
        if strikeCount is not 2:
            strikeCount = strikeCount + 1
    elif'Strike' in des:
        strikeCount = strikeCount + 1

# Add to data frame
pitchDF['ballCount'] = ballColList
pitchDF['strikeCount'] = strikeColList
</code></pre><h4 id="data-frame-check-1">Data frame check</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">pitchDF
</code></pre><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/6d491b24-bcaa-e423-ba21-9a0176918df9.png" width=250%>
<h4 id="clayton-kershaw-dodgers-pitching-tendency">Clayton Kershaw (Dodgers) pitching tendency</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df= pitchDF.loc[pitchDF['frame']=='top']

ax1 = df.plot(kind='scatter', x='px', y='pz', marker='o', color='red', figsize=[8,8], ylim=[0,4 ], xlim=[-2,2])
ax1.set_xlabel('horizontal location')
ax1.set_ylabel('vertical location')
ax1.set_title('Clayton Kershaw's pitching tendency')
ax1.set_aspect(aspect=1)

platewidthInFeet = 17/12
expandedPlateInFeet = 20/12
szTop = df[&quot;szTop&quot;].iloc[0]
szBottom = df[&quot;szBottom&quot;].iloc[0]
szHeightInFeet = szTop-szBottom
ballInFeet = 3/12
halfBallInFeet = ballInFeet / 2

outrect = ax1.add_patch(patches.Rectangle((expandedPlateInFeet/-2, szBottom-halfBallInFeet), expandedPlateInFeet, szHeightInFeet + ballInFeet, color='lightblue'))
rect = ax1.add_patch(patches.Rectangle((platewidthInFeet/-2, szBottom), platewidthInFeet, szHeightInFeet))
outrect.zorder=-2
rect.zorder=-1
    
plt.ylim(0, 5)
plt.xlim(-2.5, 2.5)
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/6de2e480-a88f-1f19-8e82-9f16fc1d17cc.png" alt="pitch_dodgers.png"></p>
<h4 id="rockies-pitching-tendency">Rockies pitching tendency</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df= pitchDF.loc[pitchDF['frame']=='bottom']

ax1 = df.plot(kind='scatter', x='px', y='pz', marker='o', color='red', figsize=[8,8], ylim=[0,4 ], xlim=[-2,2])
ax1.set_xlabel('horizontal location')
ax1.set_ylabel('vertical location')
ax1.set_title('Rockies throwing tendency')
ax1.set_aspect(aspect=1)
        
platewidthInFeet = 17/12
expandedPlateInFeet = 20/12
szTop = df[&quot;szTop&quot;].iloc[0]
szBottom = df[&quot;szBottom&quot;].iloc[0]
szHeightInFeet = szTop-szBottom
ballInFeet = 3/12
halfBallInFeet = ballInFeet / 2

outrect = ax1.add_patch(patches.Rectangle((expandedPlateInFeet/-2, szBottom-halfBallInFeet), expandedPlateInFeet, szHeightInFeet + ballInFeet, color='lightblue'))
rect = ax1.add_patch(patches.Rectangle((platewidthInFeet/-2, szBottom), platewidthInFeet, szHeightInFeet))
outrect.zorder=-2
rect.zorder=-1
    
plt.ylim(0, 5)
plt.xlim(-2.5, 2.5)
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/6b5f28e2-b74b-f1ec-4b14-0e2636261d71.png" alt="pitch_rockies.png"></p>
<p>Comparing both pitchers,
<strong>Clayton strike rate: 65%</strong>
<strong>Rockies strike rate: 56%</strong>
I understood that.
I feel that Clayton has less sideways balls than Rockies pitchers. Is there much variation in the vertical direction due to the effect of sliders or straight hops?</p>
<p>Next, let&rsquo;s look at the tendency of the first ball.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/6de2e480-a88f-1f19-8e82-9f16fc1d17cc.png" width=50%><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/6b5f28e2-b74b-f1ec-4b14-0e2636261d71.png" width=50%></p>
<h4 id="clayton-kershaw-dodgerss-first-ball-tendency">Clayton Kershaw (Dodgers)&rsquo;s first ball tendency</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df= pitchDF.loc[pitchDF['frame']=='top'].loc[pitchDF['abIdx']==1]

ax1 = df.plot(kind='scatter', x='px', y='pz', marker='o', color='red', figsize=[8,8], ylim=[0,4 ], xlim=[-2,2])
ax1.set_xlabel('horizontal location')
ax1.set_ylabel('vertical location')
ax1.set_title('Clayton Kershaw's first ball tendency')
ax1.set_aspect(aspect=1)
        
platewidthInFeet = 17/12
expandedPlateInFeet = 20/12
szTop = df[&quot;szTop&quot;].iloc[0]
szBottom = df[&quot;szBottom&quot;].iloc[0]
szHeightInFeet = szTop-szBottom
ballInFeet = 3/12
halfBallInFeet = ballInFeet / 2outrect = ax1.add_patch(patches.Rectangle((expandedPlateInFeet/-2, szBottom - halfBallInFeet), expandedPlateInFeet, szHeightInFeet + ballInFeet, color='lightblue'))
rect = ax1.add_patch(patches.Rectangle((platewidthInFeet/-2, szBottom), platewidthInFeet, szHeightInFeet))
outrect.zorder=-2 
rect.zorder=-1 
    
plt.ylim(0, 5)
plt.xlim(-2.5, 2.5)
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/37a5c0c9-c4ab-fad7-6ef5-813ccc17c3fa.png" alt="pitch_dodgers_firstball.png"></p>
<p>####Rockiesの初球傾向</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df= pitchDF.loc[pitchDF['frame']=='bottom'].loc[pitchDF['abIdx']==1]

ax1 = df.plot(kind='scatter', x='px', y='pz', marker='o', color='red', figsize=[8,8], ylim=[0,4], xlim=[-2,2])
ax1.set_xlabel('horizontal location')
ax1.set_ylabel('vertical location')
ax1.set_title('Rockiesの初球傾向')
ax1.set_aspect(aspect=1)
        
platewidthInFeet = 17 / 12
expandedPlateInFeet = 20 / 12
szTop = df[&quot;szTop&quot;].iloc[0]
szBottom = df[&quot;szBottom&quot;].iloc[0]
szHeightInFeet = szTop - szBottom
ballInFeet = 3 / 12
halfBallInFeet = ballInFeet / 2

outrect = ax1.add_patch(patches.Rectangle((expandedPlateInFeet/-2, szBottom - halfBallInFeet), expandedPlateInFeet, szHeightInFeet + ballInFeet, color='lightblue'))
rect = ax1.add_patch(patches.Rectangle((platewidthInFeet/-2, szBottom), platewidthInFeet, szHeightInFeet))
outrect.zorder=-2 
rect.zorder=-1 
    
plt.ylim(0, 5)
plt.xlim(-2.5, 2.5)
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/e9e44d7e-4b4c-9a75-f243-fb3ff6457e72.png" alt="pitch_rockies_firstball.png"></p>
<p>両投手を比較してみると、
<strong>Claytonの初球ストライク率: 71%</strong>
<strong>Rockiesの初球ストライク率: 64%</strong>
だということが分かりました。</p>
<p>Clayton投手は球数も少なくストライク先行してますね。</p>
<p>次は球速変化を見てみます。</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/37a5c0c9-c4ab-fad7-6ef5-813ccc17c3fa.png" width=50%><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/e9e44d7e-4b4c-9a75-f243-fb3ff6457e72.png" width=50%></p>
<p>####Clayton Kershaw(Dodgers)の球速変化</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df = pitchDF.loc[(pitchDF['frame']=='top')]

speed = df['speed']
print(sum(speed) / len(speed))
print(max(speed))
print(min(speed))
print(max(speed) - min(speed))

ax = df.plot(x='pitchIdx', y='speed', color='blue', figsize=[12,6])
ax.set_ylabel('speed')
ax.set_title('Rockiesの球速変化')
plt.savefig('pitch_rockies_speed.png')
plt.show()
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
# 平均球速: 87.88504672897201
# 最速: 95.0
# 最遅: 72.4
# 緩急差: 22.599999999999994
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/08df33a3-804a-906e-788c-2a9c17f09e11.png" alt="pitch_dodgers_speed.png"></p>
<p>####Rockiesの球速変化</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df = pitchDF.loc[(pitchDF['frame']=='bottom')]

speed = df['speed']
print(sum(speed) / len(speed))
print(max(speed))
print(min(speed))
print(max(speed) - min(speed))

ax = df.plot(x='pitchIdx', y='speed', color='blue', figsize=[12,6])
ax.set_ylabel('speed')
ax.set_title('Rockiesの球速変化')
plt.savefig('pitch_rockies_speed.png')
plt.show()
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
# 平均球速: 89.13599999999998
# 最速: 96.3
# 最遅: 71.8
# 緩急差: 24.5
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/fa886952-0d77-3170-aaec-fb7b8d70a206.png" alt="pitch_rockies_speed.png"></p>
<p>両投手を比較してみると、
<strong>Clayton</strong>
<strong>平均球速: 87マイル</strong>
<strong>最速: 95マイル</strong>
<strong>最遅: 72マイル</strong>
<strong>緩急差: 22マイル</strong></p>
<p><strong>Rockies</strong>
<strong>平均球速: 89マイル</strong>
<strong>最速: 96マイル</strong>
<strong>最遅: 71マイル</strong>
<strong>緩急差: 24マイル</strong>
だということが分かりました。</p>
<p>Rockiesは5人の投手を起用をしているので傾向に差がでるのは当たり前ですね。</p>
<p>次は球速変化を見てみます。</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/08df33a3-804a-906e-788c-2a9c17f09e11.png" width=50%><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/fa886952-0d77-3170-aaec-fb7b8d70a206.png" width=50%></p>
<p>####Clayton Kershaw(Dodgers)の球種割合</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df = pitchDF.loc[(pitchDF['frame']=='top')]

df.pitchtype.value_counts().plot(kind='pie', autopct=&quot;%.1f%%&quot;, pctdistance=0.8)
plt.axis('equal')
plt.axis('off')
plt.title('球種割合')
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/854fb085-61e3-1f80-b722-6241830a1255.png" alt="pitch_dodgers_ball.png"></p>
<p>####Clayton Kershaw(Dodgers)の4シームの結果</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df = pitchDF.loc[(pitchDF['pitchtype']=='4-seam fb') &amp; (pitchDF['frame']=='top')]

df.des.value_counts().plot(kind='pie', autopct=&quot;%.1f%%&quot;, pctdistance=0.8)
plt.axis('equal')
plt.axis('off')
plt.title('4-seamイベント結果')
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/b7406d4f-32e4-6677-2514-269db1d0641d.png" alt="pitch_dodgers_4seam.png"></p>
<p>####Clayton Kershaw(Dodgers)のスライダーの結果</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df = pitchDF.loc[(pitchDF['pitchtype']=='slider') &amp; (pitchDF['frame']=='top')]

df.des.value_counts().plot(kind='pie', autopct=&quot;%.1f%%&quot;, pctdistance=0.8)
plt.axis('equal')
plt.axis('off')
plt.title('sliderイベント結果')
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/0baa7e7e-38cf-fd27-935d-3672a29c7c95.png" alt="pitch_dodgers_slider.png">####ClaytonKershaw(Dodgers) curve results</p>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df = pitchDF.loc[(pitchDF['pitchtype']=='curveball') &amp; (pitchDF['frame']=='top')]

df.des.value_counts().plot(kind='pie', autopct=&quot;%.1f%%&quot;, pctdistance=0.8)
plt.axis('equal')
plt.axis('off')
plt.title('curveball event result')
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/4fa35d08-158e-c87c-8c7b-1ce3459a2f9d.png" alt="pitch_dodgers_curve.png"></p>
<h4 id="clayton-kershaw-dodgers-changeup-results">Clayton Kershaw (Dodgers) Changeup Results</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">df = pitchDF.loc[(pitchDF['pitchtype']=='changeup') &amp; (pitchDF['frame']=='top')]

df.des.value_counts().plot(kind='pie', autopct=&quot;%.1f%%&quot;, pctdistance=0.8)
plt.axis('equal')
plt.axis('off')
plt.title('changeup event result')
plt.show()
</code></pre><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/69abfc59-8203-7b9e-c474-ce6e62b20224.png" alt="pitch_dodgers_changeup.png"></p>
<p>Comparing the out rates for each pitch,
<strong>4 seams: 35.7%</strong>
<strong>Slider: 18.8%</strong>
<strong>Curve: 22.3%</strong>
<strong>Change up: 0%</strong>
I understood that.</p>
<p>You&rsquo;ve hit a lot with Forseem, which occupies half of the pitch.</p>
<p>Next, let&rsquo;s look at the distribution by count.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/b7406d4f-32e4-6677-2514-269db1d0641d.png" width=25%><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/0baa7e7e-38cf-fd27-935d-3672a29c7c95.png" width=25%><img src= "https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/4fa35d08-158e-c87c-8c7b-1ce3459a2f9d.png" width=25%><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/69abfc59-8203-7b9e-c474-ce6e62b20224.png" width=25%></p>
<h4 id="clayton-kershaw-dodgers-counts">Clayton Kershaw (Dodgers) Counts</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">titleList = []
dataList = []

fig, axes = plt.subplots(4, 3, figsize=(12,16))

# Create count
for b in range(4):
    for s in range(3):
        df = pitchDF.loc[(pitchDF['ballCount']==b) &amp; (pitchDF['strikeCount']==s) &amp; (pitchDF['frame']=='top')]
        title = &quot;Count:&quot; + str(b) + &quot;-&quot; + str(s) + &quot;(&quot; + str(len(df)) + &quot;)&quot;
        titleList.append(title)
        dataList.append(df)

for i, ax in enumerate(axes.flatten()):
    x = dataList[i].pitchtype.value_counts()
    l = dataList[i].pitchtype.unique()

    ax.pie(x, autopct=&quot;%.1f%%&quot;, pctdistance=0.9, labels=l)
    ax.set_title(titleList[i])

plt.show()
</code></pre><p>Well, almost 4 seams.</p>
<p>Next, let&rsquo;s look at the results by count.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/68853a67-4672-f3e2-8ac2-0bb3ab38037c.png" alt="a.png"></p>
<h4 id="results-by-count-of-clayton-kershaw-dodgers">Results by count of Clayton Kershaw (Dodgers)</h4>
<pre><code class="language-python:baseball_analysis.ipynb" data-lang="python:baseball_analysis.ipynb">titleList = []
dataList = []

fig, axes = plt.subplots(4, 3, figsize=(12,16))

for b in range(4):
    for s in range(3):
        df = pitchDF.loc[(pitchDF['ballCount']==b) &amp; (pitchDF['strikeCount']==s) &amp; pitchDF['des'] &amp; (pitchDF['frame']=='top') ]
        title = &quot;Count:&quot; + str(b) + &quot;-&quot; + str(s) + &quot;(&quot; + str(len(df)) + &quot;)&quot;
        titleList.append(title)
        dataList.append(df)

for i, ax in enumerate(axes.flatten()):
    x = dataList[i].des.value_counts()
    l = dataList[i].des.unique()

    ax.pie(x, autopct=&quot;%.1f%%&quot;, pctdistance=0.9, labels=l)
    ax.set_title(titleList[i])

plt.show()
</code></pre><p>You can see that there is a high probability of strike judgment and In play outs (out as a result of the ball flying to the field) with any count.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/474739/867ae17b-fc46-e670-f2c4-38a1e0c8c575.png" alt="result.png"></p>
<p>#Conclusion</p>
<ul>
<li>
<p>There are many first-strike strikes, and a favorable count has been set up (we have quite a few shots before becoming advantageous)</p>
</li>
<li>
<p>Strong tendency to distribute four seams</p>
</li>
<li>
<p>Watch out for sliders that come abruptly (probably vertical cracking system)</p>
</li>
</ul>
<p>#Summary
I was familiar with the characteristics of Clayton pitcher to some extent, but I couldn&rsquo;t get a clear result as to why I got a no-hit nolan unless I compared it with other games. You will also need a record of past matches with the batter. The pitcher for Clayton was well controlled, with only 107 throws in the match. MLB has more games than NPB and throws the season through in the middle 4 days, so even if the pitcher is good pitching, there is a tendency to get down with about 120 pitches due to pitch restrictions. Therefore, good control may be the most important factor in achieving a no-hit no-run in majors.
It&rsquo;s been a long time, but thank you for reading this far. If there are any mistakes, I would be very happy if you could point them out in the comments.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
