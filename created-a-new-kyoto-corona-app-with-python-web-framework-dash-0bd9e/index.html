<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Created a new Kyoto corona app with Python web framework Dash | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Created a new Kyoto corona app with Python web framework Dash</h1>
<p>
  <small class="text-secondary">
  
  
  Apr 22, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/dash"> Dash</a></code></small>


<small><code><a href="https://memotut.com/tags/web-app"> Web App</a></code></small>

</p>
<pre><code>I created a new Kyoto corona app using the Python web framework Dash. [Dash](https://dash.plotly.com/) is a framework created using Flask, React, and Plotly, which allows you to quickly create dashboard-like applications. You can also use callbacks to drive your application interactively. It's a framework that makes it easy for people who like data kneading like me but who don't know React or Vue very well.
</code></pre>
<p>The created application can be found at the following URL.</p>
<p><a href="https://chomoku.herokuapp.com/kyoto-covid">https://chomoku.herokuapp.com/kyoto-covid</a></p>
<p>For PC
<a href="https://gyazo.com/b0b21bb9f30a7bb6ec9f1f8b63398b30"><img src="https://i.gyazo.com/b0b21bb9f30a7bb6ec9f1f8b63398b30.gif" alt="Image from Gyazo"></a></p>
<p>For smartphones
<a href="https://gyazo.com/28f8fef98d77c2b83dcfe4f005f4b07c"><img src="https://i.gyazo.com/28f8fef98d77c2b83dcfe4f005f4b07c.gif" alt="Image from Gyazo"></a></p>
<p>Please see <a href="https://github.com/mazarimono/chomoku/blob/master/app1/kyoto_covid.py">github</a> for the code.</p>
<p>The development environment is as follows.</p>
<p>Windows10 Pro
Python3.7.5
dash 1.9.1
pandas 1.0.0</p>
<h2 id="app-features">App features</h2>
<p>The application reads and operates the data acquired from the Kyoto Prefecture site (the acquisition method etc. will be described later) as a CSV file. CSV file is read and processed using <a href="https://pandas.pydata.org/">pandas</a>. The app has three functions.</p>
<p>First of all, it is a part to display the whole numerical value.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/85433/f2b55918-456c-8900-8e59-28028779fcba.png" alt="data.png"></p>
<p>For the data displayed here, the CSV file that was read earlier is totaled and displayed.</p>
<p>Next is the data display part using graphs and tables.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/85433/a768d7f7-5100-842d-f992-35853caa4e9f.png" alt="graphandtable.png"></p>
<p>The first pie graph can be displayed by switching the current status of the infected person and the male/female ratio using radio buttons. The second tree graph shows the age and sex ratio of infected individuals. The third bar graph shows changes in the number of new infections and the cumulative number of infections. The fourth table shows the status of infected people by age and the status of infected people by region.</p>
<p>Finally, it is a display of the entire table data.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/85433/669d4033-a5f0-28c5-a4f5-a3ead212133a.png" alt="tabledata.png"></p>
<p>The table is created using a library called dash_table. With this, you can easily create a function to filter the table as shown below. You can also download the filtered data as a CSV file by pressing the EXPORT button. Of course, you can also download the data without filtering!</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/85433/362b4676-1cb4-7164-1436-df5292dc0ccb.png" alt="tabledata1.png"></p>
<p>The nice thing about this library is that you can write such functionality in short code. The code below is the code for the table used here. This table can be sorted as well as filtered and has other style settings, but it can be created with this many rows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
table <span style="color:#f92672">=</span> dash_table<span style="color:#f92672">.</span>DataTable(
                <span style="color:#75715e">#Table creation part</span>
                            columns<span style="color:#f92672">=</span>[{<span style="color:#e6db74">&#34;id&#34;</span>: i, <span style="color:#e6db74">&#34;name&#34;</span>: i} <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> kyoto_data<span style="color:#f92672">.</span>columns],
                            data<span style="color:#f92672">=</span>kyoto_data<span style="color:#f92672">.</span>to_dict(<span style="color:#e6db74">&#34;records&#34;</span>),
                <span style="color:#75715e">#Style creation part</span>
                            style_cell<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;textAlign&#34;</span>: <span style="color:#e6db74">&#34;center&#34;</span>},
                            style_as_list_view<span style="color:#f92672">=</span>True,
                            style_data_conditional<span style="color:#f92672">=</span>[
                                {
                                    <span style="color:#e6db74">&#34;if&#34;</span>: {<span style="color:#e6db74">&#34;row_index&#34;</span>: <span style="color:#e6db74">&#34;odd&#34;</span>},
                                    <span style="color:#e6db74">&#34;backgroundColor&#34;</span>: <span style="color:#e6db74">&#34;rgb(248, 248, 248)&#34;</span>,
                                }
                            ],
               <span style="color:#75715e"># Filtering function</span>
                            filter_action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;native&#34;</span>,
               <span style="color:#75715e">#Sort function</span>
                            sort_action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;native&#34;</span>,
                            sort_mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;multi&#34;</span>,
                            fixed_rows<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;headers&#34;</span>: True},
               <span style="color:#75715e"># File download function</span>
                            export_format<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;csv&#34;</span>,
                            virtualization<span style="color:#f92672">=</span>True,
                        ),
</code></pre></div><h2 id="data-acquisition-and-pre-processing">Data acquisition and pre-processing</h2>
<p>The data is obtained from the <a href="https://www.pref.kyoto.jp/kentai/news/novelcoronavirus.html#F">Kyoto Prefecture site</a>table.Fortabledata,use[read_htmlfunction]ofpandas(<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html)">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html)</a>. The actual method is as shown below, but in reality the number of tables on the site changes and it is necessary to change the last numerical part.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_html(<span style="color:#e6db74">&#34;https://www.pref.kyoto.jp/kentai/news/novelcoronavirus.html#F&#34;</span>)[<span style="color:#ae81ff">1</span>]
</code></pre></div><p>Also, the number of data in the table is increasing, and so far, the 1-50th data and the 51-100th data are on different sites. So I read the tables on those pages separately and finally in pandas&rsquo; <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.concat.html?highlight=Useconcat">concat function</a> to clean the data frame.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_html(<span style="color:#e6db74">&#34;https://www.pref.kyoto.jp/kentai/news/novelcoronavirus.html#F&#34;</span>)[<span style="color:#ae81ff">1</span>]
df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_html(<span style="color:#e6db74">&#34;https://www.pref.kyoto.jp/kentai/corona/hassei51-100.html&#34;</span>)[<span style="color:#ae81ff">0</span>]
df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_html(<span style="color:#e6db74">&#34;http://www.pref.kyoto.jp/kentai/corona/hassei1-50.html&#34;</span>)[<span style="color:#ae81ff">0</span>]
dff <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([df,df1,df2])
</code></pre></div><p>After reading the data, processing such as setting Reiwa to the Christian era and assigning the date of discharge to the column is performed. The data actually used for the application can be downloaded as a CSV file by pressing the &ldquo;EXPORT&rdquo; button in the upper left of the table at the bottom of the application.</p>
<p><a href="https://gyazo.com/57d65ad73f1ac385630f247ab2adac85"><img src="https://i.gyazo.com/57d65ad73f1ac385630f247ab2adac85.gif" alt="Image from Gyazo"></a></p>
<p>That&rsquo;s all for data acquisition. The data may not be updated on Saturdays and Sundays or may differ from the announcement, but I do not mind the details. Also, I am currently using CSV files, but I think that if the operation becomes stable, it will be APIized or changed to an externally created one.</p>
<h2 id="creating-an-application">Creating an application</h2>
<p>The application is created by combining Dash components. For this application, use dash_html_components, dash_core_components, dash_table that are installed at the same time when pip install dash.</p>
<p><a href="https://dash.plotly.com/dash-html-components">dash_html_components</a>isthehtmlelement,<a href="https://dash.plotly.com/dash-core-components">dash_core_components</a>isthetoolorgraph,<a href="https://dash.plotly.com/datatable">Dash_table</a> is a component that creates a data table.</p>
<p>Dash components can be used declaratively. For example, the code for the title at the top is as follows.<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/85433/d2c71373-bcff-7c83-91eb-15e75c090b79.png" alt="title.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">html<span style="color:#f92672">.</span>Div(
            [
                html<span style="color:#f92672">.</span>H3(
                    <span style="color:#e6db74">&#34;Changes in New Corona Infections in Kyoto Prefecture&#34;</span>,
                    style<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;display&#34;</span>: <span style="color:#e6db74">&#34;inline-block&#34;</span>, <span style="color:#e6db74">&#34;marginRight&#34;</span>: <span style="color:#ae81ff">40</span>},
                ),
                html<span style="color:#f92672">.</span>P(
                    f<span style="color:#e6db74">&#34;Last updated {update_date.date()}&#34;</span>, style<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;display&#34;</span>: <span style="color:#e6db74">&#34;inline-block&#34;</span>}, className<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;update_date&#34;</span>,
                ),
                html<span style="color:#f92672">.</span>A(<span style="color:#e6db74">&#34;Data source: Kyoto web page&#34;</span>, href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://www.pref.kyoto.jp/kentai/news/novelcoronavirus.html#F&#34;</span>, style<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;display&#34;</span>: <span style="color:#e6db74">&#34;block&#34;</span> }),
            ],
            style<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;backgroundColor&#34;</span>: <span style="color:#e6db74">&#34;aqua&#34;</span>, <span style="color:#e6db74">&#34;borderRadius&#34;</span>: <span style="color:#ae81ff">20</span>, <span style="color:#e6db74">&#34;padding&#34;</span>: <span style="color:#e6db74">&#34;2%&#34;</span>},
        ),
</code></pre></div><p>The first pie chart allows the current status of the infected person and the sex of the infected person to be displayed by switching with the radio button.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/85433/dc266583-b9a2-caf9-efa9-95951285ba6a.png" alt="pie.png"></p>
<p>The callback function of Dash is used in the part that moves the application interactively like this. Here&rsquo;s the code that lets you create a Dash application that can switch and display this pie chart with a radio button. To make it work as a standalone application for testing, I use the sample of plotly.express to write the code of the application that switches between the pie chart and the scatter chart (it works with copy and paste w).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> plotly.express <span style="color:#f92672">as</span> px
<span style="color:#f92672">import</span> dash
<span style="color:#f92672">import</span> dash_html_components <span style="color:#f92672">as</span> html
<span style="color:#f92672">import</span> dash_core_components <span style="color:#f92672">as</span> dcc

<span style="color:#f92672">from</span> dash.dependencies <span style="color:#f92672">import</span> Input, Output

<span style="color:#75715e">#loading gapminder data</span>
gapminder <span style="color:#f92672">=</span> px<span style="color:#f92672">.</span>data<span style="color:#f92672">.</span>gapminder()
gapminder2007 <span style="color:#f92672">=</span> gapminder[gapminder<span style="color:#f92672">.</span>year<span style="color:#f92672">==</span><span style="color:#ae81ff">2007</span>]<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#34;gdpPercap&#34;</span>)[<span style="color:#f92672">-</span><span style="color:#ae81ff">30</span>:]

<span style="color:#75715e"># Create two types of graphs</span>
gapminder_bar <span style="color:#f92672">=</span> px<span style="color:#f92672">.</span>bar(
    gapminder2007,
    x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;country&#34;</span>,
    y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gdpPercap&#34;</span>
)

gapminder_scatter <span style="color:#f92672">=</span> px<span style="color:#f92672">.</span>scatter(
    gapminder,
    x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gdpPercap&#34;</span>,
    y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lifeExp&#34;</span>,
    size<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pop&#34;</span>,
    size_max<span style="color:#f92672">=</span><span style="color:#ae81ff">70</span>,
    animation_frame<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;year&#34;</span>,
    log_x<span style="color:#f92672">=</span>True,
    range_y<span style="color:#f92672">=</span>[<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">90</span>],
    color<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;continent&#34;</span>
)

<span style="color:#75715e"># ➌ Create a Dash instance</span>
app <span style="color:#f92672">=</span> dash<span style="color:#f92672">.</span>Dash(__name__)

<span style="color:#75715e"># ➍ Create layout</span>
app<span style="color:#f92672">.</span>layout <span style="color:#f92672">=</span> html<span style="color:#f92672">.</span>Div([
    dcc<span style="color:#f92672">.</span>RadioItems(
        id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gap_radio&#34;</span>,
        options<span style="color:#f92672">=</span>[{<span style="color:#e6db74">&#34;label&#34;</span>: i, <span style="color:#e6db74">&#34;value&#34;</span>: i} <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> [<span style="color:#e6db74">&#34;pie chart&#34;</span>, <span style="color:#e6db74">&#34;scatter plot&#34;</span>]],
        value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pie chart&#34;</span>
    ),
    dcc<span style="color:#f92672">.</span>Graph(id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gap_graph&#34;</span>)
])

<span style="color:#75715e"># ➎ Create a callback</span>
<span style="color:#a6e22e">@app.callback</span>(Output(<span style="color:#e6db74">&#34;gap_graph&#34;</span>, <span style="color:#e6db74">&#34;figure&#34;</span>), [Input(<span style="color:#e6db74">&#34;gap_radio&#34;</span>, <span style="color:#e6db74">&#34;value&#34;</span>)])
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_graph</span>(selected_value):
    <span style="color:#66d9ef">if</span> selected_value <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;pie chart&#34;</span>:
        <span style="color:#66d9ef">return</span> gapminder_pie
    <span style="color:#66d9ef">return</span> gapminder_scatter

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    app<span style="color:#f92672">.</span>run_server(debug<span style="color:#f92672">=</span>True)

</code></pre></div><p>The above code first loads the gapminder data from plotly.express (➊). Next, create two kinds of graphs to use for switching using <a href="https://plotly.com/python/plotly-express/">plotly.express</a>(➋). plotly.express is an excellent way to draw graphs intuitively by simply passing column names declaratively using a data frame. The first is a bar graph of GDP per capita in 2007 and the second is a scatter plot of all data.</p>
<p>Next, create an instance of Dash (➌). Next, create a layout (➍). Layout is created by combining components. Here, create a layout that switches between two types of graphs with the radio button. Finally, there is a callback (➎). In the callback, the graph is returned according to the value selected with the radio button.</p>
<p>When you run the code, the bar chart is first drawn as shown below.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/85433/26d11402-5e73-ac83-fa60-6d26ef5720fc.png" alt="bar.png"></p>
<p>Then select a scatter plot to draw a scatter plot with a play button and slider. Press the play button to automatically update the year and switch the data displayed in the scatter plot. This is done because &ldquo;year&rdquo; is passed to the animation_frame argument of the scatter function.</p>
<p><a href="https://gyazo.com/e02b2b37f1a7823fc485a1b242a62572"><img src="https://i.gyazo.com/e02b2b37f1a7823fc485a1b242a62572.gif" alt="Image from Gyazo"></a></p>
<p>With this feeling, we are creating a transition for each graph in the application.</p>
<h2 id="mobile-support">Mobile support</h2>
<p>Mobile support was created by reading <a href="https://developer.mozilla.org/en/docs/Learn/CSS/CSS_layout/Responsive_Design">MDN Responsive Design</a>. As I read this, I found that by using meta tags, and by setting CSS that matches the screen size using media queries, it can be made mobile.</p>
<p>To pass meta tags in Dash, use the meta_tags argument of the Dash class. Actually it is passed as below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">app <span style="color:#f92672">=</span> dash<span style="color:#f92672">.</span>Dash(__name__, meta_tags<span style="color:#f92672">=</span>[
        {<span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;viewport&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;width=device-width, initial-scale=1.0&#34;</span>}
    ]
</code></pre></div><p>Then <a href="https://github.com/mazarimono/chomoku/blob/master/assets/style.css">I put the CSS in the assets directory</a>. If you put CSS and JavaScript in the assets directory, Dash will automatically read it.</p>
<h2 id="summary">Summary</h2>
<p>With the above feeling, I created a new corona app for Kyoto. If you want to know Dash in a little more detail, the Dash article I wrote a long time ago may fit.</p>
<p><a href="https://qiita.com/OgawaHideyuki/items/6df65fbbc688f52eb82c">https://qiita.com/OgawaHideyuki/items/6df65fbbc688f52eb82c</a></p>
<p>But I think the official documentation is the best.</p>
<p><a href="https://dash.plotly.com/">https://dash.plotly.com/</a></p>
<p>Also, since I&rsquo;m continuing hands-on at the Hannari Python group, if you have any questions, I think other tsuba will answer.</p>
<p><a href="https://hannari-python.connpass.com/event/173990/">https://hannari-python.connpass.com/event/173990/</a></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
