<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>How to easily operate IOT appliances from Siri by API hacking | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>How to easily operate IOT appliances from Siri by API hacking</h1>
<p>
  <small class="text-secondary">
  
  
  Mar 8, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/iphone">iPhone</a></code></small>


<small><code><a href="https://memotut.com/tags/intellij">IntelliJ</a></code></small>


<small><code><a href="https://memotut.com/tags/raspberrypi">RaspberryPi</a></code></small>


<small><code><a href="https://memotut.com/tags/iot">IoT</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>IOT home appliances that can be controlled from a smartphone via Wi-Fi are convenient.
But
It is troublesome to open a dedicated app for each home appliance every time. .
Moreover, if the number of home appliances increases, the number of apps will increase. . . (&lsquo;Д`)</p>
<p>simply,
<strong>I want to operate all the home appliances at home just by calling Siri!</strong></p>
<p>At least I want to operate with just a few taps from appleWatch.
It is a plan to integrate such IOT appliances into Siri.</p>
<h2 id="rough-flow">Rough flow</h2>
<p>In this article, we will outline the following flow.</p>
<ol>
<li>Find out how your app interacts with IOT appliances</li>
<li>Control the IOT home appliances from the browser, free software, and API tools of IDE to check the behavior</li>
<li>Coding the control program</li>
<li>Settings for Siri (using Raspberry Pi)</li>
</ol>
<p>GitHub repository is here↓
<a href="https://github.com/akiraseto/daikinCleaner">Github:akiraset/daikinCleaner</a></p>
<p>##environment
The following environment is assumed.</p>
<ul>
<li>RaspberryPi: To make homebridge resident and become HomeKit hub</li>
<li>iPhone: Operate IOT home appliances app, use with mitmproxy</li>
<li>appleWatch: It&rsquo;s fun to operate♪ It&rsquo;s easy to operate from the futon when you sleep at night. (You can substitute for iPhone)</li>
<li>Mac: PC, Linux are also acceptable, but please replace the installation method accordingly.</li>
<li>python3.7</li>
</ul>
<h2 id="review-what-are-so-called-iot-appliances">Review: What are so-called IOT appliances?</h2>
<p>&ldquo;Internet Of Things: Connecting Things to the Internet&rdquo;
By the way, I will explain so, but in a nutshell, IOT home appliances today are:
<strong>Home appliances that can be controlled with a smartphone app via Wi-Fi!</strong>
I think this is one word for the time being.</p>
<p>As a feature, manufacturers provide apps for controlling home appliances.
Air purifier → App A
TV → App B
Air conditioner → App C
︙
Ah, the number of apps is increasing.
If you try to operate 10 home appliances, you will have to install 10 apps and use them properly. There seems to be a move to unify, but it seems that it will take some time.</p>
<p>Well, after all, it&rsquo;s a hassle (´Д`)
As I mentioned at the beginning, I just want to turn it on/off from Siri or appleWatch.</p>
<p>#Interaction between IOT appliances and apps: Are IOT appliances controlled by API?</p>
<p>I noticed one day,
The fact that home appliances can be controlled when they are connected to the same network via Wi-Fi
Isn&rsquo;t it simply controlling by exchanging with API?
<strong>If you understand the API specifications, you can control it programmatically without using an app?!</strong></p>
<p>However, note that there are two types of IOT home appliances: application and authentication are required/not required.
From the conclusion,
With authentication, it seems difficult to control it programmatically.
Perhaps you are using the authentication key to interact with the app and home appliances.
I can&rsquo;t get the authentication key I&rsquo;m using, so I think it&rsquo;s difficult to control using a program.
In the case of my house, the NORITZ water heater is an IOT home appliance, but it requires certification.
I searched with Iloilo, but my skill could not control the NORITZ water heater from the program.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/c4c5a784-5479-1bd0-8c51-5d55b06ccefd.png" alt="IMG_7425.png">
If you think about it carefully, it&rsquo;s too dangerous for a gas and fire water heater to easily lose control. As expected, Mr. NORITZ!
That&rsquo;s why it is hacking on IOT appliances that do not require certification. **</p>
<h2 id="iot-home-appliances-that-do-not-require-certification-daikin-air-purifier">IOT home appliances that do not require certification: Daikin Air Purifier</h2>
<p>I found an IOT home appliance that meets my requirements.
&ldquo;Daikin Humidification Streamer Air Purifier MCK70W&rdquo;
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/9a94aca0-4cca-c998-2195-642a69e81981.png" alt="IMG_7423.png"></p>
<p>This time we will proceed based on this home appliance.</p>
<h2 id="identify-api-specifications-with-iot-home-appliances">Identify API specifications with IOT home appliances</h2>
<p>First of all, it is necessary to understand what API specifications are used for communication.</p>
<p>The first thing to do is to first look for the API specification on the manufacturer&rsquo;s site.
If the manufacturer publishes the API specifications, it is the surest and easiest way to refer to them.</p>
<p>Unfortunately, there are almost no manufacturers that disclose the API specifications of IOT home appliances, so in that case you need to search for it yourself.
How?? :thinking:</p>
<p>If you go into the middle of the control app and IOT home appliances, you can peek into the contents of the API. .
Then you can check the API contents you want to operate.
You don&rsquo;t need to know all API specifications, you just need to know the functions you want to control.
Also, it is only necessary to let the application actually give an instruction and check the instruction content.</p>
<p>Use #<code>mitmproxy</code>
The right tool is <code>mitmproxy</code>.
The name stands for &ldquo;man in the middle proxy&rdquo;.</p>
<p>mitmproxy is a program written in python, and it is a tool that is often used to check request and response between the application and the server, mainly in smartphone application development.</p>
<p>For details, refer to the following article. ↓ It is a little old, but it is easy to understand.
<a href="https://qiita.com/hkurokawa/items/9034274cc1b9e1405c68">Introduction to mitmproxy for mobile application developers</a></p>
<p>What you can do with mitmproxy is</p>
<ol>
<li>Install mitmproxy on Mac</li>
<li>Set to communicate with Mac that makes iPhone a proxy</li>
<li>The command is actually issued by the application, and the request and response are confirmed on the intermediate Mac.</li>
</ol>
<p>Then, I will briefly introduce the introduction method.</p>
<h2 id="preparation-of-mitmproxy">Preparation of mitmproxy</h2>
<p>First is the setup.</p>
<p>###install
To install on Mac, use pip.
Xcode is required for installation.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">
<span style="color:#75715e">#install</span>
pip install mitmproxy
</code></pre></div><h3 id="iphone-preparation">iphone preparation</h3>
<p>Next, set iPhone to accept mitmproxy running on Mac as a proxy server.
Select <code>Settings&gt; Wi-Fi&gt; Connected Network&gt; HTTP Proxy</code> of iPhone.
Set the following contents.</p>
<ul>
<li>Server: Mac IP address</li>
<li>Port number: 8080 (default)</li>
<li>Authentication: Off</li>
</ul>
<p>If you can, start mitmproxy on the Mac side.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">mitmproxy
</code></pre></div><p>If you start it on a Mac, you need to get the mitmproxy certificate on the iPhone side.
Return to iPhone again.
Open the iPhone browser and access the <code>http://mitm.it</code> address.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/36390e9a-b17e-aa9b-7b02-32322c3ebd8b.png" alt="IMG_7431.PNG"></p>
<p>Select the Apple mark and install the certificate.
Now you are ready to use mitmproxy.</p>
<h2 id="actually-check-the-api-from-the-application-with-mitmproxy">Actually check the API from the application with mitmproxy.</h2>
<p>Now, let&rsquo;s issue an instruction from the application.</p>
<p>・Daikin&rsquo;s app ↓ Try to run the humidification mode.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/aff332c2-b511-4045-35d4-80405c8e92cc.png" alt="IMG_7430.PNG"></p>
<p>・We were able to confirm receipt of the request with mitmproxy↓
![Screenshot 2020-03-08 22.00.33.png](<a href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/e7f05cca-6d31-0af6-05c7-(dc3a821c303c.png)">https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/e7f05cca-6d31-0af6-05c7-(dc3a821c303c.png)</a></p>
<p>Yes, I got it!
In the same way, check the features you think you need.</p>
<p>#development of
Once you have the minimum required API specifications, write a control program that uses the API.
It is recommended to code while checking the movement to see if the API confirmed with mitmproxy can really control IOT home appliances.</p>
<h2 id="check-the-behavior-of-home-appliances-using-api">Check the behavior of home appliances using API</h2>
<p>You can hit the API from the browser to check it, but it is very inefficient. We recommend using the API check tool.
I am using IntelliJ API tools.
If you are not using JetBrains, please use a feature similar to your IDE, maybe there is one.
If you don&rsquo;t have it, the free software <code>Postman</code> is famous for its ease of use.
<a href="https://www.postman.com/">Postman Download</a></p>
<p>Below, we will explain using the <code>IntelliJ: RESTful Web Service Test</code> tool.
I think other API tools are similar, so please replace them.</p>
<p>・Instruct the air purifier to start in humidification mode
![Screenshot 2020-03-06 10.38.56.png](<a href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/5d85fc74-c9cf-cf4a-09dc-(79e987dd1b8d.png)">https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/5d85fc74-c9cf-cf4a-09dc-(79e987dd1b8d.png)</a></p>
<p>・Acquire sensor information from air purifier
![Screenshot 2020-03-06 10.37.14.png](<a href="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/8ba320d4-ad3c-d7e8-56a6-(5a3db0746601.png)">https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/8ba320d4-ad3c-d7e8-56a6-(5a3db0746601.png)</a></p>
<ul>
<li>
<p>You can check and execute the history retroactively.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/3f9f07bf-bb53-1b2e-c279-aded150f68c2.png" alt="Screenshot 2020-03-06 10.35.50.png">
There is a display saying &ldquo;This REST client is ~&rdquo;, but you can use it normally without any problems.
I will briefly explain.</p>
</li>
<li>
<p>-Method: GET/POST etc.</p>
</li>
<li>
<p>Host/Port: Target IP address (in this case, IP address of IOT home appliance)</p>
</li>
<li>
<p>Path: Since this is an API, the content of this path differs depending on the processing content. Coco is important.-Request parameters: Add the required parameters.
Add with <code>+</code> and delete with <code>-</code>. You can change it by double-clicking.</p>
</li>
<li>
<p>Green <code>▶</code> in the upper left corner is the execution. Your request will be sent. (IOT home appliances behave)</p>
</li>
<li>
<p>Request body: You can use the saved json file as a parameter with text or file contents.</p>
</li>
</ul>
<p>other,</p>
<ul>
<li>Response: You can check the response content. (Reply from IOT home appliances is displayed)</li>
<li>Left arrow: allows you to go back in history.</li>
<li>Import/export is also possible</li>
</ul>
<p>Coding your control program while using the API tool will make a lot of progress, so please try it.</p>
<h2 id="control-program">Control program</h2>
<p>It&rsquo;s easy, but I wrote this code roughly.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py:daikinCleaner.py" data-lang="py:daikinCleaner.py">
<span style="color:#f92672">import</span> sys
<span style="color:#f92672">import</span> requests

args <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv
<span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;An argument is necessary.&#39;</span>)
    exit()
arg <span style="color:#f92672">=</span> args[<span style="color:#ae81ff">1</span>]

<span style="color:#75715e"># IP address of the air purifier</span>
url <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;http://192.168.0.10&#39;</span>

<span style="color:#75715e"># Basic information</span>
basic_info <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/common/basic_info&#39;</span>
<span style="color:#75715e"># Get sensor</span>
get_sensor <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/cleaner/get_sensor_info&#39;</span>

<span style="color:#75715e"># Get control</span>
get_control <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/cleaner/get_control_info&#39;</span>
<span style="color:#75715e"># Control SET</span>
set_control <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/cleaner/set_control_info&#39;</span>

<span style="color:#75715e"># Set of parameters to execute</span>
param_off <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;pow&#39;</span>: <span style="color:#ae81ff">0</span>}

param_max <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;pow&#39;</span>: <span style="color:#ae81ff">1</span>,
             <span style="color:#e6db74">&#39;mode&#39;</span>: <span style="color:#ae81ff">0</span>,
             <span style="color:#e6db74">&#39;humd&#39;</span>: <span style="color:#ae81ff">3</span>,
             <span style="color:#e6db74">&#39;airvol&#39;</span>: <span style="color:#ae81ff">5</span>,
             }

param_hum <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;pow&#39;</span>: <span style="color:#ae81ff">1</span>,
             <span style="color:#e6db74">&#39;mode&#39;</span>: <span style="color:#ae81ff">4</span>,
             <span style="color:#e6db74">&#39;humd&#39;</span>: <span style="color:#ae81ff">4</span>,
             <span style="color:#e6db74">&#39;airvol&#39;</span>: <span style="color:#ae81ff">0</span>,
             }


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">control</span>(params):
    <span style="color:#66d9ef">return</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">+</span> set_control, params)


<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;param:&#39;</span>, arg)

<span style="color:#66d9ef">if</span> arg <span style="color:#f92672">==</span><span style="color:#e6db74">&#39;off&#39;</span>:
    res <span style="color:#f92672">=</span> control(param_off)
    text <span style="color:#f92672">=</span> res<span style="color:#f92672">.</span>text
<span style="color:#66d9ef">elif</span> arg <span style="color:#f92672">==</span><span style="color:#e6db74">&#39;max&#39;</span>:
    res <span style="color:#f92672">=</span> control(param_max)
    text <span style="color:#f92672">=</span> res<span style="color:#f92672">.</span>text
<span style="color:#66d9ef">elif</span> arg <span style="color:#f92672">==</span><span style="color:#e6db74">&#39;hum&#39;</span>:
    res <span style="color:#f92672">=</span> control(param_hum)
    text <span style="color:#f92672">=</span> res<span style="color:#f92672">.</span>text
<span style="color:#66d9ef">else</span>:
    text <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;nothing&#39;</span>

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;res:&#39;</span>, text)
</code></pre></div><ul>
<li>The program itself has arguments.
-<code>off</code>: turn off the air purifier
-<code>max</code>: Maximum humidity, maximum wind force!
-<code>hum</code>: Start in humidification mode</li>
<li><code>/common/basic_info</code>: You can get basic information such as the model number of the air purifier.</li>
<li><code>/cleaner/get_sensor_info</code>: You can get sensor information such as humidity, temperature, air pollution. Mr. Daikin&rsquo;s sensor is excellent, so it seems that something else can be made by acquiring this sensor information. (I get it regularly and make a graph for statistics, or the light turns on if the air gets dirty, etc.)</li>
<li><code>/cleaner/set_control_info</code>: Use this path to control the air purifier.</li>
</ul>
<p>Set the control program in #HomeKit.
In order to operate with Siri, it is necessary to always accept program instructions with Apple&rsquo;s HomeKit, so make the Raspberry Pi a HomeKit hub terminal and make it always stand-by.</p>
<p>To register the program in HomeKit, you can easily set it by using homebridge of Node.js library. See previous article for detailed explanation and setting of HomeKit and homebridge
[API linking Philips_Hue! ~ Convert Rasppai to HomeKit](<a href="https://qiita.com/akinko/items/58c650f99f25fc7e3cb5#%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E3%82(%92homekit%E5%8C%96%E3%81%99%E3%82%8B)">https://qiita.com/akinko/items/58c650f99f25fc7e3cb5#%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4%E3%82(%92homekit%E5%8C%96%E3%81%99%E3%82%8B)</a></p>
<p>This time, I added the following to homebridge.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json:config.json" data-lang="json:config.json">
  <span style="color:#e6db74">&#34;accessories&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> [
    {
      <span style="color:#f92672">&#34;accessory&#34;</span>: <span style="color:#e6db74">&#34;CMD&#34;</span>,
      <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;air cleaner&#34;</span>,
      <span style="color:#f92672">&#34;on_cmd&#34;</span>: <span style="color:#e6db74">&#34;python3 /home/pi/daikinCleaner/daikinCleaner.py hum&#34;</span>,
      <span style="color:#f92672">&#34;off_cmd&#34;</span>: <span style="color:#e6db74">&#34;python3 /home/pi/daikinCleaner/daikinCleaner.py off&#34;</span>
    }
  ]
</code></pre></div><p>This time, the skin is dry in winter, so I specified <code>hum</code> as an argument so that it can be turned on/off in the humidification mode. When the rainy season comes, I will change the argument and change it to fresh air: thumbsup_tone2:</p>
<p>After setting up here, restart homebridge and you&rsquo;re ready to go!
I will use it immediately!!</p>
<h1 id="usability">Usability</h1>
<p>&ldquo;Turn on the air cleaner (on!)&rdquo; → The air purifier operates in the humidification mode.
&ldquo;Turn off the air cleaner (OFF)&rdquo; → The air purifier turns off.</p>
<p>You can also use apple Watch (iPhone)
Simply tap to turn on/off!
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215645/89ca9510-a809-c9ba-2ddf-a41961b3d518.png" alt="IMG_7422.png">
I&rsquo;m glad I did it many times in front of the air purifier w</p>
<p>I&rsquo;ve added more to the Home scene and have fun with:
&ldquo;Good night&rdquo; → The light goes out &amp; PS4 is powered off &amp; Air purifier is off
&ldquo;Good morning&rdquo; → Some lights turned on &amp; the air purifier started in humidification mode</p>
<p>My goal is to live a bedridden life, so I will do my best to make every effort for that!</p>
<p>#in conclusion</p>
<p>This time, I explained using Daikin&rsquo;s air purifier, but I think that you can control other IOT-enabled home appliances if you do not need authentication using Wi-fi.
We will investigate the home appliances that have eye-stars one by one and incorporate them into the Siri family&hellip;
It&rsquo;s fun and exciting just to imagine. (And my respectful eyes from my daughter are collected.)</p>
<p>Thank you for reading to the end.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
