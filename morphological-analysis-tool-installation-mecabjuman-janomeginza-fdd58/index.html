<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Morphological analysis tool installation (MeCab,Juman&#43;&#43;,Janome,GiNZA) | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Morphological analysis tool installation (MeCab,Juman++,Janome,GiNZA)</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 9, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/nlp"> NLP</a></code></small>


<small><code><a href="https://memotut.com/tags/morphological-analysis"> morphological analysis</a></code></small>

</p>
<pre><code>A morphological analysis tool is indispensable for Japanese text processing, but it was troublesome to check the installation method of the tool each time, so the following 4 installations are summarized.
</code></pre>
<ul>
<li>MeCab</li>
<li>Juman++</li>
<li>Janome</li>
<li>GiNZA</li>
</ul>
<p>Installation environment: Ubuntu 18.04</p>
<h2 id="mecab">MeCab</h2>
<p>Quoted from <a href="https://taku910.github.io/mecab/">official site</a></p>
<blockquote>
<p>MeCab is an open source morphological analysis engine developed through the Joint Research Unit Project of Kyoto University Graduate School of Informatics-Nippon Telegraph and Telephone Corporation, Communication Science Laboratories. The basic policy is a general-purpose design that does not depend on language, dictionary, or corpus. Conditional Random Fields (CRF) is used for parameter estimation, and the performance is improved compared to the hidden Markov model adopted by ChaSen. It is also faster than ChaSen, Juman, KAKASI on average.</p>
</blockquote>
<pre><code>apt-get install -y mecab libmecab-dev mecab-ipadic-utf8
</code></pre><p>In the default dictionary, proper nouns such as new words are decomposed into morphemes, so <code>mecab-ipadic-NEologd</code> is often used.
I don&rsquo;t know if the granularity of words when divided using this dictionary will be morphemes, so it will be treated as a dictionary for &ldquo;word segmentation&rdquo; rather than a morpheme dictionary <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<pre><code>cd /usr/local/src
git clone --depth 1 https://github.com/neologd/mecab-ipadic-neologd.git
cd mecab-ipadic-neologd
./bin/install-mecab-ipadic-neologd -n

#If you want to install all dictionaries
# ./bin/install-mecab-ipadic-neologd -n -a
#When confirming the default installation destination
# echo `mecab-config --dicdir`&quot;/mecab-ipadic-neologd&quot;

# Make default dictionary mecab-ipadic-neologd
sed -i's/dicdir.*/dicdir = \/usr\/lib\/x86_64-linux-gnu\/mecab\/dic\/mecab-ipadic-neologd/' /etc/mecabrc
</code></pre><p>Morphological analysis results when MeCab default is on the top and mecab-ipadic-NEologd is on the bottom
Treated Tokyo Sky Tree as a proper noun and found that it was not decomposed</p>
<pre><code>Tokyo noun, proper noun, region, general, *,*, Tokyo, Tokyo, Tokyo
Sky noun, general, *,*,*,*,sky,sky,sky
Tree noun, general, *,*,*,*, tree, tree, tree
EOS

Tokyo Sky Tree Noun, Proper Noun, General, *,*,*, Tokyo Sky Tree, Tokyo Sky Tree, Tokyo Sky Tree
EOS
</code></pre><p>Install the python bindings library for use from python</p>
<pre><code>pip install mecab-python3
</code></pre><p>Usage example in python</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> MeCab
<span style="color:#75715e"># Specify dictionary</span>
mecab <span style="color:#f92672">=</span> MeCab<span style="color:#f92672">.</span>Tagger(<span style="color:#e6db74">&#34;-Owakati -d /usr/lib/x86_64-linux-gnu/mecab/dic/mecab-ipadic-neologd&#34;</span>)
mecab<span style="color:#f92672">.</span>parse(<span style="color:#e6db74">&#34;Tokyo Sky Tree-&#34;</span>)

<span style="color:#75715e">#&#39;Tokyo Sky Tree \n&#39;</span>
</code></pre></div><p>For some reason, even if the dictionary path referenced by MeCab in <code>mecabrc</code> is changed, the default dictionary of <code>python-mecab</code> does not change&hellip; and it is directly specified.</p>
<h2 id="juman">Juman++</h2>
<p>Quoted from <a href="http://nlp.ist.i.kyoto-u.ac.jp/index.php?JUMAN++">Kurohashi/Kawara Lab</a></p>
<blockquote>
<p>JUMAN++ is a high-performance morphological analysis system that uses a language model. By using the Recurrent Neural Network Language Model (RNNLM) as a language model, we analyze the word sequence considering the semantic naturalness. As a result, the performance is greatly improved compared to JUMAN and MeCab.</p>
</blockquote>
<pre><code>#Download package
wget https://github.com/ku-nlp/jumanpp/releases/download/v2.0.0-rc3/jumanpp-2.0.0-rc3.tar.xz

# Unzip, install
tar xf jumanpp-2.0.0-rc3.tar.xz
cd jumanpp-2.0.0-rc3
mkdir bld
cd bld
cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local
make
sudo make install
</code></pre><p>Use through <code>PyKNP</code> to use from python
<code>PyKNP</code> is a python binding for the morphological analyzer JUMAN++ (JUMAN) and the syntactic analyzer KNP.</p>
<pre><code>pip install pyknp
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> pyknp <span style="color:#f92672">import</span> Juman
jumanpp <span style="color:#f92672">=</span> Juman()
result <span style="color:#f92672">=</span> jumanpp<span style="color:#f92672">.</span>analysis(<span style="color:#e6db74">&#34;Tokyo Sky Tree&#34;</span>)
<span style="color:#66d9ef">for</span> mrph <span style="color:#f92672">in</span> result<span style="color:#f92672">.</span>mrph_list():
   <span style="color:#66d9ef">print</span>(mrph<span style="color:#f92672">.</span>midashi)

<span style="color:#75715e">#Tokyo</span>
<span style="color:#75715e">#Sky tree</span>
</code></pre></div><ul>
<li>Version location: <a href="https://github.com/ku-nlp/jumanpp/releases">https://github.com/ku-nlp/jumanpp/releases</a></li>
</ul>
<h2 id="janome">Janome</h2>
<p>Quoted from <a href="https://mocobeta.github.io/janome/">Janome v0.3 documentation</a></p>
<blockquote>
<p>A morphological analyzer with a dictionary included, written in Pure Python.
We aim to be a morphological analysis library that has a simple API that can be easily installed without any dependent libraries and that can be easily incorporated into an application.</p>
</blockquote>
<p>Since it does not use an external engine or dictionary separately, it can be installed only with pip
Just good for trying out morphological analysis</p>
<pre><code>pip install janome
</code></pre><h2 id="ginza">GiNZA</h2>
<p><a href="https://www.slideshare.net/MegagonLabs/ginza-cabocha-udpipe-stanford-nlp">Japanese dependency structure analysis starting with GiNZA -Comparison with CaboCha, UDPipe, Stanford NLP-</a></p>
<blockquote>
<p>GiNZA-Features • Commercially available including models under MIT license • Free use of BCCWJ-derived dependency structure analysis models • Learning at a scale more than 5 times the GSD corpus used by other Japanese UD analysis systems • Completed introduction with pip line • SudachiPy and Sudachi dictionary with 1.5 million vocabulary are also installed at once • Compared with MeCab, CaboCha, etc., environment construction with Docker is much easier • SpaCy&rsquo;s rich feature set can be used • Easy to switch to a language model other than Japanese (8 languages for spaCy official support) • Visualization of dependency structure analysis results → displaCy • Annotation tool → Prodigy 21</p>
</blockquote>
<p>It is based on the framework of spaCy, a famous natural language processing library in the English-speaking world, and SudachiPy is used as a morphological analyzer.
A dictionary for morphological analysis is also installed.</p>
<pre><code> pip install &quot;https://github.com/megagonlabs/ginza/releases/download/latest/ginza-latest.tar.gz&quot;
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> spacy
nlp <span style="color:#f92672">=</span> spacy<span style="color:#f92672">.</span>load(<span style="color:#e6db74">&#39;ja_ginza&#39;</span>)

doc <span style="color:#f92672">=</span> nlp(<span style="color:#e6db74">&#34;Tokyo Sky Tree&#34;</span>)
<span style="color:#66d9ef">for</span> token <span style="color:#f92672">in</span> doc:
   <span style="color:#66d9ef">print</span>(token)

<span style="color:#75715e">#Tokyo</span>
<span style="color:#75715e">#Sky tree</span>
</code></pre></div><hr>
<p>Personally, I thought that it is easy to enter GiNZA that can be entered with one pip, but each analyzer has its own characteristics, so it seems that it is necessary to install the one according to the application destination.</p>
<p>I also tried installing the morphological analyzer Kytea<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> and the dependency analyzer CaboCha<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>, but I couldn&rsquo;t get them due to an error. I will add it if possible.</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://engineering.linecorp.com/en/blog/mecab-ipadic-neologd-new-words-and-expressions/">I tried to investigate the effect of &ldquo;mecab-ipadic-NEologd&rdquo; that is strong on new words and proper expressions</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="http://www.phontron.com/kytea/index-ja.html">Kytea</a> <a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p><a href="http://taku910.github.io/cabocha/">CaboCha</a> <a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
