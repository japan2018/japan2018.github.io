<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://japan2018.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://japan2018.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://japan2018.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="https://japan2018.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="https://japan2018.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://japan2018.github.io/css/bootstrap.min.css" />

  
  <title>Gradation image generation with Python [1]｜np.linspace | Some Title</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Gradation image generation with Python [1]｜np.linspace</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 20, 2019
  </small>
  

<small><code><a href="https://japan2018.github.io/tags/python">Python</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/image-processing"> image processing</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/numpy"> numpy</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>This time, I will try to generate a gradient image with python, referring to <a href="https://note.nkmk.me/python-numpy-generate-gradation-image/">this article</a>.</p>
<p>#Gradation image generation
This time we will generate an image using two functions.</p>
<pre><code class="language-python:gradation_2d_color" data-lang="python:gradation_2d_color">def gradation_2d_color(start, stop, size, is_horizontal):
    if is_horizontal:
        return np.tile(np.linspace(start, stop, size[1]), (size[0], 1))
    else:
        return np.tile(np.linspace(start, stop, size[0]), (size[1], 1)).T
</code></pre><p>Use np.linspace to create a one-dimensional array of length height (or width) that stores the values of the arithmetic progression obtained by dividing the range from start to stop by the number of height (or width). Creates a two-dimensional array of length width (or height) that is duplicated by the number of width (or height) and stored.
・Start: Start pixel value
・Stop: End pixel value
・Size: Image size [height, width]
・Is_horizontal: True → Gradient change in horizontal direction / False → Gradient change in vertical direction</p>
<pre><code class="language-python:gradation_3d_img" data-lang="python:gradation_3d_img">def gradation_3d_img(start_list, stop_list, size, is_horizontal_list):
    result = np.zeros((size[0], size[1], len(start_list)), dtype=np.float)

    for i, (start, stop, is_horizontal) in enumerate(zip(start_list, stop_list, is_horizontal_list)):
        result[:, :, i] = gradation_2d_color(start, stop, size, is_horizontal)

    return result
</code></pre><p>Pass the list corresponding to each rgb. The first element is the r component, the second element is the g component, and the third element is the b component.
Start_list: list of start pixel values
・Stop_list: List of end pixel values
・Size: Image size list
・Is_horizontal_list: list of changing directions</p>
<p>Generate a gradation image using these functions.</p>
<pre><code class="language-python:main" data-lang="python:main">    size = [400,500] #height, width
    # Black horizontally → white
    img = gradation_3d_img([0,0,0], [255,255,255], size, [True,True,True])

    img = img.astype(np.uint8)
    img = cv2.cvtColor(img, cv2.COLOR_RGB2BGR)
    cv2.imwrite('out.png', img)
</code></pre><h1 id="output-image">Output image</h1>
<p>The image size was set to (400,500) and other parameters were tried with various values.</p>
<p>-img = gradation_3d_img([0,0,0], [255,255,255], size, [True,True,True])
-Range of rgb: <code>rgb(0,0,0)</code> → <code>rgb(255,255,255)</code>
-Direction of change of rgb: [→, →, →]</p>
<img src=https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/552715/98ea5f65-2b42-65dd-4d44-603c297cc44a.png width=50%>
The color changes from `rgb(0,0,0)` to `rgb(255,255,255)` continuously in the horizontal direction.
<p>-img = gradation_3d_img([0,0,0], [255,255,255], size, [False,False,False])
-Range of rgb: <code>rgb(0,0,0)</code> → <code>rgb(255,255,255)</code>
-Direction of change of rgb: [↓, ↓, ↓]</p>
<img src=https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/552715/64403f69-1c3a-7b94-8c64-dfba900b5076.png width=50%>
The color changes from `rgb(0,0,0)` to `rgb(255,255,255)` continuously in the vertical direction.
<p>-img = gradation_3d_img([0,255,255], [255,255,255], size, [True,True,True])
-Range of rgb: <code>rgb(0,255,255)</code> → <code>rgb(255,255,255)</code>
-Direction of change of rgb: [→, →, →]</p>
<img src=https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/552715/d538282f-e386-9b5f-4790-bf8757518b73.png width=50%>
 The color changes from `rgb(0,255,255)` to `rgb(255,255,255)` continuously in the vertical direction.
<p>-img = gradation_3d_img([255,0,0], [0,255,255], size, [True,True,True])
-Range of rgb: <code>rgb(255,0,0)</code> → <code>rgb(0,255,255)</code>
-Direction of change of rgb: [→, →, →]</p>
<img src=https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/552715/25a21e36-a3c6-5afd-e5cc-c8d751ff7c19.png width=50%>
The color changes from `rgb(255,0,0)` to `rgb(0,255,255)` continuously in the horizontal direction.
<p>-img = gradation_3d_img([0,0,0], [255,255,255], size, [False,True,True])
-Range of rgb: <code>rgb(0,0,0)</code> → <code>rgb(255,255,255)</code>
-Direction of change of rgb: [↓, →, →]</p>
<img src=https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/552715/0f64bcf6-62a3-683a-5d0a-8dbf721dfe85.png width=50%>
When the direction of change of r is changed to the vertical direction ↓, it will change diagonally.
Specifically, the color change from `rgb(0,0,0)` to `rgb(255,255,255)` in the diagonally right downward ↘︎ direction is changed to `rgb(255,0,0)` in the diagonally right upward ↘︎ direction. The color change is from `rgb(0,255,255)`.
<p>-img = gradation_3d_img([0,0,0], [255,255,255], size, [False,False,True])
-Range of rgb: <code>rgb(0,0,0)</code> → <code>rgb(255,255,255)</code>
-Direction of change of rgb: [↓, ↓, →]</p>
<img src=https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/552715/cca5df4d-7a3a-f1fb-9979-cd079a4138c4.png width=50%>
Next, if the changing direction of r and g is the vertical direction ↓
There is a color change from `rgb(255,255,0)` to `rgb(0,0,255)` in the diagonally upward right direction ↗︎.
<h1 id="future-tasks">Future tasks</h1>
<p>The gradation this time was expressed using np.linspace, which generates an arithmetic progression.
I think that gradation can be expressed in the sense that the numerical value changes continuously.
However, other questions have emerged as to whether gradation changes can be expressed numerically. I will write about it next time.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
