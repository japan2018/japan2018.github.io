<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://japan2018.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://japan2018.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://japan2018.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="https://japan2018.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="https://japan2018.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://japan2018.github.io/css/bootstrap.min.css" />

  
  <title>100 language processing knocks-38 (using pandas): histogram | Some Title</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>100 language processing knocks-38 (using pandas): histogram</h1>
<p>
  <small class="text-secondary">
  
  
  Mar 2, 2020
  </small>
  

<small><code><a href="https://japan2018.github.io/tags/python">Python</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/mecab"> mecab</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/nlp"> NLP</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/morphological-analysis"> morphological analysis</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/language-processing-100-knocks"> language processing 100 knocks</a></code></small>

</p>
<pre><code>[100 language processing knocks 2015](http://www.cl.ecei.tohoku.ac.jp/nlp100/)[&quot;Chapter4:Morphologicalanalysis&quot;](http://www.cl.ecei.tohokuItisa[38th&quot;histogram&quot;](http://www.cl.ecei.tohoku.ac.jp/nlp100/#sec38)recordof.ac.jp/nlp100/#ch4).
</code></pre>
<p>It&rsquo;s easy as long as you&rsquo;ve overcome the tofu from the previous knock. If you don&rsquo;t put out a label, you don&rsquo;t have to deal with &ldquo;tofu&rdquo;.</p>
<h1 id="reference-link">Reference link</h1>
<table>
<thead>
<tr>
<th align="left">Links</th>
<th align="left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="https://github.com/YoheiFukuhara/nlp100/blob/master/04.%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90/038.%E3%83%92%E3%82%B9%E3%83%88%E3%82%B0%E3%83%A9%E3%83%A0.ipynb">038.Histogram.ipynb</a></td>
<td align="left">Answer Program GitHub Link</td>
</tr>
<tr>
<td align="left">[<a href="http://qiita.com/segavvy/items/c53c35827524f875ba2d">Amateur language processing 100 knocks: 38</a></td>
<td align="left">Copy and paste source of many source parts</td>
</tr>
<tr>
<td align="left"><a href="https://taku910.github.io/mecab/">MeCab Official</a></td>
<td align="left">MeCab page to check first</td>
</tr>
</tbody>
</table>
<p>#Environment</p>
<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Version</th>
<th align="left">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">OS</td>
<td align="left">Ubuntu18.04.01 LTS</td>
<td align="left">Virtually running</td>
</tr>
<tr>
<td align="left">pyenv</td>
<td align="left">1.2.16</td>
<td align="left">I use pyenv because I sometimes use multiple Python environments.</td>
</tr>
<tr>
<td align="left">Python</td>
<td align="left">3.8.1</td>
<td align="left">I am using python3.8.1 on pyenv<br>Package is managed using venv</td>
</tr>
<tr>
<td align="left">Mecab</td>
<td align="left">0.996-5</td>
<td align="left">Install with apt-get</td>
</tr>
</tbody>
</table>
<p>The following additional Python packages are used in the above environment. Just install with normal pip.</p>
<table>
<thead>
<tr>
<th align="left">Kind</th>
<th align="left">Version</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">matplotlib</td>
<td align="left">3.1.3</td>
</tr>
<tr>
<td align="left">pandas</td>
<td align="left">1.0.1</td>
</tr>
</tbody>
</table>
<h1 id="chapter-4-morphological-analysishttpwwwcleceitohokuacjpnlp100ch4"><a href="http://www.cl.ecei.tohoku.ac.jp/nlp100/#ch4">Chapter 4: Morphological Analysis</a></h1>
<h2 id="content-of-study">content of study</h2>
<blockquote>
<p>Apply the morphological analyzer MeCab to Natsume Soseki&rsquo;s novel &ldquo;I am a cat&rdquo; and obtain the statistics of words in the novel.</p>
<blockquote>
<p>Morphological analysis, MeCab, Part of speech, Frequency of occurrence, Zipf&rsquo;s law, <a href="http://matplotlib.org/">matplotlib</a>,<a href="http://www.gnuplot.info/">Gnuplot</a></p>
</blockquote>
</blockquote>
<h2 id="knock-content">Knock content</h2>
<blockquote>
<p>Using Soseki Natsume&rsquo;s novel &ldquo;I am a cat&rdquo; (<a href="http://www.cl.ecei.tohoku.ac.jp/nlp100/data/neko.txt">neko.txt</a>) using MeCab Perform morphological analysis using the morpheme and save the result in a file called neko.txt.mecab. Use this file to implement the program corresponding to the following questions.</p>
</blockquote>
<p>For problems 37, 38, 39, use <a href="http://matplotlib.org/">matplotlib</a>or<a href="http://www.gnuplot.info/">Gnuplot</a>.</p>
<h3 id="38-histogramhttpwwwcleceitohokuacjpnlp100sec38"><a href="http://www.cl.ecei.tohoku.ac.jp/nlp100/#sec38">38. Histogram</a></h3>
<blockquote>
<p>Draw a histogram of word frequency (a bar graph showing the number of types of words with the frequency of occurrence on the horizontal axis and the frequency of occurrence on the vertical axis).</p>
</blockquote>
<h1 id="answer">Answer</h1>
<h2 id="answer-program-038-histogramipynbhttpsgithubcomyoheifukuharanlp100blobmaster04e5bda2e6858be7b4a0e8a7a3e69e90038e38392e382b9e38388e382b0e383a9e383a0ipynb">Answer program <a href="https://github.com/YoheiFukuhara/nlp100/blob/master/04.%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90/038.%E3%83%92%E3%82%B9%E3%83%88%E3%82%B0%E3%83%A9%E3%83%A0.ipynb">038. Histogram.ipynb</a></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt
<span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd

plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;IPAexGothic&#39;</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_text</span>():
    <span style="color:#75715e">#0: Surface type</span>
    <span style="color:#75715e">#1: Part of speech (pos)</span>
    <span style="color:#75715e">#2: Part of speech subclassification 1 (pos1)</span>
    <span style="color:#75715e">#7: base</span>
    df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_table(<span style="color:#e6db74">&#39;./neko.txt.mecab&#39;</span>, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">|,&#39;</span>, header<span style="color:#f92672">=</span>None,
                       usecols<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">7</span>], names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;surface&#39;</span>,<span style="color:#e6db74">&#39;pos&#39;</span>,<span style="color:#e6db74">&#39;pos1&#39;</span>,<span style="color:#e6db74">&#39;base&#39;</span>],
                       skiprows<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>, skipfooter<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ,engine<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;python&#39;</span>)
    <span style="color:#66d9ef">return</span> df[(df[<span style="color:#e6db74">&#39;pos&#39;</span>] <span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;blank&#39;</span>) <span style="color:#f92672">&amp;</span> (df[<span style="color:#e6db74">&#39;surface&#39;</span>] <span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;EOS&#39;</span>) <span style="color:#f92672">&amp;</span> (df[<span style="color:#e6db74">&#39;pos&#39;</span>] <span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;symbol&#39;</span>)]

df <span style="color:#f92672">=</span> read_text()

hist <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;surface&#39;</span>]<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>hist(bins<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>, range<span style="color:#f92672">=</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">20</span>))
hist<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#39;occurrence frequency&#39;</span>)
hist<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;word type count&#39;</span>)
</code></pre></div><h2 id="answer-commentary">Answer commentary</h2>
<p>Just use <code>pandas</code> <code>plot</code>. I also added a label.</p>
<pre><code class="language-python:" data-lang="python:">hist = df['surface'].value_counts().plot.hist(bins=20, range=(1, 20))
hist.set_xlabel('occurrence frequency')
hist.set_ylabel('word type count')
</code></pre><h3 id="output-result-execution-result">Output result (execution result)</h3>
<p>When the program is executed, the following result will be output. Well, it looks like this.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/134273/a55a5c9a-6aef-14d6-b7e4-fb62278cfa08.png" alt="image.png"></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
