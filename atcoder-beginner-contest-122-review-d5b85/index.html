<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>AtCoder Beginner Contest 122 Review | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>AtCoder Beginner Contest 122 Review</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 30, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/atcoder"> AtCoder</a></code></small>


<small><code><a href="https://memotut.com/tags/competitive-programming"> competitive programming</a></code></small>


<small><code><a href="https://memotut.com/tags/abc122"> ABC122</a></code></small>

</p>
<pre><code>#Time required
</code></pre>
<img width="671" alt="Screenshot 2020-01-29 23.13.54.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/331393/03e38faf-4612-bde1-1b79-74135ebd52ad.png">
<p>#Impression
The last problem was that experimentation was important or I was aware of the essence, but I could not put the solution into a simpler one.</p>
<p>#<a href="https://atcoder.jp/contests/abc122/tasks/abc122_a">A problem</a></p>
<p>Properly output using the ternary operator.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:answerA.py" data-lang="python:answerA.py">b<span style="color:#f92672">=</span>input()
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;A&#34;</span> <span style="color:#66d9ef">if</span> b<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;T&#34;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;T&#34;</span> <span style="color:#66d9ef">if</span> b<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;A&#34;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;G&#34;</span> <span style="color:#66d9ef">if</span> b<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;C&#34;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;C&#34;</span>)
</code></pre></div><p>#<a href="https://atcoder.jp/contests/abc122/tasks/abc122_b">B Problem</a></p>
<p>If one of the AGCTs comes, add it, and if any other character comes, reset it to zero again.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:answerB.py" data-lang="python:answerB.py">x<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;A&#34;</span>,<span style="color:#e6db74">&#34;G&#34;</span>,<span style="color:#e6db74">&#34;C&#34;</span>,<span style="color:#e6db74">&#34;T&#34;</span>]
ans<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
now<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> input():
    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">in</span> x:
        now<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">else</span>:
        now<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
    ans<span style="color:#f92672">=</span>max(now,ans)
<span style="color:#66d9ef">print</span>(ans)
</code></pre></div><p>#<a href="https://atcoder.jp/contests/abc122/tasks/abc122_c">C problem</a></p>
<p>Finally, we have to process the interval query, so we use cumulative sum in such cases.
However, you have to add +1 to <strong>index with C</strong> when you find AC, so be careful.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:answerC.py" data-lang="python:answerC.py">n,m<span style="color:#f92672">=</span>map(int,input()<span style="color:#f92672">.</span>split())
n,q<span style="color:#f92672">=</span>map(int,input()<span style="color:#f92672">.</span>split())
s<span style="color:#f92672">=</span>input()
x<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">*</span>n

<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>):
    <span style="color:#66d9ef">if</span> s[i:i<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;AC&#34;</span>:
        x[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>x[i]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">else</span>:
        x[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>x[i]
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(q):
    l,r<span style="color:#f92672">=</span>map(int,input()<span style="color:#f92672">.</span>split())
    <span style="color:#66d9ef">print</span>(x[r<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">-</span>x[l<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
</code></pre></div><p>#<a href="https://atcoder.jp/contests/abc122/tasks/abc122_d">D problem</a></p>
<p>Here, if the AGC character string does not appear up to the i-th character even after exchanging two adjacent characters, if the AGC character string does not appear for the character string including the i+1-th character, use up to i+1. It can be said that the AGC string does not appear. Therefore, <strong>it seems likely that an answer will be sought by thinking from the beginning</strong>.
Here, if you consider a character string such as AGC where a substring appears, there are 5 patterns <strong>AGC,ACG,GAC,A?GC,AG?C</strong> (the latter two are blind spots). It was&hellip;). Therefore, we considered from the beginning and adopted the method of not including in the counting when a partial character string that fits 5 patterns appeared. Here, since the length of all the substrings of the <strong>5 pattern is 4 or less, it is sufficient to know only the i-1, i-2, i-3 characters when considering the i-th character</strong>. Therefore, the partial character strings of the i-3 to i-1 characters are recorded in the dictionary, and when adding each character of A, G, C, D to the i-th character, the partial character that applies to 5 patterns You can get the correct answer by updating ** the value of the dictionary only when the column does not appear. Also, at this time, it is necessary to record in another dictionary, not the original dictionary. (I tried to write out 64 ways without using a dictionary because of this problem, but it was too stupid&hellip; **I should abstract it more and think **)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:answerD.py" data-lang="python:answerD.py">n<span style="color:#f92672">=</span>int(input())
alph<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;A&#34;</span>,<span style="color:#e6db74">&#34;C&#34;</span>,<span style="color:#e6db74">&#34;G&#34;</span>,<span style="color:#e6db74">&#34;T&#34;</span>]
a<span style="color:#f92672">=</span>[alph[i]<span style="color:#f92672">+</span>alph[j]<span style="color:#f92672">+</span>alph[k] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>) <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>) <span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>)]
d1<span style="color:#f92672">=</span>{l:<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> a}
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> d1:
    <span style="color:#66d9ef">if</span> i<span style="color:#f92672">!=</span><span style="color:#e6db74">&#34;AGC&#34;</span> <span style="color:#f92672">and</span> i<span style="color:#f92672">!=</span><span style="color:#e6db74">&#34;ACG&#34;</span> <span style="color:#f92672">and</span> i<span style="color:#f92672">!=</span><span style="color:#e6db74">&#34;GAC&#34;</span>:
        d1[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
d2<span style="color:#f92672">=</span>{l:<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> a}
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>):
    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> d1:
        next<span style="color:#f92672">=</span>[j<span style="color:#f92672">+</span>alph[k] <span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>)]
        <span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>):
            l<span style="color:#f92672">=</span>next[k]
            <span style="color:#66d9ef">if</span> l[<span style="color:#ae81ff">1</span>:]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;GAC&#34;</span> <span style="color:#f92672">or</span> l[<span style="color:#ae81ff">1</span>:]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;ACG&#34;</span> <span style="color:#f92672">or</span> l[<span style="color:#ae81ff">1</span>:]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;AGC&#34;</span>:
                <span style="color:#66d9ef">pass</span>
            <span style="color:#66d9ef">elif</span> l[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;A&#34;</span> <span style="color:#f92672">and</span> l[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;C&#34;</span> <span style="color:#f92672">and</span> (l[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;G&#34;</span> <span style="color:#f92672">or</span> l[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;G&#34;</span>):
                <span style="color:#66d9ef">pass</span>
            <span style="color:#66d9ef">else</span>:
                d2[l[<span style="color:#ae81ff">1</span>:]]<span style="color:#f92672">+=</span>d1[j]
    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> d1:
        d1[j]<span style="color:#f92672">=</span>d2[j]
        d2[j]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">print</span>(sum(d1<span style="color:#f92672">.</span>values())<span style="color:#f92672">%</span><span style="color:#ae81ff">1000000007</span>)
</code></pre></div>
    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
