<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>A summary of all the Python visualization tools used by active graduate students in their research [Application] | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>A summary of all the Python visualization tools used by active graduate students in their research [Application]</h1>
<p>
  <small class="text-secondary">
  
  
  Mar 19, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/numpy">numpy</a></code></small>


<small><code><a href="https://memotut.com/tags/matplotlib">matplotlib</a></code></small>


<small><code><a href="https://memotut.com/tags/gif">gif</a></code></small>

</p>
<pre><code>#Continuing from the previous session
</code></pre>
<p>This article is an application of Python visualization tools.
~~ Since it has become long, I decided to divide the application into two. (Application 2 is still being written) ~~
The application section was added to this article to make it one.
If you are new to Python plot, I wrote the basic version last time, so please check <a href="https://qiita.com/coffiego/items/52315ea45fcc6d83b5b9">here</a>!
#Introduction
I am currently a graduate student with a 2nd year master&rsquo;s degree.
I am studying the Martian atmosphere using numerical simulation.
Since I mainly analyzed the results obtained by numerical simulation using Python, I tried to summarize all the functions used in the process. Please note that this is not an exhaustive list. .. ..
However, since I&rsquo;ve been struggling to use the documentation, I&rsquo;ve summarized it in the hope that if anyone using Python&rsquo;s visualization tools can help with that!</p>
<p>#What you can do with this article</p>
<h5 id="color-plot-pcolor">・Color plot (pcolor)</h5>
<p>#####-Share the x-axis and set the y-axis to the right and left</p>
<h5 id="graphs-are-arranged-vertically-with-the-same-x-axis">・Graphs are arranged vertically with the same x-axis</h5>
<h5 id="animation-gif-file-creation">・Animation (gif file creation)</h5>
<p>The following will be explained in another article (I will write this time)</p>
<ul>
<li>Read and write csv file</li>
<li>Import and export HDF5 files</li>
</ul>
<h1 id="library-to-use">Library to use</h1>
<p>The libraries used in this article are as follows. For now, copy and paste the following code and paste it on the code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt <span style="color:#75715e"># actually plot</span>
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np <span style="color:#75715e"># Data cleanup</span>
<span style="color:#f92672">from</span> matplotlib.colors <span style="color:#f92672">import</span> LogNorm <span style="color:#75715e">#color bar to log</span>
<span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> animation <span style="color:#66d9ef">as</span> animation <span style="color:#75715e">#gif Create file</span>
</code></pre></div><p>#How to use color plot (pcolor)
What is a color plot in the first place? I think that there are many people, so it is a three-dimensional data represented by a two-dimensional color map as shown in the graph below. ~~ Since it&rsquo;s a big deal, it has an artistic face, lol ~~
<img width="1027" alt="Screen Shot 2020-03-20 at 13.26.09.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/199901/1ecfaf20-3040-3ce2-641e-b683e431a0f7.png"></p>
<p>This is the structure and explanation of graph drawing using pcolor. (Please copy and use it)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#pcolor structure</span>

<span style="color:#75715e">#1</span>
<span style="color:#75715e"># Prepare the x-axis and y-axis data and perform mesh</span>
<span style="color:#75715e">#Probably there is (x,y) component of 3D data you want to plot.</span>
<span style="color:#75715e">#ex) x = y = np.arange(-10, 10, 0.5)</span>
X, Y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>meshgrid(x, y) <span style="color:#75715e"># where X and Y are len(x)*len(y) matrices.</span>

<span style="color:#75715e">#2</span>
Create <span style="color:#75715e">#Z.</span>
If you have data you want to <span style="color:#75715e">#plot,</span>
<span style="color:#75715e">#Create a matrix Z of the same size as the X,Y created in step 1. (Read from csv to make a matrix)</span>
<span style="color:#75715e">#If not (this sample)</span>
Write a function <span style="color:#66d9ef">as</span> <span style="color:#75715e">#Z=f(X,Y)</span>
<span style="color:#75715e">#ex)</span>
Z <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>exp(<span style="color:#f92672">-</span>X<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>Y<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)

<span style="color:#75715e">#If there is a gap in the data and you want to mask the range (uncomment if necessary)</span>
<span style="color:#75715e">#Z = np.ma.masked_where(np.isnan(Z), Z) #none mask the location</span>

<span style="color:#75715e">#3</span>
<span style="color:#75715e">#plot</span>
fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>) <span style="color:#75715e">#dpi: resolution</span>

Create <span style="color:#75715e">#color map</span>
c<span style="color:#f92672">=</span>ax<span style="color:#f92672">.</span>pcolor(X,Y,Z,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;favorite color map&#39;</span>, vmin<span style="color:#f92672">=</span>minimum value, vmax<span style="color:#f92672">=</span>maximum value)
<span style="color:#75715e">#c=ax.pcolor(X,Y,Z, norm=LogNorm(minimum value, maximum value), cmap=&#39;favorite color map&#39;) #log scale ver</span>

Add <span style="color:#75715e">#color bar</span>
cax <span style="color:#f92672">=</span> fig<span style="color:#f92672">.</span>colorbar(c, ax<span style="color:#f92672">=</span>ax) add <span style="color:#75715e">#color bar</span>

<span style="color:#75715e"># Fill the masked area with diagonal lines (uncomment if necessary)</span>
<span style="color:#75715e">#ax.patch.set(hatch=&#39;x&#39;, edgecolor=&#39;black&#39;)</span>
</code></pre></div><p>I think it&rsquo;s hard to imagine, so for example X in the sample code,
X=
<img width="410" alt="Screen Shot 2020-03-20 at 14.35.07.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/199901/25702360-d520-d0ff-c644-b8590e186c39.png">
It is a matrix of len(x)*len(y).
Z is also a matrix of the same size, and z-values at coordinates (x,y) are configured as elements.</p>
<p>The pcolor function is</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">c<span style="color:#f92672">=</span>ax<span style="color:#f92672">.</span>pcolor(X,Y,Z,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;favorite color map&#39;</span>, vmin<span style="color:#f92672">=</span>minimum value, vmax<span style="color:#f92672">=</span>maximum value)
</code></pre></div><p>・Cmap='color map type&rsquo; allows you to specify what color scheme you want. You can find a lot in this <a href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html">official document</a>.
・You can decide the range you want to color vmin, vmax.
That is, pixels are colored with z values from vmin to vmax.</p>
<p>This is a sample code of a face written in pcolor.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#pcolor</span>
<span style="color:#f92672">from</span> matplotlib.colors <span style="color:#f92672">import</span> LogNorm
<span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt <span style="color:#75715e"># actually plot</span>
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np <span style="color:#75715e"># Data cleanup</span>

x <span style="color:#f92672">=</span> y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">0.5</span>)
X, Y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>meshgrid(x, y)<span style="color:#75715e">#Mesh and create matrix</span>
<span style="color:#75715e">#Functions for expressing face eyes, nose and mouth</span>
Z <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>exp(<span style="color:#f92672">-</span>(X<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>(Y<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">+</span>np<span style="color:#f92672">.</span>exp(<span style="color:#f92672">-</span>(X<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>(Y<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">+</span> np<span style="color:#f92672">.</span>exp(<span style="color:#f92672">-</span>(X)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>(<span style="color:#ae81ff">5</span><span style="color:#f92672">*</span>(Y<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>))<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">+</span>np<span style="color:#f92672">.</span>exp(<span style="color:#f92672">-</span>(<span style="color:#ae81ff">10</span><span style="color:#f92672">*</span>X)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>(<span style="color:#ae81ff">5</span><span style="color:#f92672">*</span>Y)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)
fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">200</span>)
Plot <span style="color:#66d9ef">with</span> <span style="color:#75715e">#pcolor</span>
c<span style="color:#f92672">=</span>ax<span style="color:#f92672">.</span>pcolor(X,Y,Z, norm<span style="color:#f92672">=</span>LogNorm(<span style="color:#ae81ff">1e-4</span>, <span style="color:#ae81ff">1</span>),cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Set3&#39;</span>)
cax <span style="color:#f92672">=</span> fig<span style="color:#f92672">.</span>colorbar(c, ax<span style="color:#f92672">=</span>ax,shrink<span style="color:#f92672">=</span><span style="color:#ae81ff">0.9</span>)
</code></pre></div><h1 id="share-x-axis-and-set-y-axis-to-right-and-left">share x-axis and set y-axis to right and left</h1>
<p>This is the graph.
<img width="598" alt="Screen Shot 2020-03-18 at 23.24.28.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/199901/e15bed5b-f205-3bfb-fcf5-c5ec855a1714.png"></p>
<p>When sharing the x-axis, it is OK if you make the following structure. (For copy and paste)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig, ax1 <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
<span style="color:#75715e">## write ax1 plot here</span>
<span style="color:#75715e">#ax1.plot(...)</span>
<span style="color:#75715e">#ax1.set_??</span>

ax2 <span style="color:#f92672">=</span> ax1<span style="color:#f92672">.</span>twinx() <span style="color:#75715e"># Now we can share the x axis!!!</span>
<span style="color:#75715e">## write ax2 plot here</span>
<span style="color:#75715e">#ax2.plot(...)</span>
<span style="color:#75715e">#ax2.set_??</span>
</code></pre></div><p>Below is the sample code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt <span style="color:#75715e"># actually plot</span>
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np <span style="color:#75715e"># Data cleanup</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fun</span>(x):
    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">**</span>x <span style="color:#75715e"># write your function here</span>
    <span style="color:#66d9ef">return</span> y
<span style="color:#75715e">#prepare x,y data</span>
X <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">10</span>,num<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
Y1 <span style="color:#f92672">=</span> fun(X)
Y2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>exp(X)

<span style="color:#75715e">#Plot for left y-axis</span>
fig, ax1 <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
ax1<span style="color:#f92672">.</span>plot(X,Y1,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>,label<span style="color:#f92672">=</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;$y=2^x$&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-.&#39;</span>,)
ax1<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#39;xaxis&#39;</span>)
ax1<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;yaxis1&#34;</span>)
ax1<span style="color:#f92672">.</span>set_ylim((<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">100</span>))
ax1<span style="color:#f92672">.</span>tick_params(axis<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;y&#39;</span>)
ax1<span style="color:#f92672">.</span>legend(loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;upper left&#34;</span>)

<span style="color:#75715e">#Plot for the right y-axis</span>
ax2 <span style="color:#f92672">=</span> ax1<span style="color:#f92672">.</span>twinx() <span style="color:#75715e"># Now we can share the x axis!!!</span>
ax2<span style="color:#f92672">.</span>plot(X,Y2,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;$y=e^x$&#39;</span>)<span style="color:#75715e">#plot</span>
ax2<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;yaxis2&#39;</span>) <span style="color:#75715e"># we already handled the x-label with ax1</span>
ax2<span style="color:#f92672">.</span>set_yscale(<span style="color:#e6db74">&#34;log&#34;</span>) <span style="color:#75715e"># set right y-axis to log scale</span>
ax2<span style="color:#f92672">.</span>set_ylim((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">10000</span>))
ax2<span style="color:#f92672">.</span>legend(loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;upper right&#34;</span>)
</code></pre></div><h1 id="the-graph-is-arranged-vertically-with-the-same-x-axis">The graph is arranged vertically with the same x-axis</h1>
<p>I want to draw such a graph!
<img width="806" alt="Screen Shot 2020-03-18 at 23.49.39.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/199901/960a1336-a50d-786a-cf86-750b4ea85b31.png"></p>
<p>When arranging two graphs vertically, the structure below is OK.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#(1)</span>
Put two <span style="color:#75715e">#subplots vertically</span>
fig, axs <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,sharex<span style="color:#f92672">=</span>True,dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
<span style="color:#75715e"># 0 between the upper and lower graphs and stick</span>
fig<span style="color:#f92672">.</span>subplots_adjust(hspace<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)

<span style="color:#75715e">#(2)</span>
<span style="color:#75715e"># Draw the graph above</span>
axs[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>plot(<span style="color:#f92672">...</span>)

<span style="color:#75715e">#(3)</span>
<span style="color:#75715e">#Draw the graph below</span>
axs[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>plot(<span style="color:#f92672">...</span>)

<span style="color:#75715e">#Note</span>
<span style="color:#75715e"># The number of graphs can be changed freely</span>
<span style="color:#75715e">#ex) If you use 3,1 instead of 2,1, three will be arranged vertically,,,</span>
<span style="color:#75715e">#dpi: resolution</span>
If you set <span style="color:#75715e">#sharex=False, it becomes a subplot.</span>
</code></pre></div><p>Below is the sample code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#75715e"># Define your favorite function</span>
<span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt <span style="color:#75715e"># actually plot</span>
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np <span style="color:#75715e"># Data cleanup</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fun</span>(x):
    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">**</span>x <span style="color:#75715e"># write your function here</span>
    <span style="color:#66d9ef">return</span> y

<span style="color:#75715e">#prepare x,y data</span>
X <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">10</span>,num<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
Y1 <span style="color:#f92672">=</span> fun(X)<span style="color:#75715e"># y data you want to plot</span>
Y2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>exp(X)

<span style="color:#75715e">#create 2 subplots vertically adjustedfig, axs = plt.subplots(2,1,sharex=True,dpi=100)</span>
fig<span style="color:#f92672">.</span>subplots_adjust(hspace<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)

<span style="color:#75715e">#Graph on</span>
axs[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>plot(X,Y1,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>,label<span style="color:#f92672">=</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;$y=2^x$&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-.&#39;</span>,)
axs[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;yaxis1&#34;</span>)
axs[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_ylim((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">100</span>))
axs[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>tick_params(axis<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;y&#39;</span>)
axs[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>legend(loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;upper right&#34;</span>)

<span style="color:#75715e">#Graph below</span>
axs[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>plot(X,Y2,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;$y=e^x$&#39;</span>)
axs[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#39;xaxis&#39;</span>)
axs[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;yaxis2&#39;</span>) <span style="color:#75715e"># we already handled the x-label with ax1</span>
axs[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_yscale(<span style="color:#e6db74">&#34;log&#34;</span>) <span style="color:#75715e"># right y-axis is set to log scale</span>
axs[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>legend(loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;upper right&#34;</span>)
</code></pre></div><p>#Animation (gif file creation)
I created the simplest one.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/199901/75529032-08f5-e485-a497-fb848c603944.gif" alt="filename.gif"></p>
<p>The structure and explanation of gif file creation. (For copy and paste)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt <span style="color:#75715e"># actually plot</span>
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np <span style="color:#75715e"># Data cleanup</span>
<span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> animation <span style="color:#66d9ef">as</span> animation <span style="color:#75715e">#gif Create file</span>

<span style="color:#75715e">#Probably I have data that I want to plot that is changing with time</span>
<span style="color:#75715e"># If you do it X,Y(t)</span>

<span style="color:#75715e"># First create a function that plots for each frame</span>
<span style="color:#75715e"># This variable i will increase by&#39;interval&#39;</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">iplot</span>(i, args,,,):
   plt<span style="color:#f92672">.</span>clf()<span style="color:#75715e"># erase the graph in the previous frame (delete if you want to keep it)</span>
   <span style="color:#75715e"># Plot every frame here</span>
   As <span style="color:#75715e">#i increases, the data to plot should change accordingly.</span>
   <span style="color:#75715e">#ex) plt.plot(X,Y(i))</span>

<span style="color:#75715e"># Make figure as usual</span>
fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>) <span style="color:#75715e">#dpi: resolution</span>

<span style="color:#75715e">#gif file creation</span>
<span style="color:#75715e"># Meaning: increase the number of frames in fig by i, and increment each frame by interval, and plot with the iplot function</span>
<span style="color:#75715e">#fargs=(,,) specify the argument other than i of iplot function</span>
<span style="color:#75715e">#interval every i increases</span>
You can specify how many frames to make <span style="color:#66d9ef">with</span> <span style="color:#75715e">#frames</span>
ani <span style="color:#f92672">=</span> animation<span style="color:#f92672">.</span>FuncAnimation(fig, iplot,fargs<span style="color:#f92672">=</span>(args), interval <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, frames <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>)

<span style="color:#75715e">#save</span>
specify <span style="color:#75715e">#filename</span>
<span style="color:#75715e">#write r, which method to use? There is no problem with imagegick for the time being</span>
Specify how many frames per second <span style="color:#66d9ef">with</span> <span style="color:#75715e">#fps</span>
ani<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;filename.gif&#39;</span>, writer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;imagemagick&#39;</span>, fps<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>)
</code></pre></div><p>The sample code is as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt <span style="color:#75715e"># actually plot</span>
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np <span style="color:#75715e"># Data cleanup</span>
<span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> animation <span style="color:#66d9ef">as</span> animation <span style="color:#75715e">#gif Create file</span>

Prepare X <span style="color:#f92672">and</span> Y <span style="color:#66d9ef">for</span> <span style="color:#75715e">#plot.</span>
X <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">10</span>,num<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
Y <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>X <span style="color:#75715e">#y=2x</span>

<span style="color:#75715e">#Create a function that plots every frame</span>
<span style="color:#75715e">#This variable i will be incremented by&#39;interval&#39; (in the animation function below)</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">iplot</span>(i,X,Y):
    plt<span style="color:#f92672">.</span>clf() <span style="color:#75715e"># without this the graph of the previous frame remains</span>
    plt<span style="color:#f92672">.</span>plot(X<span style="color:#f92672">+</span>i,Y)<span style="color:#75715e">#This time translate y=2x in the x direction</span>
    plt<span style="color:#f92672">.</span>xlim((<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">60</span>))<span style="color:#75715e">#define the range</span>
    plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;xaxis&#39;</span>)
    plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;yaxis&#39;</span>)
    plt<span style="color:#f92672">.</span>text(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">18</span>,<span style="color:#e6db74">&#34;y=2(x-&#34;</span><span style="color:#f92672">+</span>str(i)<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;)&#34;</span>)

fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
Create <span style="color:#75715e">#gif file</span>
ani <span style="color:#f92672">=</span> animation<span style="color:#f92672">.</span>FuncAnimation(fig, iplot,fargs<span style="color:#f92672">=</span>(X,Y), interval <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, frames <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>)

<span style="color:#75715e">#save</span>
ani<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;filename.gif&#39;</span>, writer<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;imagemagick&#39;</span>, fps<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>)
</code></pre></div><p>#Finally
I&rsquo;ll write the following article at a later date because the application section has become longer.
Contents</p>
<ul>
<li>Read and write csv file</li>
<li>Import and export HDF5 files</li>
</ul>
<p>is.
Then!</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
