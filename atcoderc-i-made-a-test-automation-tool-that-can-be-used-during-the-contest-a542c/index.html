<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Atcoder][C&#43;&#43;]I made a test automation tool that can be used during the contest | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Atcoder][C++]I made a test automation tool that can be used during the contest</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 27, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/atcoder">AtCoder</a></code></small>


<small><code><a href="https://memotut.com/tags/beautifulsoup">BeautifulSoup</a></code></small>

</p>
<pre><code>I'm doing Atcoder (competitive programming) as a hobby, but I've been slowing down recently.
</code></pre>
<p>I think it would be nice to automate the test work during the contest,
I made a test automation tool with python.</p>
<h2 id="introduction">Introduction</h2>
<p>Below are more features than the homebrew tools introduced in this article.</p>
<ul>
<li><a href="https://github.com/kyuridenamida/atcoder-tools">https://github.com/kyuridenamida/atcoder-tools</a></li>
<li><a href="https://github.com/nodchip/OnlineJudgeHelper">https://github.com/nodchip/OnlineJudgeHelper</a></li>
</ul>
<p>Please compare the above when using.</p>
<h2 id="1-what-has-been-achieved">1. What has been achieved</h2>
<ul>
<li>Automatically get test cases from Atcoder problem page without overloading the server</li>
<li>Build and grade the created code (c++) before submitting, and judge AC, WA, TLE, etc.</li>
<li>Add your own test case and add it to automatic scoring</li>
</ul>
<p><strong>Source code</strong>
<a href="https://github.com/tks3210/autoJudge">https://github.com/tks3210/autoJudge</a></p>
<p><strong>Operating environment</strong></p>
<ul>
<li>OS: Windows10 / Mac (Mojave 10.14.6)</li>
<li>C++ compiler: gcc (maybe clang also works)</li>
<li>Python: 3.7.1
<ul>
<li>using requests, bs4, lxml</li>
</ul>
</li>
</ul>
<h2 id="2-operation-example">2. Operation example</h2>
<ul>
<li>Automatic test</li>
<li>Correctness judgment (WA, TLE, CE)</li>
<li>Automatic authentication (automatic login during the contest)</li>
<li>Add test case</li>
</ul>
<h3 id="21-automated-tests">2.1 Automated tests</h3>
<p><strong>&gt;python autojudge.py [contest_name] [quest]</strong>
As in ↑, if you specify the contest name (abc143) and the question name (abc143_a),
It builds automatically, acquires sample input/output data, and tests it.
I also tried to create an atmosphere with the original colors.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/284450/c48964c6-d523-164d-71e7-635da11845b0.png" alt="AC__.png">
The three test cases above are
<a href="https://atcoder.jp/contests/abc143/tasks/abc143_a">https://atcoder.jp/contests/abc143/tasks/abc143_a</a>
It is automatically obtained from the input and output examples of.</p>
<p>Since I can&rsquo;t inconvenience Atcoder&rsquo;s server by my test,
Access is once for each problem.
(The acquired test case is saved locally and it will be referred to at the time of the next and subsequent tests.)</p>
<h3 id="22-false-judgment">2.2 False judgment</h3>
<p>When you write the wrong code, it tells you it&rsquo;s wrong.</p>
<ul>
<li><font color="Orange">WA</font> (wrong answer)</li>
<li><font color="Orange">TLE</font> (Calculation time is too long)</li>
<li><font color="Orange">CE</font> (not even compiled)</li>
</ul>
<p>** In case of WA (wrong answer) **
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/284450/20e2db21-87b6-46a7-9dd2-7226ee35c020.png" alt="WA__.png">
** In case of TLE (calculation time over) **
In the current setting, if it exceeds <strong>2 seconds</strong> until the result is output, it is treated as TLE.
Even if you run into an infinite loop, it will be cut off in about 3 seconds and the next test will be done.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/284450/efe46f39-475f-9a8a-6fc1-34bd7ddca810.png" alt="TLE__.png">
** In case of CE (compile error) **
In the first place, it doesn&rsquo;t make sense to not compile, so it ends without testing.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/284450/5cbb7dc9-0327-2233-7f19-6e51e5dd04cf.png" alt="CE__.png"></p>
<h3 id="23-automatic-authentication">2.3 Automatic authentication</h3>
<p>If you run this test during the contest, you will not be able to get the problem page without logging in.
By setting the user name/password etc. with the -i option, it has become possible to perform automatic authentication and test execution during the contest.</p>
<pre><code>&gt;python autojudge.py abc143 abc143_d -i
Atcoder Username:tks_fj *User name of Atcoder account
Atcoder Password:******* *Atcoder account password
Src Directory(Ex. ./aaa/abc140/abc140.cpp =&gt; input &quot;./aaa&quot;):../../02_contest
Judging abc143/abc143_d...
testcase 1: AC
testcase 2: AC
testcase 3: AC
result: AC
</code></pre><p>**Since this setting information is stored in the local setting file (setting.conf), you only have to do this once. **
(This work can also be done by directly rewriting the configuration file.)</p>
<h3 id="24-add-test-case">2.4 Add test case</h3>
<p>It is also possible to add new test cases interactively
In order to handle multiple lines of input and output, I use &ldquo;quit&rdquo; + Enter to exit.</p>
<pre><code>(Input: 20 7 output: add 6)
&gt;python autojudge.py abc143 abc143_a -a
type test input(exit by &quot;quit&quot;)
20 7
quit
type test output(exit by &quot;quit&quot;)
6
quit
</code></pre><p>If you test again, it will be added to testcase4.</p>
<pre><code>&gt;python autojudge.py abc143 abc143_a
Judging abc143/abc143_a...
testcase 1: AC
testcase 2: AC
testcase 3: AC
testcase 4: AC
result: AC
</code></pre><p>**For the initial settings, refer to <a href="https://github.com/tks3210/autoJudge">autoJudge: Initial Settings</a> or the next chapter. **</p>
<h2 id="3-design-and-implementation">3. Design and implementation</h2>
<p>I will also introduce the inside design/implementation as a memorandum.</p>
<h3 id="31-directory-structure">3.1 Directory structure</h3>
<p>The following artifacts are managed in a repository called <strong>autoJudge</strong>.</p>
<ul>
<li><strong>autojudge.py (program body)</strong></li>
<li><strong>setting.conf (setting file)</strong></li>
<li><strong>testcase/ (test case, generated at runtime)</strong></li>
</ul>
<p>It is assumed that <strong>autoJudge</strong> will be cloned in the directory where the source code (.cpp) of the test target is stored,
It is recommended to operate with the following directory structure and naming convention.
(However, it works even if it is not ↓. (See 4. Supplementary -p option.))</p>
<pre><code>.
├── autoJudge *The artifacts created this time
│  ├── setting.conf *Setting file
│  ├── autojudge.py * Program body
│  ├── test case *Test case list (generated during test)
│   │ ├── abc142@abc142_a.txt
│   │ └── abc143@abc143_a.txt
│  └── design.pu *Class diagram
├── abc142 *Contest name
│  ├── abc142_a.cpp *Problem name.cpp
│  ├── abc142_b.cpp
│  ├── abc142_c.cpp
│  ├── abc142_d.cpp
│  ├── abc142_e.cpp
│  └── abc142_f.cpp
├── abc143
:
</code></pre><h3 id="32-setting-file-settingconf">3.2 Setting file (setting.conf)</h3>
<p>This is a configuration file used for authentication and searching the source location.</p>
<pre><code class="language-conf:setting.conf" data-lang="conf:setting.conf">username:tks_fj
password:*******
srcpath:../
</code></pre><p>*Enter username/password in username/password (required at login)</p>
<ul>
<li>Describe the relative path from autoJudge.py to &ldquo;contest name/issue name&rdquo; in srcpath</li>
</ul>
<p>It can be set with the -i option introduced in <strong>2.3 Automatic authentication</strong>, but of course it can be rewritten directly.</p>
<h3 id="33-program-body-autojudgepy">3.3 Program body (autojudge.py)</h3>
<h4 id="331-class">3.3.1 Class</h4>
<p>The program consists of the following two classes.</p>
<ul>
<li><strong>ManageTestCases</strong>: Get and manage test cases</li>
<li><strong>ExecuteTestCases</strong>: Execute tests based on test cases
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/284450/13524dbb-fa84-c601-5829-6d572945ee23.png" alt="autojudge.png"></li>
</ul>
<h4 id="332-managetestcases-test-management-classes">3.3.2 ManageTestCases: Test management classes</h4>
<ul>
<li><strong>RegisterUser(): Edit setting file (setting.conf)</strong></li>
<li>Receive the user name, password, and source code path from standard input and update the configuration file.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:autojudge.py" data-lang="python:autojudge.py">    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">RegisterUser</span>(self):
        <span style="color:#e6db74">&#34;&#34;&#34;User settings (first time)&#34;&#34;&#34;</span>

        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Atcoder Username:&#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
        username <span style="color:#f92672">=</span> input()<span style="color:#f92672">.</span>rstrip(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#39;</span>)
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Atcoder Password:&#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
        password <span style="color:#f92672">=</span> input()<span style="color:#f92672">.</span>rstrip(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#39;</span>)
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Src Directory(Ex. ./aaa/abc140/abc140.cpp =&gt; input </span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">./aaa</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">):&#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
        srcpath <span style="color:#f92672">=</span> input()<span style="color:#f92672">.</span>rstrip(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#39;</span>)

        <span style="color:#66d9ef">with</span> open(CONF_FILE, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> f:
            f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;username:&#34;</span> <span style="color:#f92672">+</span> username <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
            f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;password:&#34;</span> <span style="color:#f92672">+</span> password <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
            f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;srcpath:&#34;</span> <span style="color:#f92672">+</span> srcpath <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</code></pre></div><ul>
<li>**GetTestCases(): Get test cases **
<ul>
<li>Generates the URI of the question page from the contest name/question name at the first execution, acquires the test case, and records it in a file</li>
<li>At the second and subsequent executions, read the file and get the test case.* Returns information about test cases (testcases) and contest/question names (testinfo).</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:autojudge.py" data-lang="python:autojudge.py">    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">GetTestCases</span>(self, test_name, islogin <span style="color:#f92672">=</span> False):
        <span style="color:#e6db74">&#34;&#34;&#34;Get a test case from the specified question name and return a list&#34;&#34;&#34;</span>

        self<span style="color:#f92672">.</span>__UpdateConf()
        file_name <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>contest <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;@&#34;</span> <span style="color:#f92672">+</span> test_name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;.txt&#34;</span>
        testinfo <span style="color:#f92672">=</span> [{<span style="color:#e6db74">&#34;contest&#34;</span>:self<span style="color:#f92672">.</span>contest, <span style="color:#e6db74">&#34;testname&#34;</span>:test_name}]
        <span style="color:#75715e"># Do not scrape the same information to reduce server load</span>
        <span style="color:#66d9ef">if</span> file_name <span style="color:#f92672">in</span> os<span style="color:#f92672">.</span>listdir(TESTCASES_PATH):
            testcases <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>__ReadFile(file_name)
        <span style="color:#66d9ef">else</span>:
            testcases <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>__ScrapePage(test_name, islogin)
            self<span style="color:#f92672">.</span>__WriteFile(file_name, testcases)
        <span style="color:#66d9ef">return</span> testinfo <span style="color:#f92672">+</span> testcases
</code></pre></div><ul>
<li><strong>AddTestCases(): Add test cases</strong></li>
<li>Interactively add test cases (input, output) for the specified problem.</li>
<li>Accept multi-line test cases (quit with &ldquo;quit&rdquo; + Enter)</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:autojudge.py" data-lang="python:autojudge.py">    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">AddTestCases</span>(self, test_name):
        <span style="color:#e6db74">&#34;&#34;&#34;Add your own test case to the retrieved test case&#34;&#34;&#34;</span>

        self<span style="color:#f92672">.</span>__UpdateConf()
        testcase <span style="color:#f92672">=</span> {}
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;type test input(exit by </span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">quit</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">)&#34;</span>)
        testcase[<span style="color:#e6db74">&#34;input&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
        <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>):
            line <span style="color:#f92672">=</span> input()
            <span style="color:#66d9ef">if</span> (line <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;quit&#34;</span>):
                <span style="color:#66d9ef">break</span>;
            testcase[<span style="color:#e6db74">&#34;input&#34;</span>] <span style="color:#f92672">+=</span> line <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;type test output(exit by </span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">quit</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">)&#34;</span>)
        testcase[<span style="color:#e6db74">&#34;output&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
        <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>):
            line <span style="color:#f92672">=</span> input()
            <span style="color:#66d9ef">if</span> (line <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;quit&#34;</span>):
                <span style="color:#66d9ef">break</span>;
            testcase[<span style="color:#e6db74">&#34;output&#34;</span>] <span style="color:#f92672">+=</span> line <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
        file_name <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>contest <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;@&#34;</span> <span style="color:#f92672">+</span> test_name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;.txt&#34;</span>
        <span style="color:#66d9ef">if</span> file_name <span style="color:#f92672">in</span> os<span style="color:#f92672">.</span>listdir(TESTCASES_PATH):
            testcases <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>__ReadFile(file_name)
        testcases<span style="color:#f92672">.</span>append(testcase)
        self<span style="color:#f92672">.</span>__WriteFile(file_name, testcases)
</code></pre></div><h4 id="333-executetestcases-test-execution-class">3.3.3 ExecuteTestCases: Test execution class</h4>
<ul>
<li>**Execute(): Execute test case **
<ul>
<li>Run (__Run) if build (__Build) passes, and finally output the result (__Result) (AC, WA, TLE)</li>
<li>If the relative path of the source is not set, it is automatically generated from the setting file.</li>
<li>__LE detects a TLE by starting a child process inside it and measuring the execution time.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:autojudge.py" data-lang="python:autojudge.py">    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">Execute</span>(self, srcpath <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>):
        <span style="color:#e6db74">&#34;&#34;&#34;Run the test&#34;&#34;&#34;</span>

        <span style="color:#66d9ef">print</span>(YELLOW <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Judging &#34;</span><span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>testinfo[<span style="color:#e6db74">&#34;contest&#34;</span>] <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>testinfo[<span style="color:#e6db74">&#34;testname&#34;</span>] <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;...&#34;</span> <span style="color:#f92672">+</span> COLORRESET)
        <span style="color:#66d9ef">if</span> (srcpath <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span>):
            srcpath <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>__GetPath()
        self<span style="color:#f92672">.</span>__Build(srcpath)
        <span style="color:#66d9ef">if</span> (self<span style="color:#f92672">.</span>result[<span style="color:#e6db74">&#34;build&#34;</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>):
            self<span style="color:#f92672">.</span>__Run()
        self<span style="color:#f92672">.</span>__Result()
</code></pre></div><h3 id="34-test-case-testcase">3.4 Test case (testcase/)</h3>
<ul>
<li>A text file is generated under testcase for the first test execution. (contest name@question name.txt)</li>
<li>The format is as follows</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text:abc143@abc143_a.txt" data-lang="text:abc143@abc143_a.txt">[test case 0]
- --input---
12 4
- --output---
Four
- --fin---
[test case 1]
- --input---
20 15
- --output---
0
- --fin---
</code></pre></div><h3 id="35-result-display">3.5 Result display</h3>
<ul>
<li>Display results for each test case and total results.</li>
<li>AC is green, WA, TLE, CE are yellow.</li>
<li>WA (wrong result) outputs expectation and result.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/284450/eda30a88-e825-3df6-cc1e-9092b7fb8e01.png" alt="WA__.png"></li>
</ul>
<h2 id="4-supplement">4. Supplement</h2>
<h3 id="41-regarding-the-python-environment">4.1 Regarding the python environment</h3>
<p>The following modules are required. You can insert it immediately with pip, pip3, conda, etc.</p>
<pre><code>pip3 install requests
pip3 install bs4, lxml
</code></pre><h3 id="42-option-list">4.2 Option list</h3>
<ul>
<li>Add test case with -a</li>
<li>Initialize with -i (update configuration file)</li>
<li>Specify source code path directly with -p</li>
</ul>
<pre><code>&gt;python autojudge.py --help
usage: autojudge.py [-h] [-p PATH] [-a] [-i] contest_name question

positional arguments:
  contest_name set contest name(ex. abc143)
  question set question name(ex. abc143_a)

optional arguments:
  -h, --help show this help message and exit
  -p PATH, --path PATH set path of source code
  -a, --addtest add testcase
  -i, --init set configuration
</code></pre><h3 id="43-regarding-the-path-specification--p">4.3 Regarding the path specification (-p)</h3>
<p>When the source code directory structure is not &ldquo;3.1 Directory structure&rdquo;
(For example, in the following cases)</p>
<pre><code>.
├── 02_contest
│  ├── abc143
│  │  ├── abc143_a.cpp
│   │  ├── abc143_b.cpp
│   │  └── abc143_c.cpp
├── 04_autotest
│  ├── autoJudge
│  │  ├── README.md
│  │  ├── autoJudge.py
│   │  ├── autojudge.pu
│  │  ├── setting.conf
│  │  └── test case
</code></pre><p>You can directly specify the source code location with the -p option.</p>
<pre><code>&gt;python autojudge.py abc143 abc143_a -p ../../02_contest/abc143/abc143_a.cpp
Judging abc143/abc143_a...
testcase 1: AC
testcase 2: AC
testcase 3: AC
testcase 4: AC
result: AC
</code></pre><h3 id="44-known-issues">4.4 Known issues</h3>
<ul>
<li>It may become TLE at the first execution (does it include scraping time??)</li>
<li>** Not compatible with the problem that the correct answer (AC) is within a certain error **</li>
<li>Is the TLE judgment accuracy subtle?</li>
<li>PermissionError is output at TLE (Win10 environment only)</li>
<li>No support for runtime error (RE)
<ul>
<li>Sometimes bugs</li>
</ul>
</li>
</ul>
<h2 id="5-postscript">5. Postscript</h2>
<ul>
<li>plantUML was good (used for class diagram generation)</li>
<li>Beutiful Soup was also good (used for HTML analysis)</li>
<li>argperse also slightly bent (used for option analysis)</li>
<li>There were many pioneers
<ul>
<li><a href="https://github.com/kyuridenamida/atcoder-tools">https://github.com/kyuridenamida/atcoder-tools</a></li>
<li><a href="https://github.com/nodchip/OnlineJudgeHelper">https://github.com/nodchip/OnlineJudgeHelper</a>
*I want to become blue quickly</li>
</ul>
</li>
</ul>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
