<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Python coding with PEP8 and PEP257 is not embarrassing to show to others! | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Python coding with PEP8 and PEP257 is not embarrassing to show to others!</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 10, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/pep8">PEP8</a></code></small>


<small><code><a href="https://memotut.com/tags/pep257">PEP257</a></code></small>

</p>
<pre><code>## Introduction
</code></pre>
<p>Hello. Promptly, is the source code you wrote easy to read?</p>
<p>There are many opportunities for others to see my own code, such as when co-developed by multiple people, when it is published on the Internet, when it is delivered, and so on.
If the code you write at such times is well-formatted, not only the reader but also the reader will be able to understand the code quickly and without misunderstanding.</p>
<p>In such cases, the conventions used to format Python code are <strong>PEP 8</strong> and <strong>PEP 257</strong>.</p>
<p>This article does not strictly adhere to the contents of PEP 8 and PEP 257, but introduces some typical rules that can be <strong>casually understood to achieve the minimum appearance</strong>. To do.</p>
<h2 id="shebang-magic-comment">Shebang, Magic Comment</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e"># -*- coding: utf-8 -*-</span>
</code></pre></div><p>First of all, this is often written at the beginning of the code. The first line is <strong>Siban (Shebang)</strong> and the second line is <strong>Magic Comment</strong>.</p>
<p><strong>Sivan</strong> describes something like &ldquo;Please run this file with this program&rdquo;.</p>
<p>By describing this, when you want to execute this code (probably the file name is sample.py),</p>
<pre><code>$python sample.py
</code></pre><p>not</p>
<pre><code>$ ./sample.py
</code></pre><p>You can execute it with the command.</p>
<p>Next is a <strong>magic comment</strong>, which according to PEP8 is <strong>unnecessary</strong> if it is Python3 source code and is written in UTF-8.</p>
<p>The magic comment describes the character encoding of the code being written and should not be written because the default character code is UTF-8 in Python3.</p>
<h2 id="import-statement">import statement</h2>
<p>There are three major rules for import statements.</p>
<ul>
<li>Not summarized</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># OK</span>
<span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> sys

<span style="color:#75715e">#NG</span>
<span style="color:#f92672">import</span> sys<span style="color:#f92672">,</span> os
</code></pre></div><ul>
<li>If parents are the same, you can put them together</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> GridSearchCV, train_test_split
</code></pre></div><ul>
<li>Standard library, 3rd party, 1 line open locally</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> sys

<span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> GridSearchCV, train_test_split

<span style="color:#f92672">from</span> mypackage <span style="color:#f92672">import</span> sample
</code></pre></div><h2 id="docstring">Docstring</h2>
<p>A text description of the defined function or class. It takes a lot of work to write, but it looks different from the one with and without it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_func</span>(x):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    Returns the squared value.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Parameters
</span><span style="color:#e6db74">    ----------
</span><span style="color:#e6db74">    x: int
</span><span style="color:#e6db74">        Target integer value
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Returns
</span><span style="color:#e6db74">    -------
</span><span style="color:#e6db74">    y: int
</span><span style="color:#e6db74">        The squared value of the input
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    y <span style="color:#f92672">=</span> x <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>
    <span style="color:#66d9ef">return</span> y
</code></pre></div><p>Enclose the Docstring with <strong>3 double quotes</strong>. Single quotation is NG. The content may be described after the line in which the double quotation is given.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># This is also OK</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_func_hoge</span>(x):
    <span style="color:#e6db74">&#34;&#34;&#34; Returns the squared value.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Parameters
</span><span style="color:#e6db74">    ----------
</span><span style="color:#e6db74">    x: int
</span><span style="color:#e6db74">        Target integer value
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Returns
</span><span style="color:#e6db74">    -------
</span><span style="color:#e6db74">    y: int
</span><span style="color:#e6db74">        The squared value of the input
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    y <span style="color:#f92672">=</span> x <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>
    <span style="color:#66d9ef">return</span> y


<span style="color:#75715e"># At least write a summary only.</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_func_fuga</span>(x):
    <span style="color:#e6db74">&#34;&#34;&#34;Returns the squared value.&#34;&#34;&#34;</span>
    y <span style="color:#f92672">=</span> x <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>
    <span style="color:#66d9ef">return</span> y
</code></pre></div><p>In the first line, write a summary of the target function or class. Please note that <strong>the last character must be a half-width period</strong>.</p>
<p>After the summary, insert a blank line as an argument, and after the argument, similarly insert a blank line and enumerate the return values.</p>
<p>It seems that there are good things in Jupyter etc if you write this, but the explanation here is omitted.</p>
<h2 id="indent">indent</h2>
<p>So-called indentation. Use <strong>4 spaces</strong> instead of tabs. However, when using tensorflow, indentation tends to be deep, so it is said that two spaces are enough.</p>
<ul>
<li>Line breaks within parentheses such as functions</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># If the argument of the function becomes too long, a line break is inserted according to the left parenthesis position.</span>
a <span style="color:#f92672">=</span> long_name_function(hikisu_ichi, hikisu_ni,
                       hikisu_san, hikisu_yon)

<span style="color:#75715e"># Lower indentation and line breaks are OK</span>
b <span style="color:#f92672">=</span> long_name_function(
    hikisu_ichi, hikisu_ni,
    hikisu_san, hikisu_yon)

<span style="color:#75715e"># Line breaks with indents lowered from the middle are NG</span>
c <span style="color:#f92672">=</span> long_name_function(hikisu_ichi, hikisu_ni,
    hikisu_san, hikisu_yon)

</code></pre></div><p>Line breaks in long arithmetic expressions</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># It is OK if it is unified whether to break before or after the arithmetic expression.</span>
result_1 <span style="color:#f92672">=</span> (sushiki_ichi
            <span style="color:#f92672">+</span> sushiki_ni
            <span style="color:#f92672">-</span>(sushiki_san<span style="color:#f92672">-</span>susiki_yon)
            <span style="color:#f92672">-</span>susiki_go)

result_2 <span style="color:#f92672">=</span> (sushiki_ichi <span style="color:#f92672">+</span>
            sushiki_ni<span style="color:#f92672">-</span>
            (sushiki_san<span style="color:#f92672">-</span>susiki_yon)<span style="color:#f92672">-</span>
            (susiki_go)
</code></pre></div><h2 id="line-spacing">line spacing</h2>
<p>At the top level, that is, for line breaks without indentation, leave two lines as a rule, and leave one line or less for other lines.</p>
<h2 id="whether-to-leave-one-space-character-in-a-line">Whether to leave one space character in a line</h2>
<p>*Do not open to the right of the left bracket or the left of the right bracket</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># OK</span>
hoge <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;fuga&#39;</span>: [<span style="color:#ae81ff">0</span>]}

<span style="color:#75715e">#NG</span>
hoge <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;fuga&#39;</span>: [<span style="color:#ae81ff">0</span>]}
</code></pre></div><ul>
<li>Do not open immediately before comma or colon</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#75715e"># OK</span>
<span style="color:#66d9ef">if</span> a <span style="color:#f92672">==</span> b:
    c <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;d&#39;</span>: <span style="color:#ae81ff">1</span>}

<span style="color:#75715e">#NG</span>
<span style="color:#66d9ef">if</span> a <span style="color:#f92672">==</span> b:
    c <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;d&#39;</span> :<span style="color:#ae81ff">1</span>}

<span style="color:#75715e">#Except for colons used for slicing</span>
array[<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">5</span>]
</code></pre></div><ul>
<li>Insert spaces on both sides of assignment operators, comparison operators, and Boolean operators</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">a <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
b <span style="color:#f92672">=</span> c <span style="color:#f92672">&gt;=</span> d
e <span style="color:#f92672">=</span> f <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> g_list
h <span style="color:#f92672">=</span> j <span style="color:#f92672">and</span> k

<span style="color:#75715e"># However, there is no space on both sides of =, which is used to describe default parameters in functions etc.</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">hoge</span>(piyo<span style="color:#f92672">=</span>None):
    <span style="color:#66d9ef">pass</span>

There <span style="color:#f92672">is</span> no space on either side of the <span style="color:#f92672">=</span>, which <span style="color:#f92672">is</span> used to describe arguments when specifying the <span style="color:#75715e"># function keyword.</span>
piyopiyo <span style="color:#f92672">=</span> hoge(piyo<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</code></pre></div><ul>
<li>For huge expressions, try to avoid spaces on both sides of the operator with the highest precedence.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">x <span style="color:#f92672">=</span> (b <span style="color:#f92672">+</span> (b<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span><span style="color:#ae81ff">4</span><span style="color:#f92672">*</span>a<span style="color:#f92672">*</span>c) <span style="color:#f92672">**</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">/</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>a)
</code></pre></div><h2 id="summary">Summary</h2>
<p>How was it? This time, I do not cover all of PEP 8 and PEP 257, but I would like you to understand roughly what kind of place you should write carefully.</p>
<p>I would be happy if you read this article and want to pursue readability and good looking coding.</p>
<h2 id="reference">Reference</h2>
<ul>
<li>pep8-ja 1.0 documentation <a href="https://pep8-ja.readthedocs.io/ja/latest/">https://pep8-ja.readthedocs.io/ja/latest/</a></li>
<li>PEP 257-Docstring Conventions | Python.org <a href="https://www.python.org/dev/peps/pep-0257/">https://www.python.org/dev/peps/pep-0257/</a></li>
</ul>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
