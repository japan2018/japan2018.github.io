<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] If you want to build a PYTHON environment, you must understand it. | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] If you want to build a PYTHON environment, you must understand it.</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 22, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/install">install</a></code></small>


<small><code><a href="https://memotut.com/tags/python3">Python3</a></code></small>

</p>
<pre><code>#There are 3 types of installation formats
</code></pre>
<p>You will usually download the installer from the official page below to build a python development environment.
<em><strong>Python Releases for Windows</strong></em>
<a href="https://www.python.org/downloads/windows/">https://www.python.org/downloads/windows/</a></p>
<p>For example, as of January 21, 2020, python3.8.1 is distributed in the following format.</p>
<ul>
<li>Copy and paste web content</li>
</ul>
<ul>
<li>Download Windows help file</li>
<li>Download Windows x86-64 embeddable zip file</li>
<li>Download Windows x86-64 executable installer</li>
<li>Download Windows x86-64 web-based installer</li>
<li>Download Windows x86 embeddable zip file</li>
<li>Download Windows x86 executable installer</li>
<li>Download Windows x86 web-based installer</li>
</ul>
<p>To explain in order from the top</p>
<ul>
<li>Instruction (help)</li>
<li>64-bit version*** Embedded ***zip file</li>
<li>64-bit version installer</li>
<li>64-bit version web installer</li>
<li>32-bit version*** Embedded ***zip file</li>
<li>32-bit version installer</li>
<li>32-bit version web installer</li>
</ul>
<p>Will be.
Isn&rsquo;t one of the installers (~installer) basically used for personal study purposes?</p>
<p>I will explain each detail in detail.
In addition, Download Windows help file and Download Windows x86 and later are not explained. (Do you understand the meaning without explaining that it deviates from the purpose?)</p>
<ul>
<li>In addition, for the purpose of this article, I will explain in a different order.</li>
</ul>
<p>##Download Windows x86-64 executable installer
The most orthodox installer.
Since this is an installer format file and all files are included in the installer itself, installation is possible even without an internet environment.
In addition, you can set the environment in detail, such as whether to allow only specific users to use the setting, whether to register the python path in the environment variable, or to install py.exe (details later).
*** If you have no reason, or are a beginner or unwilling to read the entire python manual, I highly recommend this type of installation. ***</p>
<p>##Download Windows x86-64 web-based installer
Download Web installer version of Windows x86-64 executable installer.
The web installer is simply a format for installing the files at the time of installation by *** via the network, and the installer itself is extremely lightweight.
It is the same as a normal installer except that a networked environment is required for the installation.
It is often used for things that require the installation of <em><strong>unGB</strong></em>, such as visualstudio or rockstar game launcher.</p>
<p>##Download Windows x86-64 embeddable zip file
*** Problem child. ***
If you translate it, it will be an embedded distribution file. It contains the (<em><strong>minimum</strong></em>) configuration (<em><strong>+alpha super-special configuration file</strong></em>) needed to launch python without going through the installer. , It becomes a sugremono that can be used for Sugu if it is thawed.
*** Of course there is a price to pay. ***</p>
<p><em><strong>Moreover, it is a Han-like specification without pip. (If you want to use pip, you need to pass the program that configures pip after completing the environment construction.)</strong></em></p>
<p>What is the price of ##embeddable zip file?
This is the main subject of this article.
In this distribution format, the included file contains a file that other installers do not have.
The file is ***python 〇 〇 .__pth (where python is the python version) ***. This kid peels fangs from bad kids who don&rsquo;t read the python manual to every corner.</p>
<p>In python, if you call it with a file as a command line argument,
(Commands such as python C:\～～\main.py) There is a behavior to add the directory path of the file specified in the command line argument to sys.path[0] as the module reference setting, which is the official document. It is described in.
[https://docs.python.org/ja/3/library/sys.html?highlight=sys%20path]</p>
<p>This allows you to read modules from another py file in the same directory in your program.
The following is an example of sys.path[0] in my environment.</p>
<pre><code class="language-console" data-lang="console">['(Full path of py file directory passed in command line argument)',
 'C:\\(python installation directory)\\python37.zip',
 'C:\\(python installation directory)\\DLLs',
 'C:\\(python installation directory)\\lib',
 'C:\\(python installation directory)',
 'C:\\Users\\(username)\\AppData\\Roaming\\Python\\Pytho
 'C:\\(python installation directory)\\lib\\site-packages',
 'C:\\(python installation directory)\\lib\\site-packages\\win32',
 'C:\\(python installation directory)\\lib\\site-packages\\win32\\li
 'C:\\(python installation directory)\\lib\\site-packages\\Pythonwin
 '(Full path of py file directory passed in command line argument)']
</code></pre><p>It is as per the official document.</p>
<p>However, the embeddable zip file is as follows.</p>
<pre><code class="language-console" data-lang="console"> ['C:\\(python installation directory)\\python37.zip',
 'C:\\(python installation directory)',
 'C:\\(python installation directory)\\lib\\site-packages'] *Added because pip configuration
</code></pre><p>###?????
The referenced path is obviously missing.
The installer version works as described, but the directory of the file specified in the command line argument is not specified in the module reference path in ***embeddable zip file. ***
Other than that, the reference path is different.
About this behavior
[https://docs.python.org/ja/3/using/windows.html]
In the above manual (3.8. Searching for modules), its behavior is explained.</p>
<p>In the embeddable zip file, if there is ***[python○._pth], it will start in the isolation mode, so you need to specify the module reference settings yourself. ***</p>
<p>It&rsquo;s quarantine. isolation. Murahachi mode.</p>
<p>To deal with this,</p>
<ul>
<li>① Set the path of each module to be referenced in the source code</li>
<li>(2) Create [appropriate name.pth] in the directory that contains python.exe and describe the directory path that you want to refer to when python.exe is started.</li>
<li>(3) Delete python 〇 〇 .__pth file (release quarantine mode)</li>
</ul>
<p>However, there are disadvantages to each.</p>
<ul>
<li>In the case of ①, it is necessary to understand all the modules that the own source refers to, and describe it comprehensively (pip package, self-made module, etc.)</li>
<li>In case of ②, every time a small python program is added, it is necessary to describe it in the pth file, and if a file with the same name and a variable name exist, an overload error will occur.</li>
<li>If ③ is deleted, the behavior will be the same as the installer version, but you will not be able to make detailed settings. (It is assumed that you will make detailed settings when using the embeddable zip file, so you should use the installer from the beginning.)</li>
</ul>
<p>Other than that, the difference from the installer version</p>
<ul>
<li>Does not include py.exe</li>
</ul>
<p>There is.
py.exe is called the python launcher, it manages multiple python versions and launches the appropriate version according to the source code. (It is effective when installing multiple versions for the purpose of trying a new version.)</p>
<p>In the installer version, if you do not make special settings during installation, the python installation destination can only be installed in the user-specific directory (under AppData on Windows), but that is a reason for security problems.
(Because malicious script files and scripts can be executed if python.exe is installed in a directory accessible to all users.)</p>
<p>The embeddable zip file does not have that restriction and can be installed anywhere you like, so please use it only if you can manage it all yourself.</p>
<p>There are multiple installers in python, but you have to understand the difference in what is included and the difference in behavior. (not limited to python)</p>
<h2 id="then-when-do-you-use-embeddable-zip-file">Then, when do you use embeddable zip file?</h2>
<p>From the conclusion, it is used when distributing things created by itself to terminals without python environment. (Installed on the back end of the server etc.) Also, it is necessary to assume that the python version is not updated (the python.exe itself will not be updated if distributed).
Even if you need to update python, there is no py.exe, so you need to handle version control yourself.</p>
<p>#Finally
Not limited to python, it means that there are multiple installation formats
***There are multiple reasons for some reason. ***
If you use it without checking past experience or because it is similar to the installation format of other apps
*** I&rsquo;m always in the wrong hands. ***</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
