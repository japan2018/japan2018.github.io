<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Sudachi Py accidentally made a tanka | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Sudachi Py accidentally made a tanka</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 11, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/py-tenn">Py Tenn</a></code></small>


<small><code><a href="https://memotut.com/tags/sudachi"> Sudachi</a></code></small>


<small><code><a href="https://memotut.com/tags/sudachi-py"> Sudachi Py</a></code></small>

</p>
<pre><code># What is a chance tanka?
</code></pre>
<p>It is <a href="https://twitter.com/g57577">twitter bot</a> that I extract the part that happens to be 57577 from the text of wikipedia and post it.
<a href="https://inaniwa3.hatenablog.com/entry/2015/01/01/152927">Here</a> was created in 2015.
The original one seems to be made of ruby+MeCab, so this time I will reheat it with Python and Sudachi.
Thanks and respect to my seniors.</p>
<p>#environment
Windows10 Home (64bit)</p>
<p>python 3.7.4
SudachiDict-full==20191224
SudachiPy==0.4.2</p>
<p>Environment built with pipenv</p>
<p>#Why Sudachi
In Sudachi, you can specify the division mode, and you can decompose parts of speech in the largest possible units.
With MeCab, it breaks down quite finely, so you might pick up some weird splits like &ldquo;Tokyo Sky&rdquo; in the upper phrase and &ldquo;Tree&rdquo; in the lower phrase.
Sudachi reduces this risk.</p>
<p>From <a href="https://github.com/WorksApplications/Sudachi">Sudachi&rsquo;s GitHub</a>.</p>
<blockquote>
<p>Split mode
Sudachi offers 3 split modes: A, B, C from the shortest one. A is equivalent to UniDic short unit, C is equivalent to specific expression, B is an intermediate unit between A and C.</p>
<p>Below is an example.</p>
<p>(When using core dictionary)</p>
<p>A: Election/Management/Committee/Meeting
B: Election/Management/Committee
C: Election Commission</p>
<p>A: Guest room/crew/member
B: cabin/crew
C: Flight attendant</p>
</blockquote>
<p>It&rsquo;s an experience, but Sudachi&rsquo;s A is about the same as MeCab.</p>
<p>#SudachiPy installation
Install SudachiPy and dictionary referring to <a href="https://github.com/WorksApplications/SudachiPy">SudachiPy&rsquo;s GitHub</a>
There are three types of dictionary: small, core, and full. This time, I installed a full vocabulary dictionary.</p>
<pre><code>pip install SudachiPy
pip install https://object-storage.tyo2.conoha.io/v1/nc_2520839e1f9641b08211a5c85243124a/sudachi/SudachiDict_full-20191224.tar.gz
</code></pre><h1 id="link-dictionaries">Link dictionaries</h1>
<p>Regarding the dictionary, there seems to be a method to specify from json in the source or a method to link the default dictionary from the command. This time I chose the latter.
Although I did not write it in the document, I got a Permission error when I did it normally, so execute the following command <strong>from a prompt with administrator privileges</strong>. Here is the point.
(It&rsquo;s unclear what happens on Linux or Mac.)</p>
<pre><code>sudachipy link -t full
</code></pre><p>#Source code
Since I made it ruggedly, there may be some nonsense in how to make it. I think there is.
The modes are divided so that both haiku and tanka can be detected.
The first approach was to extract the 31-note sentence and see if it would be 57577. But when I tried it, it did not detect it at all, so I made it possible to search even a part of a long sentence and switched with the flag of setting.precision.
If you want a beautiful one with less noise, the former, if you want the number anyway, the latter.</p>
<p>The basic policy is to count the number of readings while setting a flag, and to extract the ones where the sound break is within 57577. When it reaches 579 or 57578, it is rejected. Also rejected when a particle or auxiliary verb comes at the beginning of the phrase. Delete the head part of the sentence and search again.
Also, [ya, u, yo] etc. are not counted as the number of notes.
I&rsquo;m using importlib because I finally made it into an exe with pyinstaller.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:search_tanka.py" data-lang="python:search_tanka.py"><span style="color:#f92672">import</span> re
<span style="color:#f92672">import</span> importlib
<span style="color:#f92672">from</span> sudachipy <span style="color:#f92672">import</span> tokenizer
<span style="color:#f92672">from</span> sudachipy <span style="color:#f92672">import</span> dictionary

setting <span style="color:#f92672">=</span> importlib<span style="color:#f92672">.</span>import_module(<span style="color:#e6db74">&#39;setting&#39;</span>)
tokenizer_obj <span style="color:#f92672">=</span> dictionary<span style="color:#f92672">.</span>Dictionary()<span style="color:#f92672">.</span>create()
<span style="color:#75715e"># Set division unit to longest</span>
split_mode <span style="color:#f92672">=</span> tokenizer<span style="color:#f92672">.</span>Tokenizer<span style="color:#f92672">.</span>SplitMode<span style="color:#f92672">.</span>C
<span style="color:#75715e"># Path of text file to read</span>
searchfile_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;./search_text/&#34;</span> <span style="color:#f92672">+</span> setting<span style="color:#f92672">.</span>search_file_name
<span style="color:#75715e"># Path of text file to export</span>
savefile_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;./result_text/&#34;</span> <span style="color:#f92672">+</span> setting<span style="color:#f92672">.</span>save_file_name
<span style="color:#75715e"># Switching between haiku and tanka modes</span>
<span style="color:#66d9ef">if</span> setting<span style="color:#f92672">.</span>mode <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
    break_points <span style="color:#f92672">=</span> [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">17</span>]
<span style="color:#66d9ef">else</span>:
    break_points <span style="color:#f92672">=</span> [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">24</span>, <span style="color:#ae81ff">31</span>]
<span style="color:#75715e"># Katakana regular expression</span>
re_katakana <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;[\u30A1-\u30F4]+&#39;</span>)

<span style="color:#75715e"># Open text file</span>
<span style="color:#66d9ef">with</span> open(searchfile_path, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8_sig&#34;</span>) <span style="color:#66d9ef">as</span> f:
    <span style="color:#75715e">#Read all lines and list</span>
    areas <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>readlines()
    <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> areas:
        <span style="color:#75715e"># Separated by &#34;.&#34; or &#34;.&#34; or newline</span>
        sentences <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;[..</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">]&#39;</span>, line)
        <span style="color:#66d9ef">for</span> sentence <span style="color:#f92672">in</span> sentences:
            <span style="color:#75715e"># When searching in sentence units, it is through</span>
            <span style="color:#66d9ef">if</span> setting<span style="color:#f92672">.</span>precision <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
                <span style="color:#66d9ef">pass</span>
            <span style="color:#75715e"># Tanka, haiku, and sentences with more than each character are not detected</span>
            <span style="color:#66d9ef">else</span>:
                <span style="color:#66d9ef">if</span> len(sentence) <span style="color:#f92672">&gt;</span>break_points[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]:
                    <span style="color:#66d9ef">continue</span>

            <span style="color:#75715e"># Morphological analysis</span>
            m <span style="color:#f92672">=</span> tokenizer_obj<span style="color:#f92672">.</span>tokenize(sentence, split_mode)
            Cast MorphemeList to List
            m <span style="color:#f92672">=</span> list(m)

            retry <span style="color:#f92672">=</span> True
            <span style="color:#66d9ef">while</span> retry:
                break_point_header_flag <span style="color:#f92672">=</span> True
                retry <span style="color:#f92672">=</span> False
                counter <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                break_point_index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                reading <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
                surface <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
                <span style="color:#75715e"># Determine if the sentence is broken at each phrase break</span>
                <span style="color:#66d9ef">for</span> mm <span style="color:#f92672">in</span> m:
                    <span style="color:#66d9ef">if</span> break_point_header_flag <span style="color:#f92672">==</span> True:
                        text_type <span style="color:#f92672">=</span> mm<span style="color:#f92672">.</span>part_of_speech()[<span style="color:#ae81ff">0</span>]
                        <span style="color:#75715e">#If the head of each phrase is not an appropriate part of speech, it will not be detected</span>
                        <span style="color:#66d9ef">if</span> text_type <span style="color:#f92672">in</span> setting<span style="color:#f92672">.</span>skip_text_type:
                            <span style="color:#75715e">#If long sentence investigation is on, search again</span>
                            <span style="color:#66d9ef">if</span> setting<span style="color:#f92672">.</span>precision <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
                                retry <span style="color:#f92672">=</span> True
                                <span style="color:#66d9ef">del</span> m[<span style="color:#ae81ff">0</span>]
                                <span style="color:#66d9ef">break</span>
                            <span style="color:#66d9ef">else</span>:
                                counter <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                                <span style="color:#66d9ef">break</span>
                        <span style="color:#66d9ef">else</span>:
                            break_point_header_flag <span style="color:#f92672">=</span> False
                    <span style="color:#75715e"># Analyze reading</span>
                    reading_text <span style="color:#f92672">=</span> mm<span style="color:#f92672">.</span>reading_form()
                    surface_text <span style="color:#f92672">=</span> mm<span style="color:#f92672">.</span>surface()
                    <span style="color:#66d9ef">if</span> len(reading_text)<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">7</span>:
                        <span style="color:#75715e">#If long sentence investigation is on, search again</span>
                        <span style="color:#66d9ef">if</span> setting<span style="color:#f92672">.</span>precision <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
                            retry <span style="color:#f92672">=</span> True
                            <span style="color:#66d9ef">del</span> m[<span style="color:#ae81ff">0</span>]
                            <span style="color:#66d9ef">break</span>
                        <span style="color:#66d9ef">else</span>:
                            counter <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                            <span style="color:#66d9ef">break</span>
                    <span style="color:#75715e"># Skip if the parsing result is a character that should be skipped</span>
                    <span style="color:#66d9ef">if</span> reading_text <span style="color:#f92672">in</span> setting<span style="color:#f92672">.</span>skip_text:
                        sentence <span style="color:#f92672">=</span> sentence<span style="color:#f92672">.</span>replace(mm<span style="color:#f92672">.</span>surface(), <span style="color:#e6db74">&#34;&#34;</span>)
                        <span style="color:#66d9ef">continue</span>
                    <span style="color:#75715e"># Since Katakana&#39;s personal name does not come in, complement it with surface</span>
                    <span style="color:#66d9ef">if</span> reading_text <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span>:
                        text_surface <span style="color:#f92672">=</span> mm<span style="color:#f92672">.</span>surface()
                        <span style="color:#66d9ef">if</span> re_katakana<span style="color:#f92672">.</span>fullmatch(text_surface):
                            reading_text <span style="color:#f92672">=</span> text_surface<span style="color:#75715e">#Skip when a kanji that cannot be read in the dictionary appears</span>
                        <span style="color:#66d9ef">else</span>:
                            <span style="color:#75715e">#If long sentence investigation is on, search again</span>
                            <span style="color:#66d9ef">if</span> setting<span style="color:#f92672">.</span>precision <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
                                retry <span style="color:#f92672">=</span> True
                                <span style="color:#66d9ef">del</span> m[<span style="color:#ae81ff">0</span>]
                                <span style="color:#66d9ef">break</span>
                            <span style="color:#66d9ef">else</span>:
                                counter <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                                <span style="color:#66d9ef">break</span>
                    <span style="color:#75715e"># Count phonemes of reading</span>
                    counter <span style="color:#f92672">+=</span> len(reading_text)
                    reading <span style="color:#f92672">=</span> reading <span style="color:#f92672">+</span> reading_text
                    surface <span style="color:#f92672">=</span> surface <span style="color:#f92672">+</span> surface_text
                    <span style="color:#75715e"># Minus the count if there is a compatible phoneme that does not count</span>
                    <span style="color:#66d9ef">for</span> letter <span style="color:#f92672">in</span> setting<span style="color:#f92672">.</span>skip_letters:
                        <span style="color:#66d9ef">if</span> letter <span style="color:#f92672">in</span> reading_text:
                            counter <span style="color:#f92672">-=</span> reading_text<span style="color:#f92672">.</span>count(letter)
                    <span style="color:#75715e"># Did the count progress by the number of characters in each phrase?</span>
                    <span style="color:#66d9ef">if</span> counter <span style="color:#f92672">==</span> break_points[break_point_index]:
                        break_point_header_flag <span style="color:#f92672">=</span> True
                        <span style="color:#75715e">#Go to the next phrase if you have not come to the end</span>
                        <span style="color:#66d9ef">if</span> counter <span style="color:#f92672">!=</span> break_points[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]:
                            break_point_index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
                            reading <span style="color:#f92672">=</span> reading <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#34;</span>
                    <span style="color:#75715e"># Play when the number of characters exceeds the specified number of characters in each phrase.</span>
                    <span style="color:#66d9ef">elif</span> counter <span style="color:#f92672">&gt;</span>break_points[break_point_index]:
                        <span style="color:#75715e">#If long sentence investigation is on, search again</span>
                        <span style="color:#66d9ef">if</span> setting<span style="color:#f92672">.</span>precision <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
                            retry <span style="color:#f92672">=</span> True
                            <span style="color:#66d9ef">del</span> m[<span style="color:#ae81ff">0</span>]
                            <span style="color:#66d9ef">break</span>
                        <span style="color:#66d9ef">else</span>:
                            counter <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                            <span style="color:#66d9ef">break</span>

                <span style="color:#75715e"># Pick up and add to the file if it is detected exactly with the specified number of characters</span>
                <span style="color:#66d9ef">if</span> counter <span style="color:#f92672">==</span> break_points[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]:
                    <span style="color:#66d9ef">with</span> open(savefile_path, <span style="color:#e6db74">&#34;a&#34;</span>) <span style="color:#66d9ef">as</span> f:
                        <span style="color:#66d9ef">try</span>:
                            <span style="color:#66d9ef">print</span>(surface <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#34;</span>)
                            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;(&#34;</span> <span style="color:#f92672">+</span> reading <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
                            f<span style="color:#f92672">.</span>write(surface <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
                            f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;(&#34;</span> <span style="color:#f92672">+</span> reading <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
                            f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
                        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
                            <span style="color:#66d9ef">print</span>(e)

                <span style="color:#66d9ef">if</span> len(m) <span style="color:#f92672">&lt;</span>len(break_points):
                    <span style="color:#66d9ef">break</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:setting.py" data-lang="python:setting.py"><span style="color:#75715e"># mode (Detection mode) 1: Haiku 2: Tanka</span>
mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
<span style="color:#75715e"># precision 1: low 2: high</span>
<span style="color:#75715e"># Low detection count: high, noise: high, execution time: high</span>
<span style="color:#75715e"># High detection number: low, noise: low, execution time: low</span>
precision <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#75715e"># Characters that do not count as phonemes</span>
skip_letters <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;ya&#39;</span>,<span style="color:#e6db74">&#39;yu&#39;</span>,<span style="color:#e6db74">&#39;yo&#39;</span>]
<span style="color:#75715e"># Files to be detected</span>
search_file_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;jawiki-latest-pages-articles.xml-001.txt&#34;</span>
<span style="color:#75715e"># File to save the detection result</span>
save_file_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;result.txt&#34;</span>
<span style="color:#75715e"># Part of speech that should not come at the beginning of a phrase</span>
skip_text_type <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;particle&#34;</span>, <span style="color:#e6db74">&#34;auxiliary verb&#34;</span>, <span style="color:#e6db74">&#34;suffix&#34;</span>, <span style="color:#e6db74">&#34;auxiliary sign&#34;</span>]
<span style="color:#75715e"># Characters not included in the analysis target</span>
skip_text <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#e6db74">&#34;Kigo&#34;</span>, <span style="color:#e6db74">&#34;=&#34;</span>, <span style="color:#e6db74">&#34;・&#34;</span>]
</code></pre></div><p>#Execution result
Scanned against wikipedia text. The following is a partial excerpt.</p>
<p>Plato changed its style from the middle stage under the influence of Isocrates
(Platon Ha Isocratesno Eikyo Wo Ke Uki Buntai Okae)</p>
<p>It is said to be the beginning, and the monument of the birthplace of Basho is set up.
(Hajimarito Iware Shofu Hashono Chinoishibu Migata Tateraretail)</p>
<p>Special emphasis is placed on blood lines, which is an individual tradition in inheritance.
(Shoshuni Okerukobetsuno Denshode Arketsumyakuwo Tokunio Monji)</p>
<p>Nouakchott was constructed as a city that should become the capital of the future
(Shorainino Stone Beetle Toshito Shite Nouakchottga Kensetsareta)</p>
<p>Japanese style octopus fishing using octopus jars in cooperation with Japan
(Nippon nokyoryokuniyori takotsubo tsukai Nippon shikinotakoryo)</p>
<p>#Future outlook
If I do it again next time, I want to deal with the following.</p>
<p>・About reading of numbers
Sudachi doesn&rsquo;t seem to be able to read numbers at present.</p>
<p>Example)
Generally, it has been between 50 and 150 cars
↓
(Omuneha Gorei Ryokara Strawberry Lei Ryo no Aidade Suishita)</p>
<p>There is a plan, but the implementation is undecided.
It seems that you can handle it by writing your plug-in dictionary or cutting out only the numbers with regular expressions and parsing them with another engine. (However, another story is whether it will be possible to extract a good tanka by responding&hellip;)
・Regarding execution speed
I was expecting it, but it was late&hellip;
This is a problem in my implementation before Sudachi was slow and Python was slow. sorry.
Since I am foolishly turning it with a for sentence, it should be faster if I use <a href="https://docs.python.org/ja/3/library/itertools.html">itertools</a> properly.</p>
<p>#Impression
After all, I made the original source almost without looking at it (Oh!).
Occasionally, there were noises and things that were cut off by strange things, but they generally worked correctly.
I think the final pick-up work is still human power.
How do you tweet or get the citation from a bot?</p>
<p>It&rsquo;s detected a lot, but at the moment, my favorites are the following.</p>
<p><strong>The annoying act of copying and writing the content less than many times</strong>
** (Naiyounoresu Wonandomo Copipesite Kakicomtou Meiwakukoui) **</p>
<p>Well then.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
