<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] I looked back on the Python class again | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] I looked back on the Python class again</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 6, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/object-oriented"> object oriented</a></code></small>

</p>
<pre><code>This article is the 9th day article of [Python Part 3 Advent Calendar 2019 ](https://qiita.com/advent-calendar/2019/python3). In this article, I'll take a look back at the basics of Python classes as a memorandum. In addition, this article refers to some of the following books.
</code></pre>
<ul>
<li><a href="https://www.amazon.co.jp/dp/B01NCOIC2P">Minna no Python 4th Edition</a></li>
</ul>
<h1 id="encapsulation">Encapsulation</h1>
<h2 id="pattern-1">pattern 1</h2>
<p>This function is used when you do not want to refer to the variables in the class from the outside or update them. First, define a class (User) normally.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>:
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None):
        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name

user <span style="color:#f92672">=</span> User(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;user name:&#39;</span>, user<span style="color:#f92672">.</span>name) <span style="color:#75715e"># user name: qiita</span>
</code></pre></div><p>I would like to add a property called <code>flag</code> to a new class that inherits this class. If you want to make this property externally rewritable and unreadable, add <code>__</code> (two underscores) before the property.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User2</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None, flag<span style="color:#f92672">=</span>True):
        super()<span style="color:#f92672">.</span>__init__(name)
        self<span style="color:#f92672">.</span>__flag <span style="color:#f92672">=</span> flag
        
user2 <span style="color:#f92672">=</span> User2(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;user2 flag:&#39;</span>, user2<span style="color:#f92672">.</span>__flag) <span style="color:#75715e"># AttributeError</span>
</code></pre></div><p>However, you can access it from inside the class. If you execute the following code as a trial, the value of <code>flag</code> will be output.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User2</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None, flag<span style="color:#f92672">=</span>True):
        super()<span style="color:#f92672">.</span>__init__(name)
        self<span style="color:#f92672">.</span>__flag <span style="color:#f92672">=</span> flag
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;flag:&#39;</span>, self<span style="color:#f92672">.</span>__flag) <span style="color:#75715e"># flag: True</span>
        
user2 <span style="color:#f92672">=</span> User2(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>)
</code></pre></div><p>(Addition) As shown below, you can access by adding <code>_class name</code> in front of the property. Also, I did not know it myself, but PEP8 seems to not use this function aggressively for class property metaphor, but to avoid property name collision.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User2</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None, flag<span style="color:#f92672">=</span>True):
        super()<span style="color:#f92672">.</span>__init__(name)
        self<span style="color:#f92672">.</span>__flag <span style="color:#f92672">=</span> flag

user2 <span style="color:#f92672">=</span> User2(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>)
<span style="color:#66d9ef">print</span>(user2<span style="color:#f92672">.</span>_User2__flag) <span style="color:#75715e"># True</span>
</code></pre></div><p>Also, it is not possible to rewrite from the outside, but it is possible to newly define ordinary properties as well. (I think I don&rsquo;t do this much)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User2</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None, flag<span style="color:#f92672">=</span>True):
        super()<span style="color:#f92672">.</span>__init__(name)
        self<span style="color:#f92672">.</span>__flag <span style="color:#f92672">=</span> flag

user2 <span style="color:#f92672">=</span> User2(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>)
user2<span style="color:#f92672">.</span>__flag <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;changed&#39;</span>
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;user2 flag:&#39;</span>, user2<span style="color:#f92672">.</span>__flag) <span style="color:#75715e"># user2 flag: changed</span>
</code></pre></div><h2 id="pattern-2">pattern 2</h2>
<p>There is one underscore as a flexible metaphor, rather than the two underscores. However, if you use this method without actually devising it, it will be accessible from outside normally. (Be careful as the developer does not want to rewrite)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User3</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None, flag<span style="color:#f92672">=</span>True):
        super()<span style="color:#f92672">.</span>__init__(name)
        self<span style="color:#f92672">.</span>_flag <span style="color:#f92672">=</span> flag
        
user3 <span style="color:#f92672">=</span> User3(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;user3 flag:&#39;</span>, user3<span style="color:#f92672">.</span>_flag) <span style="color:#75715e"># user3 flag: True</span>

user3<span style="color:#f92672">.</span>_flag <span style="color:#f92672">=</span> False
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;user3 flag:&#39;</span>, user3<span style="color:#f92672">.</span>_flag) <span style="color:#75715e"># user3 flag: False</span>
</code></pre></div><p>Then, we will devise this property. It is possible to refer to it externally by defining a property with a decorator as shown below, but it is possible to define <code>flag</code> as a property that cannot be rewritten.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User3</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None, flag<span style="color:#f92672">=</span>True):
        super()<span style="color:#f92672">.</span>__init__(name)
        self<span style="color:#f92672">.</span>_flag <span style="color:#f92672">=</span> flag

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">flag</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_flag

user3 <span style="color:#f92672">=</span> User3(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;user3 flag:&#39;</span>, user3<span style="color:#f92672">.</span>flag) <span style="color:#75715e"># user3 flag: True</span>

user3<span style="color:#f92672">.</span>flag <span style="color:#f92672">=</span> False <span style="color:#75715e"># AttributeError: can&#39;t set attribute</span>
</code></pre></div><p>However, in the above case, if you call it with <code>._flag</code> instead of <code>.flag</code>, you can rewrite it normally, so be careful. Also, by using <code>@propertyname.setter</code>, not only reference but also rewriting is possible. In this case, it is often used with <code>if</code> etc. as <code>rewritable only if a certain condition is satisfied</code>. In the code below, the <code>flag</code> property can be rewritten only when the <code>pswd</code> property matches the conditions.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User3</span>(User):
    <span style="color:#66d9ef">def</span> __init__(self, name<span style="color:#f92672">=</span>None, flag<span style="color:#f92672">=</span>True, pswd<span style="color:#f92672">=</span>None):
        super()<span style="color:#f92672">.</span>__init__(name)
        self<span style="color:#f92672">.</span>_flag <span style="color:#f92672">=</span> flag
        self<span style="color:#f92672">.</span>pswd <span style="color:#f92672">=</span> pswd

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">flag</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_flag

    <span style="color:#a6e22e">@flag.setter</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">flag</span>(self, new_flag):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>pswd<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;777&#39;</span>:
            self<span style="color:#f92672">.</span>_flag <span style="color:#f92672">=</span> new_flag
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">pass</span>

user3 <span style="color:#f92672">=</span> User3(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;qiita&#39;</span>, flag<span style="color:#f92672">=</span>True, pswd<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;222&#39;</span>)
user3<span style="color:#f92672">.</span>flag <span style="color:#f92672">=</span> False
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;user3 flag:&#39;</span>, user3<span style="color:#f92672">.</span>flag) <span style="color:#75715e"># user3 flag: True -&gt; not rewritten</span>
</code></pre></div><p>In the above example, <code>pass</code> is used, but there are cases where an error is caused by using exception handling. In the case of the above example, it is necessary to consider the possibility of bugs caused by the intention of rewriting but not rewriting.</p>
<h1 id="special-method">Special method</h1>
<p>By defining a special method in the class, you can perform operations using operators etc. on the instance. There will be many if you look it up, but this time I would like to pick up some of them.</p>
<h2 id="arithmetic-operator">Arithmetic operator</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Add</span>:
    <span style="color:#66d9ef">def</span> __init__(self, value):
        self<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> value
    
    Special method called when using <span style="color:#75715e"># [+]</span>
    <span style="color:#66d9ef">def</span> __add__(self, other):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>value <span style="color:#f92672">+</span> other<span style="color:#f92672">.</span>value
    
    Special method called when using <span style="color:#75715e"># [-]</span>
    <span style="color:#66d9ef">def</span> __sub__(self, other):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>value <span style="color:#f92672">+</span> other<span style="color:#f92672">.</span>value <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>

x <span style="color:#f92672">=</span> Add(<span style="color:#ae81ff">10</span>)
<span style="color:#66d9ef">print</span>(type(x)) <span style="color:#75715e"># &lt;class&#39;__main__.Add&#39;&gt;</span>
<span style="color:#66d9ef">print</span>(x <span style="color:#f92672">+</span> Add(<span style="color:#ae81ff">5</span>)) <span style="color:#75715e">#15</span>
<span style="color:#66d9ef">print</span>(x<span style="color:#f92672">-</span>Add(<span style="color:#ae81ff">5</span>)) <span style="color:#75715e">#20</span>
</code></pre></div><p>The <code>__add__</code> method above is a special method that is called by using [+] after the instance.</p>
<p>Other examples (excerpt)</p>
<table>
<thead>
<tr>
<th>Arithmetic Operators</th>
<th>Methods</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>mul</td>
</tr>
<tr>
<td>/</td>
<td>truediv</td>
</tr>
<tr>
<td>&amp;</td>
<td>and</td>
</tr>
</tbody>
</table>
<h2 id="comparative-operators">Comparative operators</h2>
<p>The specifications are almost the same as the above arithmetic operators.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Equ</span>:
    <span style="color:#66d9ef">def</span> __init__(self, value):
        self<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> value
    
    Special method called when using <span style="color:#75715e"># [==]</span>
    <span style="color:#66d9ef">def</span> __eq__(self, other):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> other<span style="color:#f92672">.</span>value

<span style="color:#66d9ef">print</span>(Equ(str(<span style="color:#ae81ff">4</span>)) <span style="color:#f92672">==</span> Equ(str(<span style="color:#ae81ff">4</span>))) <span style="color:#75715e"># True</span>
</code></pre></div><p>Other examples (excerpt)</p>
<table>
<thead>
<tr>
<th>Comparison operator</th>
<th>Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>!=</td>
<td>ne</td>
</tr>
<tr>
<td>&lt;</td>
<td>lt</td>
</tr>
<tr>
<td>&gt;</td>
<td>gt</td>
</tr>
</tbody>
</table>
<h2 id="special-methods-that-define-type-conversions">Special methods that define type conversions</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Int</span>:
    <span style="color:#66d9ef">def</span> __init__(self, num):
        self<span style="color:#f92672">.</span>num <span style="color:#f92672">=</span> num

    <span style="color:#66d9ef">def</span> __int__(self):
        <span style="color:#66d9ef">return</span> int(self<span style="color:#f92672">.</span>num)

x <span style="color:#f92672">=</span> Int(<span style="color:#e6db74">&#39;1&#39;</span>)
<span style="color:#66d9ef">print</span>(type(x)) <span style="color:#75715e"># &lt;class&#39;__main__.Int&#39;&gt;</span>
<span style="color:#66d9ef">print</span>(type(int(x))) <span style="color:#75715e"># &lt;class&#39;int&#39;&gt;</span>
<span style="color:#66d9ef">print</span>(int(x)) <span style="color:#75715e"># 1</span>
</code></pre></div><p>The above is a special method called when using the built-in function <code>int</code>, and as the name implies, it converts the object itself into an int type. In addition, <code>int('100')==100 # True</code> which is often used in Python programming is a function that can be realized by calling the <code>__int__()</code> method defined in the default str object. ..</p>
<p>Other examples (excerpt)</p>
<table>
<thead>
<tr>
<th>Effect</th>
<th>Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>to</td>
<td>float type</td>
</tr>
<tr>
<td>To string type</td>
<td>str</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Dataset</span>:
    <span style="color:#66d9ef">def</span> __init__(self):
        self<span style="color:#f92672">.</span>imgs <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;img01&#39;</span>,<span style="color:#e6db74">&#39;img02&#39;</span>,<span style="color:#e6db74">&#39;img03&#39;</span>]
        
    <span style="color:#66d9ef">def</span> __getitem__(self, idx):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>imgs[idx]
    
    <span style="color:#66d9ef">def</span> __len__(self):
        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>imgs)
    
dataset <span style="color:#f92672">=</span> Dataset()
<span style="color:#66d9ef">print</span>(dataset[<span style="color:#ae81ff">0</span>]) <span style="color:#75715e"># img01</span>
<span style="color:#66d9ef">print</span>(len(dataset)) <span style="color:#75715e">#3</span>
</code></pre></div><p>The above writing is a pattern often used in PyTorch etc. A container type is an object that has multiple values, such as a list or dictionary. These are usually accessed by <code>[]</code> or by referring to the length by <code>len</code>, but the instance itself can be accessed in the same way.</p>
<p>#Class variables and instance variables
Python class can define variables that can be commonly used in the class even if it is not initialized by initialization. The former is called an instance variable and the latter is called a class variable. Class variables are shared when there are multiple instances created from the same class, so if you have a mutable value as a class variable, it will cause a bug.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sort</span>:
    num_list <span style="color:#f92672">=</span> []
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">num_sort</span>(self, nums):
        self<span style="color:#f92672">.</span>num_list <span style="color:#f92672">+=</span> sorted(nums)

        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>num_list
        
num_list1 <span style="color:#f92672">=</span> Sort()<span style="color:#f92672">.</span>num_sort([<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>])
<span style="color:#66d9ef">print</span>(num_list1) <span style="color:#75715e"># [2, 3, 5, 10]</span>

num_list2 <span style="color:#f92672">=</span> Sort()<span style="color:#f92672">.</span>num_sort([<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>])
<span style="color:#66d9ef">print</span>(num_list2) <span style="color:#75715e"># [2, 3, 5, 10, -2, -1, 0, 8]</span>
</code></pre></div><p>In the above example, the class variable of <code>num_list1</code> is also shared by <code>num_list2</code>, so it is strange. If you define it as an instance variable with <code>__init__</code>, it will be initialized every time you declare an instance, so this will not happen.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sort</span>:
    <span style="color:#66d9ef">def</span> __init__(self):
        self<span style="color:#f92672">.</span>num_list <span style="color:#f92672">=</span> []
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">num_sort</span>(self, nums):
        self<span style="color:#f92672">.</span>num_list <span style="color:#f92672">+=</span> sorted(nums)

        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>num_list
        
num_list1 <span style="color:#f92672">=</span> Sort()<span style="color:#f92672">.</span>num_sort([<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>])
<span style="color:#66d9ef">print</span>(num_list1) <span style="color:#75715e"># [2, 3, 5, 10]</span>

num_list2 <span style="color:#f92672">=</span> Sort()<span style="color:#f92672">.</span>num_sort([<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>])
<span style="color:#66d9ef">print</span>(num_list2) <span style="color:#75715e"># [-2, -1, 0, 8]</span>
</code></pre></div><p>#Built-in inheritance
Finally, I summarized the functions that I personally find useful. In Python, you can also inherit the built-in type and create your own original object. In the example below, a new object type is created by inheriting the dictionary type.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Dict2</span>(dict):
    <span style="color:#66d9ef">def</span> __init__(self, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
        super()<span style="color:#f92672">.</span>__init__(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
        self<span style="color:#f92672">.</span>__dict__ <span style="color:#f92672">=</span> self
        
dic <span style="color:#f92672">=</span> Dict2(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, j<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, k<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
<span style="color:#66d9ef">print</span>(dic<span style="color:#f92672">.</span>i, dic<span style="color:#f92672">.</span>j, dic<span style="color:#f92672">.</span>k)
</code></pre></div><p>In the above example, unlike the normal dictionary type, you can refer to the value with <code>.</code>. It may be natural for those who are used to other programming languages. With the normal Python dictionary, you have to access <code>dic['i']</code> every time.</p>
<h1 id="duck-typing">duck typing</h1>
<p>The same method can be used even if the class is different, and the same operation can be switched and used with different objects. This is called duck typing.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">animal_cry</span>(animal):
    animal<span style="color:#f92672">.</span>cry()

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Duck</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cry</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;ga-ga-&#39;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Turkey</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cry</span>(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;bo-bo-&#39;</span>)

duck <span style="color:#f92672">=</span> Duck()
turkey <span style="color:#f92672">=</span> Turkey()

<span style="color:#66d9ef">for</span> ani <span style="color:#f92672">in</span> [duck, turkey]:
    animal_cry(ani)

<span style="color:#75715e"># ga-ga-</span>
<span style="color:#75715e"># bo-bo-</span>
</code></pre></div><p>In the above example, the same <code>cry</code> method is applied to the instances generated from different classes duck and bird. It can be possible to write more object-oriented, concise code if you take advantage of this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Bird</span>:
    <span style="color:#66d9ef">def</span> __init__(self, voice):
        self<span style="color:#f92672">.</span>voice <span style="color:#f92672">=</span> voice
        <span style="color:#66d9ef">if</span> type(voice) <span style="color:#f92672">!=</span> str:
            <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">AttributeError</span>(<span style="color:#e6db74">&#39;The argument voice must be str type.&#39;</span>)
        
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cry</span>(self):
        <span style="color:#66d9ef">print</span>(self<span style="color:#f92672">.</span>voice)
        

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Duck</span>(Bird):
    <span style="color:#66d9ef">def</span> __init__(self, voice<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ga-ga-&#39;</span>):
        super()<span style="color:#f92672">.</span>__init__(voice)

        
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Turkey</span>(Bird):
    <span style="color:#66d9ef">def</span> __init__(self, voice<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bo-bo-&#39;</span>):
        super()<span style="color:#f92672">.</span>__init__(voice)
        
        
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DuckCry</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bird_cry</span>(self, bird):
        <span style="color:#66d9ef">if</span> bird<span style="color:#f92672">.</span>voice <span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;ga-ga-&#39;</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;It&#39;s don&#39;t duck.&#34;</span>)
        <span style="color:#66d9ef">else</span>:
            bird<span style="color:#f92672">.</span>cry()
            
            
duck <span style="color:#f92672">=</span> Duck()
turkey <span style="color:#f92672">=</span> Turkey()
duck_cry <span style="color:#f92672">=</span> DuckCry()<span style="color:#f92672">.</span>bird_cry(duck) <span style="color:#75715e"># ga-ga-</span>
duck_cry <span style="color:#f92672">=</span> DuckCry()<span style="color:#f92672">.</span>bird_cry(turkey) <span style="color:#75715e"># It&#39;s don&#39;t duck.</span>
</code></pre></div><p>Although it is a concise code, I can not express the convenience because the example is not good, but I inherit a single class, create various classes, and create a class that executes common methods for each. Here is an example.</p>
<h1 id="finally">Finally</h1>
<p>▽ Regarding the number of articles by Advent Calender 2019 by language, it seems that Go 3 is completely filled up compared to Python 3 which is not yet filled up. (As of 12/7)
I feel that Python is more populatively populated, but are Python users using other platforms to transmit information than Qiita? (I&rsquo;m sure there are many blogs in the machine learning area, such as Hatena.) I will pray that Python will continue to rise, and turn the baton to the next person.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
