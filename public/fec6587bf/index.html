<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] [Statistics for programmers] There is more than one way to calculate the average value | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] [Statistics for programmers] There is more than one way to calculate the average value</h1>
<p>
  <small class="text-secondary">
  
  
  Aug 22, 2017
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/machine-learning"> machine learning</a></code></small>


<small><code><a href="https://memotut.com/tags/deeplearning"> DeepLearning</a></code></small>


<small><code><a href="https://memotut.com/tags/mathematics"> mathematics</a></code></small>


<small><code><a href="https://memotut.com/tags/statistics"> statistics</a></code></small>

</p>
<pre><code>## table of contents
</code></pre>
<p><a href="http://qiita.com/Esfahan/items/bd9e52837bbaeb168b9f">Statistics for Programmers-Table of Contents</a></p>
<h2 id="related-article">Related article</h2>
<ul>
<li><a href="http://qiita.com/Esfahan/items/5ca15a334d22007e10ef">Average, Median, Mode</a></li>
</ul>
<h2 id="overview">Overview</h2>
<p>When calculating the average value, I generally think of adding all the values and dividing by the number of elements.
However, there are several other average values, such as weighted average and geometric average, which can be used depending on the application.
The commonly known method of dividing the total by the number of elements is called the arithmetic mean.</p>
<ul>
<li>Average value type
-Arithmetic mean
<ul>
<li>weighted average
-Geometric mean (geometric mean)
-Harmonic mean</li>
</ul>
</li>
</ul>
<p>Below, we will explain all the calculation methods.</p>
<h2 id="arithmetic-mean">Arithmetic mean</h2>
<p>It is the well-known value, which is obtained by adding all the values and dividing by the number of data.</p>
<pre><code class="language-math" data-lang="math">\bar{x}=\frac{x_1+x_2+x_3+...+x_n}{n}
</code></pre><p>To obtain the average value from the frequency distribution table, use the class value (representative value) and the frequency.
If you define each value as follows,</p>
<ul>
<li>number of <code>k</code> classes</li>
<li><code>m</code> class value</li>
<li><code>f</code> frequency</li>
</ul>
<p>You can use the formula below to calculate the average value of the frequency distribution table.</p>
<pre><code class="language-math" data-lang="math">\frac{\sum_{i=1}^{k}m_if_i}{\sum_{i=1}^{k}f_i} = \frac{m_1f_1 + m_2f_2 + ・・・ + m_kf_k}{f_1 + f_2 + ・・..F_k}
</code></pre><h2 id="weighted-average">weighted average</h2>
<p>This is a method of calculating the average value by adding the weighting of data.
For example, when calculating the average from two averages of 100 data and 10 of data, even if you simply use the arithmetic average, it will not be the correct average.
In such cases, it is necessary to consider the number of data and calculate the average value.</p>
<p>If you define as follows,</p>
<ul>
<li><code>x</code> data</li>
<li><code>w</code> data weight</li>
</ul>
<p>It can be calculated by the following formula.</p>
<pre><code class="language-math" data-lang="math">\frac{\sum_{i=1}^{n} x_iw_i}{\sum_{i=1}^{n} w_i} = \frac{x_1w_1 + x_2w_2 + ・・・ + x_nw_n}{w_1 + w_2 + ・・・ + w_n}
</code></pre><h3 id="example">Example</h3>
<p>As a result of a certain test, the average score of group A is 60 points, the average score of group B is 50 points,
If the number of people in group A is 20 and the number of people in group B is 40, the average value of group A and group B together can be calculated as follows.</p>
<pre><code class="language-math" data-lang="math">53.3 \simeq \frac{60\times20 + 50\times40}{20 + 40}
</code></pre><p>Therefore, the average score of group A and group B is 53.3 points (rounded down to two decimal places).</p>
<h2 id="geometric-mean-geometric-mean">Geometric mean (geometric mean)</h2>
<p>The geometric mean is the average of products multiplied.
It is used to calculate the average of growth rate and interest rate.
Also, the geometric mean can handle only positive numbers.</p>
<p>If you define as follows,</p>
<ul>
<li><code>a</code> data</li>
<li><code>n</code> number of data</li>
</ul>
<p>The geometric mean can be calculated by the following formula.</p>
<pre><code class="language-math" data-lang="math">m_g = \sqrt[n]{a_1a_2a_3...a_n}
</code></pre><h3 id="example-1">Example</h3>
<p>Suppose a company&rsquo;s sales have risen by 3% in the first year, 5% in the second year, and 10% in the third year. At that time, let&rsquo;s calculate the average annual sales growth rate of this company.</p>
<table>
<thead>
<tr>
<th align="right">Year</th>
<th align="right">Sales as a percentage of previous year</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">2013</td>
<td align="right">-</td>
</tr>
<tr>
<td align="right">2014</td>
<td align="right">3%</td>
</tr>
<tr>
<td align="right">2015</td>
<td align="right">5%</td>
</tr>
<tr>
<td align="right">2016</td>
<td align="right">10%</td>
</tr>
</tbody>
</table>
<p>The 2014 ratio of 3% to the previous year means that sales were 103% compared to the previous year. Since it will be 105% in 2015 and 110% in 2016, the following will hold.</p>
<ul>
<li><code>a</code> data (1.03, 1.05, 1.1)</li>
<li>number of <code>n</code> data (3)</li>
</ul>
<p>Apply the two to the formula above.</p>
<pre><code class="language-math" data-lang="math">1.06 \simeq \sqrt[3]{1.03\times1.05\times1.1}
</code></pre><p>When this is calculated, it becomes <code>1.059594599927647...</code>, so the solution is <code>about 1.06</code>,
In other words, the average annual sales growth rate is about 6%.</p>
<h2 id="harmonic-mean">Harmonic mean</h2>
<p>This is used when finding the average speed over the forward and return paths.</p>
<p>The formula for the harmonic mean is</p>
<pre><code class="language-math" data-lang="math">m_H = \frac{1}{\frac{1}{n}(\frac{1}{x_1} + \frac{1}{x_2} + \frac{1}{x_3} + ・・・ + \frac {1}{x_n})} = \frac{n}{(\frac{1}{x_1} + \frac{1}{x_2} + \frac{1}{x_3} + ・・・ + \frac{ 1}{x_n})}
</code></pre><h3 id="example-2">Example</h3>
<p>Suppose you make a round trip with a distance of 10 km under the following conditions.</p>
<table>
<thead>
<tr>
<th>Round trip</th>
<th align="right">Speed</th>
<th align="right">Hour</th>
</tr>
</thead>
<tbody>
<tr>
<td>Outbound</td>
<td align="right">40km</td>
<td align="right">15 minutes</td>
</tr>
<tr>
<td>Return route</td>
<td align="right">4km</td>
<td align="right">150 minutes</td>
</tr>
</tbody>
</table>
<h4 id="solve-without-using-the-formula">Solve without using the formula</h4>
<p>You can solve this problem without using the formula.</p>
<p>This is the same as traveling 20 km in 165 minutes.
That is, where <code>x</code> is the speed, the following is true.</p>
<pre><code class="language-math" data-lang="math">x \times \frac{165}{60} = 20
</code></pre><p>Solving this gives <code>x</code> approximately 7.3km/h.</p>
<h3 id="solve-using-the-formula">Solve using the formula</h3>
<p>This time I will try to solve it using the formula.</p>
<p>If you define as follows,</p>
<ul>
<li><code>x</code> data (moving speed)</li>
<li><code>n</code> number of data</li>
</ul>
<p>The harmonic mean can be calculated by the following formula.</p>
<pre><code class="language-math" data-lang="math">x = \frac{2}{\frac{1}{40} + \frac{1}{4}}
</code></pre><p>Solving this gives <code>x</code> about 7.3km/h, which is the same as the solution solved without the formula.
If you use the formula, you can get the average speed without knowing the distance traveled.</p>
<p>that&rsquo;s all</p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="http://www.stat.go.jp/koukou/howto/math/index.htm">I see Statistics High School</a></li>
<li><a href="https://www.ries.co.jp/project/topic_point_of_view.html">Type of average value and method of proper use</a></li>
<li><a href="http://mathtrain.jp/hmean">Important official summary of harmonic mean</a></li>
</ul>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
