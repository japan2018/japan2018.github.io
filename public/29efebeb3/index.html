<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] About package management with conda and pip | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] About package management with conda and pip</h1>
<p>
  <small class="text-secondary">
  
  
  Nov 26, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/pip">pip</a></code></small>


<small><code><a href="https://memotut.com/tags/anaconda">Anaconda</a></code></small>

</p>
<pre><code>[Anaconda](https://www.anaconda.com/) is, in a word, a library of scientific computations etc. attached from the beginning in addition to Python itself. In addition, it has been devised to simplify package management and deployment, and comes with a package management command called conda.
</code></pre>
<h2 id="about-conda-and-pip">About conda and pip</h2>
<p>The Python world has been around for quite some time with its own package management tools, which used to be EasyInstall, and later to use <a href="https://pypi.org/">pip</a>. Had to set up. It was troublesome. It&rsquo;s a great time to have pip by default in modern Python. With this command, you can install the package published on the site PyPI via the command line via the Internet. It is the best age.</p>
<p>By the way, a common story is that when conda and pip are used together, they are &ldquo;broken&rdquo;. I&rsquo;m not sure what claims to break it, but the situation where I put it in the same package with conda or pip is abnormal in the first place. Perhaps it&rsquo;s not your package management system that&rsquo;s broken, but rather your head trying to do incoherent things.</p>
<p>Don&rsquo;t get me wrong, in Anaconda you type the basic conda command to put in the package, but you can also use pip. The former conda is included from Anaconda&rsquo;s repository. The latter pip comes from PyPI. Of course, the latter has more packages. Also, since PyPI does not have a screening process, anyone can be a package creator. The extreme situation is that even if we write strange source code and publish it on PyPI, no one is checking it. Nobody says anything about packaging source code that you only use for your own projects and putting it in PyPI.</p>
<p>On the other hand, Anaconda&rsquo;s repository is managed by the company, so I think I&rsquo;m checking it for some reason, but I&rsquo;m not the inside person, so I&rsquo;m not going to guarantee &ldquo;I&rsquo;m checking it!&rdquo;</p>
<p>There is also a conda-forge repository operated by the community, and you can also use conda from here. But at the time of using it, it&rsquo;s probably a product of the community.</p>
<p>To put it bluntly, the dependencies between packages are dependent on the author&rsquo;s convenience, so no one is looking at the Python world as a whole and rigorously examining those relationships. It depends on you.</p>
<p>This kind of discussion isn&rsquo;t limited to Python, but it&rsquo;s been discussed in the package management system of Ruby for a long time, and in the end everyone makes their own packages. Open source is like that. I think that the atmosphere is good if the user verifies it.</p>
<p>I personally think that it is the Debian stable version that thoroughly verifies the dependencies between packages and maintains the quality.</p>
<h2 id="displaying-dependency-information-with-pip">Displaying dependency information with pip</h2>
<p>As the package maintainers and authors know, when registering with PyPI, various meta information is written in the package distribution file.</p>
<p>So, how to check the dependency information can be displayed with the following command.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pip install pipdeptree <span style="color:#75715e"># put with pip</span>
pipdeptree -p &lt;package name&gt;
</code></pre></div><p>For example, here are some examples of pandas packages for each version.</p>
<pre><code>pandas==0.16.2
  -numpy [required: &gt;=1.7.0, installed: 1.11.2]
  -python-dateutil [required: &gt;=2, installed: 2.6.0]
    -six [required: &gt;=1.5, installed: 1.10.0]
  -pytz [required: &gt;=2011k, installed: 2016.7]

pandas==0.22.0
  -numpy [required: &gt;=1.9.0, installed: 1.13.3]
  -python-dateutil [required: &gt;=2, installed: 2.6.1]
  -six [required: &gt;=1.5, installed: 1.11.0]
  -pytz [required: &gt;=2011k, installed: 2017.2]
</code></pre><p>This will tell you which packages depend on which version of which package.</p>
<h2 id="show-duplicate-packages-in-both-conda-and-pip">Show duplicate packages in both conda and pip</h2>
<p>A common accident is that I manage it with conda, but I accidentally insert it with pip. So duplicate packages can be displayed with the following one-liner.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">conda list | cut -d<span style="color:#e6db74">&#39;&#39;</span> -f <span style="color:#ae81ff">1</span> | sort | uniq -d
</code></pre></div><p>It&rsquo;s a good idea to check once in a while to make sure there are no duplicates.</p>
<h2 id="summary">Summary</h2>
<p>So it became longer, but in summary</p>
<ul>
<li>Anaconda package management comes with conda and pip commands.
・Basically, refer to Anaconda&rsquo;s repository using conda.
・Pip the ones not in conda.
・Check occasionally that there is no overlap, and if there is overlap, give priority to conda.</li>
</ul>
<p>It is recommended that you build a target environment by referring to these.</p>
<p>I think it looks like this. We disagree, so please give us your feedback. It&rsquo;s miscellaneous, but that&rsquo;s it.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
