<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Knowledge notes needed to understand the Python framework | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Knowledge notes needed to understand the Python framework</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 4, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>

</p>
<pre><code># I will read the Python book and note what I learned
</code></pre>
<p>I am studying Python. Please refer to the following blog article for the books you read.</p>
<p><a href="https://karaage.hatenadiary.jp/entry/2020/01/04/154338">Notes to Qiita about the 10 recommended books for learning 2020 Python and what I learned</a></p>
<p>In terms of content, this article mainly notes the knowledge necessary to understand frameworks written in Python (specifically, deep learning frameworks such as TensorFlow and PyTorch).</p>
<p>The following is a prerequisite.</p>
<ul>
<li>I am an eternal beginner. Please be kind</li>
<li>Python basics are intended for readers who understand</li>
<li>The <code>#</code> line after the <code>print</code> means the output result</li>
<li>Comments and edit requests are welcome</li>
</ul>
<p>For a while, we plan to add and modify it as needed.</p>
<p>#Overall story</p>
<h2 id="python-is-all-objects">Python is all objects</h2>
<p>All Python seems to be objects. I&rsquo;m doing object orientation in the atmosphere, so I don&rsquo;t really understand the meaning.</p>
<p>Even a class seems to be an object, but I&rsquo;m not sure what that means. I&rsquo;m not sure if I read the following.</p>
<p><a href="https://postd.cc/pythons-objects-and-classes-a-visual-guide/">Visual Guide to Python Objects and Classes â€“ Everything is an Object</a></p>
<p>For the time being, I can read and write programs even if I can not understand it, but if I keep this in mind, I feel like I will be enlightened someday, so I will write it first.</p>
<h2 id="it-is-important-to-read-the-official-document">It is important to read the official document</h2>
<p>It seems obvious, but I think that many people haven&rsquo;t read the official document (I&rsquo;m sorry, I didn&rsquo;t read much either).</p>
<p>I have read some Python books and noticed, but the books are also quite wrong, and there are some omitted parts to make it easier for beginners to understand, so it is important to read the documentation .. There is also Japanese.</p>
<p><a href="https://docs.python.org/ja/3/">Python 3.8.1 documentation</a></p>
<p>I think it&rsquo;s tough to read everything from corner to corner, but it&rsquo;s a good idea to take a quick look at PEP8, which has coding rules.</p>
<p><a href="https://www.python.org/dev/peps/pep-0008/">PEP 8-Style Guide for Python Code</a></p>
<p>#Class relationship</p>
<h2 id="regarding-the-special-method-__hoge__">Regarding the special method <code>__hoge__</code></h2>
<p>What do you often call <code>__hoge__</code>, what is it? If you read the following article, that person will be happy.</p>
<p><a href="https://qiita.com/kazetof/items/751be29f208836cf9bf4">I want to use <code>__hoge__</code> even for beginners of Python! ~How to use special attributes and special methods~</a></p>
<h2 id="using-instance-like-function-with-__call__-method">Using instance like function with <code>__call__</code> method</h2>
<p>You can write as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Function</span>:
    <span style="color:#66d9ef">def</span> __call__(self, x):
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>x

f <span style="color:#f92672">=</span> Function()
<span style="color:#66d9ef">print</span>(f(<span style="color:#ae81ff">2</span>))
<span style="color:#75715e"># Four</span>
</code></pre></div><p>that? Is this a function? In the method? If you think so, you may want to check <code>__call__</code>.</p>
<p>It is an image that is quite used in the framework of deep learning.</p>
<h1 id="data-structure">data structure</h1>
<h2 id="list-tuple-dictionary-set">List, tuple, dictionary, set</h2>
<p>The following four are used when handling multiple data in Python.</p>
<ul>
<li>List: <code>[ ]</code></li>
<li>Tuple: <code>( )</code></li>
<li>Set: <code>{ }</code> or <code>set()</code></li>
<li>Dictionary: <code>{ }</code></li>
</ul>
<p>When writing a simple program by yourself, it is enough to use a list, but in the framework of deep learning, naturally other than the list is often used. Specifically, dictionaries are used for correspondence between teacher data labels and files.</p>
<p>When reading the code or using it yourself, it is necessary to understand how these differ. Also, as I will explain later, please be careful because the actual tuple is not a parenthesis but a comma.</p>
<p>Reference: <a href="https://qiita.com/taro-ari/items/9f54536fe3c623813db1">[Python] list, tuple, dictionary, difference of set</a></p>
<h2 id="a-tuple-is-created-by-a-comma-parentheses-can-be-omitted-but-commas-cannot-be-omitted">A tuple is created by a comma (parentheses can be omitted, but commas cannot be omitted)</h2>
<p>A tuple with one element must be written as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">tuple <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>,)
<span style="color:#66d9ef">print</span>(tuple)
<span style="color:#75715e"># (1,)</span>
</code></pre></div><p>On the contrary, tuples are OK only with commas as shown below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">tuple <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,
<span style="color:#66d9ef">print</span>(tuple)
<span style="color:#75715e"># (1,)</span>
</code></pre></div><p>In the introductory book, the list is often written as <code>[]</code> and the tuples are written as <code>()</code>, so actually, the tuples created were commas (<code>,</code>), which was a simple shock. ..</p>
<p>In addition, Python has a technique called unpack assignment that expands and assigns elements to multiple variables (<code>a, b = b, a</code> in the code below), but this is actually internal to Python. It is treated as a tuple.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
a, b <span style="color:#f92672">=</span> b, a
<span style="color:#66d9ef">print</span>(a,b)
<span style="color:#75715e"># twenty one</span>
</code></pre></div><p>I was surprised because I was using this without any awareness.</p>
<p>Reference: <a href="https://note.nkmk.me/python-tuple-single-empty/">A tuple with one element in Python requires a comma at the end</a></p>
<h2 id="comprehensive-notation">Comprehensive notation:</h2>
<p>Regarding lists, the following notation called comprehension can be used.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">test <span style="color:#f92672">=</span> [i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>)]
<span style="color:#66d9ef">print</span>(test)
<span style="color:#75715e"># [0, 1, 2, 3, 4]</span>
</code></pre></div><p>Inclusive notation can also be used for sets.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">test <span style="color:#f92672">=</span> {i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>)}
<span style="color:#66d9ef">print</span>(test)
<span style="color:#75715e"># {0, 1, 2, 3, 4}</span>
</code></pre></div><p>If you use <code>if</code>, you can take out only the one that meets the conditions, so it is easy to use.</p>
<h2 id="iterator-generator">Iterator generator</h2>
<p>Looking at the specifications only, it feels like &ldquo;what do you want to use this for?&rdquo;, but with the framework of deep learning, it plays an important role as a data set (collection of teacher data). ImageDataGenerator for TensorFlow (Keras) and DataLoader for PyTorch.</p>
<p>Deep learning advances learning by dividing it into batches (lumps of small data), so this is the mechanism of the iterator. So, if you use the Data Loader without understanding the iterator mechanism, you will not understand well, so it is good to understand the basics.</p>
<p>I thought it easy to understand the following from the Qiita article.</p>
<p><a href="https://qiita.com/tomotaka_ito/items/35f3eb108f587022fa09">Python iterator and generator</a></p>
<h1 id="regarding-the-test">Regarding the test</h1>
<p>If there is a problem, it may be possible to efficiently isolate the problem if you can utilize the test program, so I think it is good to know.</p>
<p><a href="https://docs.python.org/ja/3/library/unittest.html">unittest &mdash; Unit test framework official document</a>
<a href="https://qiita.com/aomidro/items/3e3449fde924893f18ca">Notes on how to use Python standard unittest</a>
<a href="https://qiita.com/jesus_isao/items/f93c11248192645eb25d">I was addicted to the unit test of Python and what I wanted to know earlier</a></p>
<p>#Other
It is not very related to the framework, but it is useful TIPS when reading and writing Python if you know it.</p>
<h2 id="index-loops-using-enumerate">Index loops using enumerate</h2>
<p>If you need an index for the number of loops, you can simply write as follows using enumerate.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">test <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;e&#39;</span>]

<span style="color:#66d9ef">for</span> i, x <span style="color:#f92672">in</span> enumerate(test):
    <span style="color:#66d9ef">print</span>(i, x)

<span style="color:#75715e">#0 a</span>
<span style="color:#75715e">#1 b</span>
<span style="color:#75715e">#2 c</span>
<span style="color:#75715e">#3d</span>
<span style="color:#75715e">#4 e</span>
</code></pre></div><p>It&rsquo;s not a big deal, but it&rsquo;s often used, so knowing it is useful when reading and writing code.</p>
<h2 id="modf-gets-the-integer-and-fractional-parts-of-a-number-at-the-same-time">modf gets the integer and fractional parts of a number at the same time</h2>
<p>It is convenient to know that it is a bit tedious to try to obtain an accurate value.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> math

<span style="color:#66d9ef">print</span>(math<span style="color:#f92672">.</span>modf(<span style="color:#ae81ff">1.5</span>))
<span style="color:#75715e"># (0.5, 1.0)</span>
<span style="color:#66d9ef">print</span>(type(math<span style="color:#f92672">.</span>modf(<span style="color:#ae81ff">1.5</span>)))
<span style="color:#75715e"># &lt;class&#39;tuple&#39;&gt;</span>
</code></pre></div><p>Reference: <a href="https://note.nkmk.me/python-math-modf/">Get the integer part and the decimal part of a number at the same time with Python, math.modf</a></p>
<h2 id="meaning-of-asterisk--in-python">Meaning of asterisk <code>*</code> in Python</h2>
<p>Asterisk is a pointer in C and C++, so I have a bad memory, but Python is completely different, so I&rsquo;m relieved (?). It seems good to look at the following summary (I think it may be a feeling to investigate when in trouble).</p>
<p><a href="https://qiita.com/LouiS0616/items/1bbe0a9bb93054f6c380">Python 3.x reverse asterisk lookup</a></p>
<h2 id="you-can-calculate-the-matrix-product-with-">You can calculate the matrix product with <code>@</code></h2>
<p>The matrix product can be calculated with <code>@</code>. Please note that it cannot be used unless it is Python3.5, NumPy1.10.0 or later.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np

x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>])
y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">1</span>],[<span style="color:#ae81ff">2</span>])
x <span style="color:#960050;background-color:#1e0010">@</span> y
<span style="color:#75715e"># array([5])</span>
</code></pre></div><p>You can get the same result with <code>np.matmul(x,y)</code>. There is also <code>np.dot(x,y)</code>, but the result seems to change when it is an array of 3 dimensions or more (in the case of 2 dimensions, the same result as matmul,<code>@</code>) ..</p>
<p>Matrix multiplication is often used in machine learning systems, so I think you may see it.</p>
<p>#Summary
I briefly summarized what I learned in Python from the viewpoint of knowledge to deepen understanding of the framework. I&rsquo;m thinking of taking notes so that I don&rsquo;t forget about other themes.</p>
<p>If you want to know more about Python, please refer to the following articles. Also, if you have a better book, please let us know in the comments or on Twitter.</p>
<p><a href="https://karaage.hatenadiary.jp/entry/2020/01/04/154338">Notes to Qiita about the 10 recommended books for learning 2020 Python and what I learned</a></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
