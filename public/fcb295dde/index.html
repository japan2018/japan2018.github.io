<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] python/tensorflow beginner builds jupyter&#43;tensorflow environment and does Hello World | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] python/tensorflow beginner builds jupyter+tensorflow environment and does Hello World</h1>
<p>
  <small class="text-secondary">
  
  
  Sep 10, 2016
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/jupyter">Jupyter</a></code></small>


<small><code><a href="https://memotut.com/tags/tensorflow">TensorFlow</a></code></small>

</p>
<pre><code>## Overview
</code></pre>
<p><a href="http://amzn.to/2bZb6PF">Amazon.co.jp: TensorFlow started, practice! Latest Google Machine Learning (Next Publishing) E-book: Keiji Ariyama: Kindle Store</a></p>
<p>It seems to be difficult for beginners if you are operating vim etc. when doing, so it is a procedure memo that makes it easy to operate on the note called jupyter.
(* Even though it is said, the terminal operation starts in the middle!)</p>
<p><strong>jupyter image image</strong></p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/31824/85b31a53-ac2e-73a5-d7c3-790f1884afe1.png%222016-09-10_14_58_35.png%22" alt="2016-09-10_14_58_35.png"></p>
<p><a href="http://enakai00.hatenablog.com/entry/2016/03/28/131157">Docker image that TensorFlow can be used with Jupyter-Memo Memo</a></p>
<p>The method using docker is the quickest way, but my usual macbook air is various and I use docker for mac, so I installed it normally &hellip;</p>
<p>The following is a simple flow</p>
<ul>
<li>install python using pyenv</li>
<li>Install jupyter (Environment where you can run and check tensorflow on the browser)</li>
<li>Install tensorflow</li>
<li>Tensorfow Hello World on a simple jupyter environment!!</li>
</ul>
<p>There is a procedure to do up to pyenv-virtualenv that makes pyenv convenient, but I will omit it because there is no way to ask for it</p>
<h2 id="prerequisitesknowledge">Prerequisites/knowledge</h2>
<ul>
<li>mac + git installed</li>
<li>Terminal environment can be operated a little</li>
</ul>
<h2 id="preparing-the-python-environment">Preparing the python environment</h2>
<p>Install pyenv of env type instead of using system python common to all users
(Recently, it is common to use ruby and node to separate environments using env system.)</p>
<p>This allows you to create different versions of the python environment for running Tensorflow without affecting anything else.</p>
<h3 id="install-pyenv-using-anyenv">install pyenv using anyenv</h3>
<p>Since I always use multiple env systems, I have installed anyenv that can manage them all at once, and installed pyenv from that (this is my preference. Direct pyenv can be used without any problem). The reason for doing this is that zshrc (or bashrc) becomes dirty with a lot of env settings&hellip;</p>
<h4 id="anyenv-installation">anyenv installation</h4>
<p>Enter the following command to clone the repository</p>
<pre><code>git clone https://github.com/riywo/anyenv ~/.anyenv
</code></pre><p>After that, add the following settings to bashrc etc. according to your environment so that anyenv is read when the shell starts.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-.bashrc" data-lang=".bashrc"><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span>-d $HOME/.anyenv <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
    export PATH<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$HOME<span style="color:#e6db74">/.anyenv/bin:</span>$PATH<span style="color:#e6db74">&#34;</span>
    eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>anyenv init -<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</code></pre></div><p>In my dotfiles I have set up like this
<a href="https://github.com/kegamin/prezto/blob/master/runcoms/zshrc#L141-L143">https://github.com/kegamin/prezto/blob/master/runcoms/zshrc#L141-L143</a></p>
<p>After entering the settings, you can use <code>anyenv</code> by restarting and reloading the shell with <code>exec $SHELL -l</code> etc. After that, execute <code>anyenv version</code> and it is OK if you can execute it with the following feeling</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">❯ anyenv version
ndenv: v5.6.0 <span style="color:#f92672">(</span>set by /Users/user/.anyenv/envs/ndenv/version<span style="color:#f92672">)</span>
plenv: system <span style="color:#f92672">(</span>set by /Users/user/.anyenv/envs/plenv/version<span style="color:#f92672">)</span>
pyenv: 3.5.1 <span style="color:#f92672">(</span>set by /Users/user/.anyenv/envs/pyenv/version<span style="color:#f92672">)</span>
rbenv: 2.3.0 <span style="color:#f92672">(</span>set by /Users/user/.anyenv/envs/rbenv/version<span style="color:#f92672">)</span>
</code></pre></div><h4 id="install-pyenv">Install pyenv</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># install pyenv</span>
 ❯ anyenv install pyenv

<span style="color:#75715e"># List of installable python versions</span>
 ❯ pyenv install -l
Available versions:
<span style="color:#f92672">(</span>Omitted<span style="color:#f92672">)</span>
  3.5.0
  3.5-dev
  3.5.1 <span style="color:#75715e">#-&gt; put this this time</span>
  3.6.0a1
  3.6-dev
<span style="color:#f92672">(</span>Omitted<span style="color:#f92672">)</span>
 ❯ pyenv install 3.5.1
 <span style="color:#75715e"># Make installed python standard</span>
 ❯ pyenv global 3.5.1
 <span style="color:#75715e">#Verify version (the one marked with * is the currently used python version)</span>
 ❯ pyenv versions
  system
* 3.5.1 <span style="color:#f92672">(</span>set by /Users/user/.anyenv/envs/pyenv/version<span style="color:#f92672">)</span>
</code></pre></div><h3 id="install-jupyter">Install jupyter</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> <span style="color:#75715e"># install</span>
 ❯ pip install jupyter matplotlib
<span style="color:#75715e"># Start-up</span>
 ❯ jupyter notebook
<span style="color:#f92672">[</span>I 13:47:54.142 NotebookApp<span style="color:#f92672">]</span> Serving notebooks from local directory: /Users/user/Dropbox/notebook
<span style="color:#f92672">[</span>I 13:47:54.142 NotebookApp<span style="color:#f92672">]</span> <span style="color:#ae81ff">0</span> active kernels
<span style="color:#f92672">[</span>I 13:47:54.142 NotebookApp<span style="color:#f92672">]</span> The Jupyter Notebook is running at: http://localhost:8888/
<span style="color:#f92672">[</span>I 13:47:54.142 NotebookApp<span style="color:#f92672">]</span> Use Control-C to stop this server and shut down all kernels <span style="color:#f92672">(</span>twice to skip confirmation<span style="color:#f92672">)</span>.
</code></pre></div><h3 id="install-tensorflow">Install tensorflow</h3>
<p>From <a href="https://www.tensorflow.org/versions/r0.10/get_started/os_setup.html">Download and Setup</a>, check the URL of the latest version of tensorflow and install it.</p>
<p>Regarding the Mac version, there are the following two types, but if you do not understand well, it is better to choose CPU only (If you have a GPU loaded with GPU, choose GPU enabled, it will process faster with GPU. However, I will omit this time, but more will be installed.)</p>
<blockquote>
<p>Mac OS X, CPU only, Python 3.4 or 3.5:
Mac OS X, GPU enabled, Python 3.4 or 3.5:</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 2016/09/10 0.10 is the latest Ver</span>
$ pip install -U https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.10.0-py3-none-any.whl
</code></pre></div><h2 id="start-and-play">Start and play</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Create a directory to save the created tensorflow data (any place)</span>
 ❯ mkdir tensorflow
 ❯ ls
 tensorflow
<span style="color:#75715e"># Start jupyter by specifying the created directory</span>
 ❯ jupyter notebook tensorflow
<span style="color:#f92672">[</span>I 14:38:42.255 NotebookApp<span style="color:#f92672">]</span> Serving notebooks from local directory: /Volumes/usb128/jupyter/tensorflow
<span style="color:#f92672">[</span>I 14:38:42.255 NotebookApp<span style="color:#f92672">]</span> <span style="color:#ae81ff">0</span> active kernels
<span style="color:#f92672">[</span>I 14:38:42.255 NotebookApp<span style="color:#f92672">]</span> The Jupyter Notebook is running at: http://localhost:8888/
<span style="color:#f92672">[</span>I 14:38:42.255 NotebookApp<span style="color:#f92672">]</span> Use Control-C to stop this server and shut down all kernels <span style="color:#f92672">(</span>twice to skip confirmation<span style="color:#f92672">)</span>.
</code></pre></div><p>After executing <code>jupyter notebook</code>, start up <code>http://localhost:8080</code> in the browser, and you will see the following screen.</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/31824/2732f853-b894-eadc-8d1c-c0bb75709716.png%222016-09-1014.40.58.png%22" alt=" 2016-09-10 14.40.58.png"></p>
<p>**I did it! **</p>
<h3 id="create-a-note-that-can-execute-python3">Create a note that can execute python3</h3>
<p>Now we will actually run tensorflow. As shown in the image below, press New on the right and select <code>python 3</code> in it.</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/31824/710d7003-1ad7-99b1-a771-03f6f06e5cab.png%222016-09-10_14_42_43.png%22" alt="2016-09-10_14_42_43.png"></p>
<p>Then the input screen will appear as below, so let&rsquo;s enter the source code.</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/31824/20926913-49ff-8d21-27a1-d9c61e81c43c.png%222016-09-1015.06.26.png%22" alt=" 2016-09-10 15.06.26.png"></p>
<p>The following source code is entered, but if you press <code>SHIFT + Enter</code> on the source code after entering it, the execution result will be output immediately below (it may take some time).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> tensorflow <span style="color:#f92672">as</span> tf

hello <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant(<span style="color:#e6db74">&#39;Hello, TensorFlow!&#39;</span>)
sess <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>Session()
<span style="color:#66d9ef">print</span>(sess<span style="color:#f92672">.</span>run(hello))
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> tensorflow <span style="color:#f92672">as</span> tf

a <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant(<span style="color:#ae81ff">10</span>)
b <span style="color:#f92672">=</span> tf<span style="color:#f92672">.</span>constant(<span style="color:#ae81ff">20</span>)
<span style="color:#66d9ef">print</span>(sess<span style="color:#f92672">.</span>run(a <span style="color:#f92672">+</span> b))
</code></pre></div><p>Although jupyter has various advanced functions and is fun, I will omit how to operate it this time.</p>
<p>enjoy! TensorFlow!</p>
<h2 id="referenced-sitepyenv-virtualenv--tensorflow-environment-setting-memo-additionscorrections-qiitahttpqiitacomantimon2itemsb162c05c6da06ad34f0d">Referenced site<a href="http://qiita.com/antimon2/items/b162c05c6da06ad34f0d">pyenv-virtualenv + TensorFlow environment setting memo [Additions/corrections]-Qiita</a></h2>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
