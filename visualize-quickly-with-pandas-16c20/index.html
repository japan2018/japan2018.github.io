<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Visualize quickly with Pandas | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Visualize quickly with Pandas</h1>
<p>
  <small class="text-secondary">
  
  
  Nov 11, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/pandas"> pandas</a></code></small>


<small><code><a href="https://memotut.com/tags/%E3%83%87%E3%83%BC%E3%82%BF-analysis"> データ analysis</a></code></small>


<small><code><a href="https://memotut.com/tags/visualization"> visualization</a></code></small>

</p>
<pre><code>There are several libraries that visualize data in Python, but Pandas alone is quite good.
</code></pre>
<p>Visualization using Pandas can be completed in the method chain, which can prevent random scattering of temporary variables.
In this article, I will introduce visualization recipes, focusing on the ones I often use in practice.</p>
<p>#Preparation</p>
<h2 id="environment">Environment</h2>
<ul>
<li>Python 3.6.8</li>
<li>jupyter==1.0.0</li>
<li>pandas==0.25.3</li>
</ul>
<h2 id="data">data</h2>
<p>I borrow the following two data this time.</p>
<ul>
<li><a href="https://www.kaggle.com/c/titanic">Titanic: Machine Learning from Disaster | Kaggle</a></li>
<li><a href="https://www.kaggle.com/AnalyzeBoston/crimes-in-boston">Crimes in Boston | Kaggle</a></li>
</ul>
<p>Create a DataFrame called <code>titanic</code> and <code>crime</code> respectively.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd
<span style="color:#f92672">import</span> zipfile

<span style="color:#66d9ef">with</span> zipfile<span style="color:#f92672">.</span>ZipFile(<span style="color:#e6db74">&#39;titanic.zip&#39;</span>) <span style="color:#66d9ef">as</span> myzip:
    <span style="color:#66d9ef">with</span> myzip<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;train.csv&#39;</span>) <span style="color:#66d9ef">as</span> myfile:
        titanic <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(myfile)

<span style="color:#66d9ef">with</span> zipfile<span style="color:#f92672">.</span>ZipFile(<span style="color:#e6db74">&#39;crimes-in-boston.zip&#39;</span>) <span style="color:#66d9ef">as</span> myzip:
    <span style="color:#66d9ef">with</span> myzip<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;crime.csv&#39;</span>) <span style="color:#66d9ef">as</span> myfile:
        crime <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(myfile, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;latin-1&#39;</span>, parse_dates<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;OCCURRED_ON_DATE&#39;</span>])
</code></pre></div><p>#Visualization recipe</p>
<h2 id="histogram">Histogram</h2>
<p>This is the quickest way to see the distribution of numerical data.
Bar graphs may be more appropriate when there are few unique values.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>hist()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/7392d2d4-a864-5591-7ec1-80479abbb324.png" alt="image.png"></p>
<h2 id="box-plot">Box Plot</h2>
<p>It is used to see the quartiles.
Points outside the length of the box x 1.5 are displayed as outliers with markers.
Violin diagrams cannot be drawn with Pandas, so give up and use Seaborn.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>box()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/7a7fed8f-da44-844b-213d-1d21cb07e2d1.png" alt="image.png"></p>
<h2 id="kernel-density-estimation">Kernel Density Estimation</h2>
<p>It is a method of estimating PDF from data, but if it is one-dimensional, a histogram may be sufficient.
For details on Python kernel density estimation, see <a href="https://vaaaaaanquish.hatenablog.com/entry/2017/10/29/181949">here</a>.
Since scipy is used, install it with <code>pip install scipy</code> if it is not installed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>kde()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/66887edf-19b0-3ec7-104b-62cc812896d6.png" alt="image.png"></p>
<h2 id="scatter-plot">Scatter Plot</h2>
<p>It is used to see the relationship between real numbers.
If the dots overlap too much, the density will not be known, so I think that the standard is transparent.
If either one is a category or there are few unique values, it is better to use the grouped histogram or box plot shown below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Fare&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/da28a6a8-c3d6-7a49-fd66-2beb024a72ed.png" alt="image.png"></p>
<h2 id="hexagonal-binning-plot">Hexagonal Binning Plot</h2>
<p>I&rsquo;ve never used it, but I&rsquo;ll introduce it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>hexbin(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Fare&#39;</span>, gridsize<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/4bb2781f-7da8-8d7b-d092-7f8b5a7a5908.png" alt="image.png"></p>
<h2 id="bar-plot">Bar Plot</h2>
<p>It is often used to see the aggregate values for each category.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/254afcba-cf38-703d-93bb-4c3f965ea659.png" alt="image.png"></p>
<h2 id="horizontal-bar-plot">Horizontal Bar Plot</h2>
<p>I laid it down.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>barh()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/87bcec01-cdfd-2bbc-0e56-f48eaf65debd.png" alt="image.png"></p>
<h2 id="horizontal-bar-plot-with-dataframe-styling">Horizontal Bar Plot with DataFrame Styling</h2>
<p>You can make the DataFrame look like a bar graph.
I use it often because it allows me to search by text.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>to_frame()<span style="color:#f92672">.</span>style<span style="color:#f92672">.</span>bar(vmin<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/c76eb267-efc8-06a4-d7b7-a90bd5fcdeee.png" alt="image.png"></p>
<h2 id="line-plot">Line Plot</h2>
<p>Often used to see changes in series.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">crime[<span style="color:#e6db74">&#39;OCCURRED_ON_DATE&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>line(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">4</span>))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/760ceb5a-f0b7-8bad-a1e0-170242087d80.png" alt="image.png"></p>
<h2 id="area-plot">Area Plot</h2>
<p>Like the line chart, you see the series change, but you see the magnitude from zero.
However, if it is too fine, the valleys are difficult to see, so it is better to discretize it a little.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">crime[<span style="color:#e6db74">&#39;OCCURRED_ON_DATE&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>area(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">4</span>), linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/c281148b-8a8b-7f86-74cd-23181e9ad019.png" alt="image.png"></p>
<h2 id="pie-plot-pie-chart">Pie Plot (pie chart)</h2>
<p>I don&rsquo;t use pie charts because they are hard to understand, but I will introduce them.
The reasons why pie charts are hard to understand are summarized in the following article.</p>
<ul>
<li><a href="https://dataviz.hatenablog.com/entry/2019/02/05/180316">Do you still use pie charts? -Data visualization idea book</a></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>pie()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/d21a6af5-60d6-7ef1-332b-ffb0c90e8d5e.png" alt="image.png"></p>
<h2 id="grouped-histogram">Grouped Histogram</h2>
<p>Often used to compare the distribution between two groups. (It doesn&rsquo;t have to be 2 groups)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;Survived&#39;</span>)[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>hist(alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, legend<span style="color:#f92672">=</span>True)
</code></pre></div><p>Or</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>hist(alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, legend<span style="color:#f92672">=</span>True)
</code></pre></div><p>With the latter, an external Series can be used.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/2d50854e-1d34-5b0d-301d-71312c479ebc.png" alt="image.png"></p>
<h2 id="grouped-box-plot">Grouped Box Plot</h2>
<p>It does not work with <code>groupby</code>, so write it as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic<span style="color:#f92672">.</span>boxplot(column<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, by<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Survived&#39;</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/991e55e8-2f82-cc38-9134-45c67065a0ef.png" alt="image.png"></p>
<h2 id="grouped-kernel-density-estimation">Grouped Kernel Density Estimation</h2>
<p>May be used to compare distributions between two groups as well as histograms.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>kde(legend<span style="color:#f92672">=</span>True)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/449f1512-4d95-27e7-2ca3-6100fdfa5fc3.png" alt="image.png">## Grouped Scatter Plot</p>
<p>I can&rsquo;t write smartly even though it seems to be used often.
If it is <code>groupby</code>, it will be returned as a list.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;Survived&#39;</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Fare&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/dc9e4e2c-3e3e-3459-ff6d-8e588532e10a.png" alt="image.png">
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/648ce0cd-8655-9831-fc90-54d687d1c4b8.png" alt="image.png"></p>
<p>It can be used only if the key is numeric data, but if you write as follows, it will be a scatter chart of different colors for each group.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Fare&#39;</span>, c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Survived&#39;</span>, cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;viridis&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/0a9e531f-5abc-85ef-5523-9cd787bbae2c.png" alt="image.png"></p>
<p><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html#scatter-plot">Pandas official documentation</a> shows how to share 2 axes and draw 2 graphs. ..</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">ax <span style="color:#f92672">=</span> titanic[titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Fare&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>)
titanic[titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Fare&#39;</span>, c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;tab:orange&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>, ax<span style="color:#f92672">=</span>ax)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/92d5ceb5-797b-495c-4d34-471157149cf1.png" alt="image.png"></p>
<h2 id="grouped-hexagonal-binning-plot">Grouped Hexagonal Binning Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;Survived&#39;</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>hexbin(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Age&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Fare&#39;</span>, gridsize<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/fe12fb19-c382-673b-23ea-823b6680fdd0.png" alt="image.png">
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/83630a36-3a46-cc0b-82dc-76d1b9c93106.png" alt="image.png"></p>
<h2 id="grouped-bar-plot">Grouped Bar Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack()<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/f3941148-d91d-0785-e20b-c7b4a3eaf860.png" alt="image.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/7b550d2b-c0f0-f136-681a-38a61f4e836b.png" alt="image.png"></p>
<h2 id="grouped-horizontal-bar-plot">Grouped Horizontal Bar Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack()<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>barh()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/97997cc6-b7c9-432b-bd9a-f8956150a32e.png" alt="image.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>barh()
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/a230f34e-23ab-dcf1-333f-8e7a1dc9e3fe.png" alt="image.png"></p>
<h2 id="grouped-horizontal-bar-plot-with-dataframe-styling">Grouped Horizontal Bar Plot with DataFrame Styling</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>style<span style="color:#f92672">.</span>bar(vmin<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, axis<span style="color:#f92672">=</span>None)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/510d34b4-d03b-22ca-3cbf-824ed4b50ff5.png" alt="image.png"></p>
<h2 id="grouped-line-plot">Grouped Line Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">crime[<span style="color:#e6db74">&#39;OCCURRED_ON_DATE&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>groupby(crime[<span style="color:#e6db74">&#39;DISTRICT&#39;</span>])<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>line(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">4</span>), alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/62e7c594-c0bb-f88c-9f8f-99dc55137c09.png" alt="image.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">crime[<span style="color:#e6db74">&#39;OCCURRED_ON_DATE&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>groupby(crime[<span style="color:#e6db74">&#39;DISTRICT&#39;</span>])<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>iloc[:, :<span style="color:#ae81ff">4</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>line(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">4</span>), (alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/0b0e9dec-7c79-575f-b1f3-61e3fedf1b4a.png" alt="image.png"></p>
<h2 id="stacked-area-plot">Stacked Area Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">crime[<span style="color:#e6db74">&#39;OCCURRED_ON_DATE&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>groupby(crime[<span style="color:#e6db74">&#39;DISTRICT&#39;</span>])<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>area(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">4</span>), linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/05f666d9-7f73-a652-208e-18945f254d3f.png" alt="image.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">crime[<span style="color:#e6db74">&#39;OCCURRED_ON_DATE&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>groupby(crime[<span style="color:#e6db74">&#39;DISTRICT&#39;</span>])<span style="color:#f92672">.</span>value_counts()<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>iloc[:, :<span style="color:#ae81ff">4</span>]<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>area(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">4</span>), linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/160e730b-ba0c-0f34-0f8a-9b4af311bc1e.png" alt="image.png"></p>
<h2 id="grouped-pie-plot">Grouped Pie Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>pie(subplots<span style="color:#f92672">=</span>True)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/11a513dd-8e13-2186-0926-b1f28b5c9d05.png" alt="image.png"></p>
<h2 id="stacked-bar-plot">Stacked Bar Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack()<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar(stacked<span style="color:#f92672">=</span>True)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/c37801b8-91e3-d9d4-4695-c68fc218452c.png" alt="image.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar(stacked<span style="color:#f92672">=</span>True)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/52fd8cec-d7f2-da11-7da4-c264d39d1ccc.png" alt="image.png"></p>
<h2 id="stacked-horizontal-bar-plot">Stacked Horizontal Bar Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack()<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>barh(stacked<span style="color:#f92672">=</span>True)
<span style="color:#e6db74">``</span><span style="color:#960050;background-color:#1e0010">`!</span>[image<span style="color:#f92672">.</span>png](https:<span style="color:#f92672">//</span>qiita<span style="color:#f92672">-</span>image<span style="color:#f92672">-</span>store<span style="color:#f92672">.</span>s3<span style="color:#f92672">.</span>ap<span style="color:#f92672">-</span>northeast<span style="color:#f92672">-</span><span style="color:#ae81ff">1.</span>amazonaws<span style="color:#f92672">.</span>com<span style="color:#f92672">/</span><span style="color:#ae81ff">0</span><span style="color:#f92672">/</span><span style="color:#ae81ff">218449</span><span style="color:#f92672">/</span><span style="color:#ae81ff">54348</span>ed2<span style="color:#f92672">-</span><span style="color:#ae81ff">6e2</span>f<span style="color:#f92672">-</span><span style="color:#ae81ff">1676</span><span style="color:#f92672">-</span><span style="color:#ae81ff">38</span>d7<span style="color:#f92672">-</span>c2a7262ef46c<span style="color:#f92672">.</span>png)

<span style="color:#e6db74">``</span><span style="color:#960050;background-color:#1e0010">`</span>python
titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>barh(stacked<span style="color:#f92672">=</span>True)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/9b476180-c86d-e6a2-e992-dbed49abbaf7.png" alt="image.png"></p>
<h2 id="percent-stacked-bar-plot">Percent Stacked Bar Plot</h2>
<p>100%積み上げ棒グラフを描くには割合を計算しないといけません。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack()
 <span style="color:#f92672">.</span>div(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False), axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
 <span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar(stacked<span style="color:#f92672">=</span>True))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/65587360-4e96-da74-0612-232b11e1a1f5.png" alt="image.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)
 <span style="color:#f92672">.</span>div(titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False), axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
 <span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar(stacked<span style="color:#f92672">=</span>True))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/4b5534b4-28fe-3db0-11e1-65f14f8c087f.png" alt="image.png"></p>
<h2 id="percent-stacked-horizontal-bar-plot">Percent Stacked Horizontal Bar Plot</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack()
 <span style="color:#f92672">.</span>div(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False), axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
 <span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>barh(stacked<span style="color:#f92672">=</span>True))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/6fdf2128-46c3-b46b-c514-ea61bd7e100d.png" alt="image.png"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False)<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)
 <span style="color:#f92672">.</span>div(titanic[<span style="color:#e6db74">&#39;Embarked&#39;</span>]<span style="color:#f92672">.</span>value_counts(dropna<span style="color:#f92672">=</span>False), axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
 <span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>barh(stacked<span style="color:#f92672">=</span>True))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/39035c25-35c7-fdaf-bf3e-29754d8892c4.png" alt="image.png"></p>
<h2 id="overlay-plots">Overlay Plots</h2>
<p>ヒストグラムとカーネル密度推定のグラフを重ねてみます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">titanic[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>hist(alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, legend<span style="color:#f92672">=</span>True)
titanic[<span style="color:#e6db74">&#39;Age&#39;</span>]<span style="color:#f92672">.</span>groupby(titanic[<span style="color:#e6db74">&#39;Survived&#39;</span>])<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>kde(legend<span style="color:#f92672">=</span>True, secondary_y<span style="color:#f92672">=</span>True)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/fb48e9c7-5a70-1eb7-d5eb-ada3bac11977.png" alt="image.png"></p>
<h2 id="grouped-bar-plot-with-error-bars">Grouped Bar Plot with Error Bars</h2>
<p>エラーバーを描くには標準誤差を計算しないといけません。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">yerr <span style="color:#f92672">=</span> titanic<span style="color:#f92672">.</span>groupby([<span style="color:#e6db74">&#39;Survived&#39;</span>, <span style="color:#e6db74">&#39;Pclass&#39;</span>])[<span style="color:#e6db74">&#39;Fare&#39;</span>]<span style="color:#f92672">.</span>std()<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)
titanic<span style="color:#f92672">.</span>groupby([<span style="color:#e6db74">&#39;Survived&#39;</span>, <span style="color:#e6db74">&#39;Pclass&#39;</span>])[<span style="color:#e6db74">&#39;Fare&#39;</span>]<span style="color:#f92672">.</span>mean()<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>bar(yerr<span style="color:#f92672">=</span>yerr)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/e7b5e755-30d8-61ed-e63a-ad32748999db.png" alt="image.png"></p>
<h2 id="heat-map-with-dataframe-styling">Heat Map with DataFrame Styling</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(pd<span style="color:#f92672">.</span>crosstab(crime[<span style="color:#e6db74">&#39;DAY_OF_WEEK&#39;</span>], crime[<span style="color:#e6db74">&#39;HOUR&#39;</span>]<span style="color:#f92672">.</span>div(<span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>map(int)<span style="color:#f92672">.</span>mul(<span style="color:#ae81ff">3</span>), normalize<span style="color:#f92672">=</span>True)
 <span style="color:#f92672">.</span>reindex([<span style="color:#e6db74">&#39;Sunday&#39;</span>, <span style="color:#e6db74">&#39;Monday&#39;</span>, <span style="color:#e6db74">&#39;Tuesday&#39;</span>, <span style="color:#e6db74">&#39;Wednesday&#39;</span>, <span style="color:#e6db74">&#39;Thursday&#39;</span>, <span style="color:#e6db74">&#39;Friday&#39;</span>, <span style="color:#e6db74">&#39;Saturday&#39;</span>])
 <span style="color:#f92672">.</span>style<span style="color:#f92672">.</span>background_gradient(axis<span style="color:#f92672">=</span>None)<span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;{:.3%}&#39;</span>))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/53d00a12-324d-4532-aa12-d1b88f5677fc.png" alt="image.png"></p>
<p>Colormapを変えると芝生っぽくなります。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">(pd<span style="color:#f92672">.</span>crosstab(crime[<span style="color:#e6db74">&#39;DAY_OF_WEEK&#39;</span>], crime[<span style="color:#e6db74">&#39;MONTH&#39;</span>], normalize<span style="color:#f92672">=</span>True)
 <span style="color:#f92672">.</span>reindex([<span style="color:#e6db74">&#39;Sunday&#39;</span>, <span style="color:#e6db74">&#39;Monday&#39;</span>, <span style="color:#e6db74">&#39;Tuesday&#39;</span>, <span style="color:#e6db74">&#39;Wednesday&#39;</span>, <span style="color:#e6db74">&#39;Thursday&#39;</span>, <span style="color:#e6db74">&#39;Friday&#39;</span>, <span style="color:#e6db74">&#39;Saturday&#39;</span>])
 <span style="color:#f92672">.</span>style<span style="color:#f92672">.</span>background_gradient(axis<span style="color:#f92672">=</span>None, cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;YlGn&#39;</span>)<span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;{:.3%}&#39;</span>))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/d20664f0-8ef7-a920-f6eb-60a8cf63a8e8.png" alt="image.png"></p>
<h2 id="correlation-heat-map-with-dataframe-styling">Correlation Heat Map with DataFrame Styling</h2>
<p>次の記事で紹介してます。</p>
<ul>
<li><a href="https://qiita.com/hrappuccino/items/b0b6bc6aad22b94081d9">【1行で】Pandasだけで相関行列をヒートマップ化する</a></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">corr <span style="color:#f92672">=</span> titanic<span style="color:#f92672">.</span>corr()
low <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> corr<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>min()) <span style="color:#f92672">/</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> corr<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>min())
corr<span style="color:#f92672">.</span>style<span style="color:#f92672">.</span>background_gradient(axis<span style="color:#f92672">=</span>None, cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;viridis&#39;</span>, low<span style="color:#f92672">=</span>low)<span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;{:.6f}&#39;</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/218449/ab7274ee-690a-1224-2703-c8ba68bb5200.png" alt="image.png"></p>
<h1 id="終わり">終わり</h1>
<p>比較的簡単に使えそうなものを紹介してみました。
こんなのもあるよ！という方、ぜひ教えてください。
より凝ったグラフを描きたい方は次のページが参考になると思います。</p>
<ul>
<li><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html">Visualization — pandas documentation</a></li>
<li><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/style.html">Styling — pandas documentation</a></li>
<li><a href="http://sinhrks.hatenablog.com/entry/2015/11/15/222543">Python pandas プロット機能を使いこなす - StatsFragments</a></li>
<li><a href="https://own-search-and-study.xyz/2016/08/03/pandas%E3%81%AEplot%E3%81%AE%E5%85%A8%E5%BC%95%E6%95%B0%E3%82%92%E4%BD%BF%E3%81%84%E3%81%93%E3%81%AA%E3%81%99/">Pandasのplotの全引数を解説 | 自調自考の旅</a></li>
</ul>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
