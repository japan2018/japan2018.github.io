<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Do Houdini with Python3! ! ! | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Do Houdini with Python3! ! !</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 6, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/machine-learning"> machine learning</a></code></small>


<small><code><a href="https://memotut.com/tags/python3"> Python3</a></code></small>


<small><code><a href="https://memotut.com/tags/houdini"> HOUDINI</a></code></small>


<small><code><a href="https://memotut.com/tags/tensorflow"> TensorFlow</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>The second adcare article this year. The first one was &ldquo;[Verify new installation method of SideFX Labs Tool, Package function]&rdquo; (<a href="https://qiita.com/takavfx/items/d1698b89df6fb1b86f9c)">https://qiita.com/takavfx/items/d1698b89df6fb1b86f9c)</a>.
So this time, let&rsquo;s take a different angle.</p>
<p>It is Python material.</p>
<p>Due to various reasons, the base of my work has already moved to Python3 series, and Python3 series is regularly used. When making a stand-alone tool, it is 3 series.
When you have to write Python processing because of M○y○ etc., the base writes a pipeline in Python3, and the processing of turning M○y○ in Python2 is turned in another process.
Rather, the psychological situation due to the restriction that &ldquo;other various automatic processing is written in 3 system, but Python 2 must be used for DCC tool&rdquo;, and the barrenness of various correspondences I feel stressed by.</p>
<p>Following the article on <a href="https://vfxplatform.com">VFX Reference Platform</a>,itwaspreviouslysuggestedthatitwouldmovetoPython3asof2019.However,afterall,itseemeddifficulttorespond,andnowitis2020.(Although,itseemsthatPython3versionhasnotbeenreleasedyetwithM○y○2020&hellip;?:thinking:)
I&rsquo;ve heard rumors of enthusiasm that I won&rsquo;t get off the year anymore, and while I have the question, &ldquo;Is it true?&rdquo;, this time &ldquo;** Houdini 18 started distributing a preview version of Python 3: bangbang: **”, I feel that the event that separates one history has finally begun to occur.</p>
<p>Well, because of that, the long-awaited preview version for Python 3 has been opened, so it seems that the bug is awful, but let&rsquo;s try it.</p>
<p>By the way, processing itself in Python3 is possible at the time of PDG of 17.5, and regarding the method of inserting the processing of Python3 in the flow, [** I have already described the method here]](Seehttps://qiita.com/takavfx/items/faa892379291958b9902)!</p>
<p>:warning:
<strong>By the way, by the way, I&rsquo;m sorry to say that this version is only a preview version, and I&rsquo;m just playing M to catch bugs, so be prepared and jump into it when you manage.</strong> :wink:
:warning:</p>
<p>Let&rsquo;s say :bangbang:</p>
<h2 id="preview-environment">Preview environment</h2>
<blockquote>
<p>Houdini 18.0.310
Windows 10</p>
</blockquote>
<h1 id="install">Install</h1>
<p>First, go to download the installer.</p>
<p>First, go to Get &gt;Download,
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/74ec9214-6578-e108-4c03-b89a23f98950.png" alt="vivaldi_bYcUKlO5eL.png"></p>
<p>Go to those pages for the Production Build or Daily Build download items. whichever.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/24747a1c-2519-35a5-71af-4a9577541a29.png" alt="image.png"></p>
<p>By default, the specified filter is applied, so switch the filter with Houdini Python 3 in the filter menu.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/bf348f90-4de9-1976-18a7-e43aec6f155a.png" alt="image.png"></p>
<p>And download: bangbang:</p>
<p>And install :bangbang::bangbang:
Oh :bangbang::bangbang::bangbang::bangbang:
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/c506c9a5-c7d6-0322-0911-b674119812b8.png" alt="image.png"></p>
<h1 id="try-out">Try out</h1>
<p>Well, an article that didn&rsquo;t end with just downloading and installing was okay, but I&rsquo;m worried about the actual behavior, so I will try it a little more.</p>
<h2 id="start-up">Start-up</h2>
<p>After the start of the boot, I felt uneasy air in the error displayed on the console display, and the boot was completed.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/4fcbeebc-84e4-ba47-b075-fdeb98664163.png" alt="image.png"></p>
<p>Apparently, these areas don&rsquo;t support Python 3 yet.</p>
<h2 id="python-shell">Python Shell</h2>
<p>For now, let&rsquo;s launch Python Shell.
Python 3.7.4, which is the latest version of the current 3.7 series, is adopted.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/ac3a5c50-271a-441a-0c3f-afb7afa0285e.png" alt="image.png"></p>
<h2 id="window-title">Window Title</h2>
<p>Python 3 is also described in the Window title, so you can recognize which variant you are using now.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/25809567-06d8-5b10-c316-95bf4fbe6d03.png" alt="image.png"></p>
<h2 id="the-first-bug-that-the-node-edit-event-is-not-supported">The first bug that the node edit event is not supported</h2>
<p>Apparently, the event when rewriting the node name in Houdini also uses Python, and even changing the node name is not allowed. I&rsquo;m getting a Unicode error.</p>
<p>Isn&rsquo;t it possible to change the name of the node too? Hot:exclamation::muscle::muscle::muscle:</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/ba94e2cc-431b-9ac1-1529-5d97fe5ce571.png" alt="houdini_pcUl0wQ9mF.png"></p>
<h2 id="test-whether-the-module-included-in-the-battery-is-included-in-python-3-series">Test whether the module included in the battery is included in Python 3 series</h2>
<p>Try with Pathlib.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/de9bc99e-fb9f-9680-c7f1-67cb183485a7.png" alt="image.png"></p>
<p>I said!
Personally, it&rsquo;s worth the evaluation just because it works :angel:</p>
<h2 id="houdini-python-3-with-tensorflow-on-windows">Houdini Python 3 with TensorFlow on Windows</h2>
<p>The Windows version of TensorFlow was originally developed with no intention of supporting Python 2, so it was an option to go out of support or dare to use Linux.
However, once Houdini is ready for Python 3, that doesn&rsquo;t matter anymore, so you can use TensorFlow openly with support: bangbang:
So I tried to see if I could go.</p>
<p>For the time being, only the results.</p>
<p><strong>Hmm, don&rsquo;t (.´・ω・)</strong>
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/eb7e5ede-1f41-b05d-903c-c3e7899b54a5.png" alt="image.png"></p>
<p>By the way, another import error occurs when you tap it a second time.</p>
<pre><code>&gt;&gt;&gt; import tensorflow as tf
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow\__init__.py&quot;, line 98, in &lt;module&gt;
    from tensorflow_core import *
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\__init__.py&quot;, line 45, in &lt;module&gt;
    from ._api.v2 import compat
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\_api\v2\compat\__init__.py&quot;, line 23, in &lt;module&gt;
    from .import v1
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\_api\v2\compat\v1\__init__.py&quot;, line 40, in &lt;module&gt;
    from .import experimental
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\_api\v2\compat\v1\experimental\__init__.py&quot;, line 11, in &lt;module&gt;
    from tensorflow.python.ops.control_flow_v2_toggles import output_all_intermediates
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\ops\control_flow_v2_toggles.py&quot;, line 24, in &lt;module&gt;
    from tensorflow.python.ops import control_flow_util_v2
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\ops\control_flow_util_v2.py&quot;, line 28, in &lt;module&gt;
    from tensorflow.python.keras.engine import base_layer_utilsFile &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\__init__.py&quot;, line 27, in &lt;module&gt;
    from tensorflow.python.keras import applications
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\applications\__init__.py&quot;, line 25, in &lt;module&gt;
    from tensorflow.python.keras import engine
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\engine\__init__.py&quot;, line 23, in &lt;module&gt;
    from tensorflow.python.keras.engine.base_layer import Layer
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\engine\base_layer.py&quot;, line 56, in &lt;module&gt;
    from tensorflow.python.keras.saving.saved_model import layer_serialization
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\saving\__init__.py&quot;, line 20, in &lt;module&gt;
    from tensorflow.python.keras.saving.hdf5_format import load_attributes_from_hdf5_group
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\saving\hdf5_format.py&quot;, line 32, in &lt;module&gt;
    from tensorflow.python.keras.utils import conv_utils
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\utils\__init__.py&quot;, line 38, in &lt;module&gt;
    from tensorflow.python.keras.utils.multi_gpu_utils import multi_gpu_model
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\utils\multi_gpu_utils.py&quot;, line 22, in &lt;module&gt;
    from tensorflow.python.keras.engine.training import Model
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\engine\training.py&quot;, line 42, in &lt;module&gt;
    from tensorflow.python.keras import metrics as metrics_module
  File &quot;D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\metrics.py&quot;, line 34, in &lt;module&gt;
    from tensorflow.python.keras.engine.base_layer import Layer
ImportError: cannot import name 'Layer' from 'tensorflow.python.keras.engine.base_layer' (D:\Develop\Houdini\Qiita\tf2\python3.7.4\site-packages\tensorflow_core\python\keras\engine\base_layer.py)
</code></pre><h3 id="検証方法a">検証方法A</h3>
<p>とりあえず、pip install時に切り出してテストするやり方。</p>
<ol>
<li>Anacondaで、Python3.7.4環境を作って、その環境に入る。</li>
<li>コマンドラインで、<code>pip install -t &lt;検証用パス&gt; tensorflow=2.0.0</code>でインストールする。</li>
<li>コマンドラインで、<code>set PYTHONPATH=&lt;検証用パス&gt;</code> でセットする。</li>
<li>一応、コマンドライン上でちゃんと動くかテストしておく。
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51857/30e0e03d-db43-223d-3cd1-2393c63bd77b.png" alt="image.png"></li>
<li>コマンドラインで、 <code>call &quot;C:\Program Files\Side Effects Software\Houdini 18.0.310\bin\happrentice.exe&quot;</code> でHoudiniを実行する or houdini.env に書き込む。</li>
<li><code>import tensorflow as tf;tf.__version__</code> とか実行してみる。</li>
</ol>
<h4 id="結果">結果</h4>
<p>上記エラー</p>
<h3 id="検証方法b">検証方法B</h3>
<p>素直にAnacondaのconda installに任せてみるやり方。</p>
<ol>
<li>Anacondaで、Python3.7.4環境を作って、その環境に入る。</li>
<li>コマンドラインで、<code>conda install tensorflow=2.0.0</code>でインストールする。</li>
<li>一応、コマンドライン上でちゃんと動くかテストしておく。</li>
<li>コマンドラインで、 <code>call &quot;C:\Program Files\Side Effects Software\Houdini 18.0.310\bin\happrentice.exe&quot;</code> でHoudiniを実行する or houdini.env に書き込む。</li>
<li><code>import tensorflow as tf;tf.__version__</code> とか実行してみる。</li>
</ol>
<h4 id="結果-1">結果</h4>
<p>同じく上記エラー</p>
<h3 id="検証方法c">検証方法C</h3>
<p>そもそも、Houdiniインストール時についてくるPythonは大丈夫なのかテストするやり方。</p>
<ol>
<li>検証方法Aのステップ3までやっておく。</li>
<li>コマンドラインで、&ldquo;C:\Program Files\Side Effects Software\Houdini 18.0.310\python37\python.exe&rdquo; で、Houdiniのインストール時についてくるPythonを起動してみる。</li>
<li><code>import tensorflow as tf;tf.__version__</code> とか実行してみる。 -&gt; こいつはちゃんと動いてる</li>
</ol>
<h3 id="検証方法d">検証方法D</h3>
<p>そもそも、新しいDaily Buildを試してみる。</p>
<blockquote>
<p>検証環境
Houdini 18.0.315</p>
</blockquote>
<ol>
<li>新しいビルドをダウンロードしてきていんすこ。</li>
<li>検証Aの手順でテスト。</li>
</ol>
<h4 id="結果-2">結果</h4>
<p>同じだった…(。´・ω・)</p>
<p>うーん…(。´・ω・)
どうやら、Houdini Python3についてくる別のモジュールあたりが悪さしてる可能性。houモジュール自体が、まだPython3に対応してない感じかな。
これ以上は追う気力が失せてしまった……。
まぁ、またしばらくしたら試してみようと思う。好奇心の灯は再び:volcano:</p>
<h1 id="まとめ">まとめ</h1>
<p>………、と、とりあえずPython3が動く(嘘は言っていない)のは確認できた。
しかしながら、なかなかにまだまだ茨の道なのか、開発の方々も大変苦労しておられる様子…。もうしばらく見守りつつ、さらなる検証をしていくという事の方がいいかもしれない。</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
