<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://japan2018.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://japan2018.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://japan2018.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="https://japan2018.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="https://japan2018.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://japan2018.github.io/css/bootstrap.min.css" />

  
  <title>Implemented SIR model, a mathematical model for infectious diseases in OpenModelica (reflects mortality rate and reinfection rate) | Some Title</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Implemented SIR model, a mathematical model for infectious diseases in OpenModelica (reflects mortality rate and reinfection rate)</h1>
<p>
  <small class="text-secondary">
  
  
  May 11, 2020
  </small>
  

<small><code><a href="https://japan2018.github.io/tags/python">Python</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/modelica"> Modelica</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/coronavirus"> Coronavirus</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/sir-model"> SIR model</a></code></small>


<small><code><a href="https://japan2018.github.io/tags/covid-19"> COVID-19</a></code></small>

</p>
<pre><code># Add mortality and reinfection rates to the basic SIR model
</code></pre>
<p>Mortality rate and reinfection of the class cl_SIRbetaInput created in the previous article, &ldquo;Implement the mathematical model of infectious disease &ldquo;SIR model&rdquo; with OpenModelica&rdquo; (<a href="https://qiita.com/nobby-n/items/48803407f67f62b2c8f9)%22">https://qiita.com/nobby-n/items/48803407f67f62b2c8f9)&quot;</a> Let&rsquo;s create a full version with a percentage added.</p>
<p>*Corrected because we found an error in the mortality formula in the first post.</p>
<ul>
<li>
<ul>
<li>(Corrected on May 13, 2020) Revised again.</li>
</ul>
</li>
</ul>
<p>Prerequisites for this model</p>
<ul>
<li>A certain percentage of deaths occur from the transition from infected to recovered</li>
<li>Even a recovering person who has acquired immunity loses immunity at a certain rate over time and returns to an infectious person</li>
<li>Only survivors return from healers to infectables</li>
</ul>
<p>**Please note that all of the following simulations are only verifications of the model with provisional parameters and are not intended to reflect or predict actual values. **</p>
<h2 id="create-class-cl_sirreinfect-by-adding-mortality-to-class-cl_sirbetainput">Create class cl_SIRreinfect by adding mortality to class cl_SIRbetaInput.</h2>
<p>&ldquo;Dying_rate = mortality rate&rdquo; can be set as a parameter.
The default value is 0.01 (1%).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab">parameter Real dying_rate = <span style="color:#ae81ff">0.01</span> &#34;Dying rate&#34;;
</code></pre></div><p>The additional equation parts are:
When transitioning from I (infected person) to R (restored person), the number of healers becomes fatal in proportion to the mortality rate, and the rest become &ldquo;survivors of survival&rdquo;.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab">equation
  der(Rdead) = Iy <span style="color:#f92672">*</span> gamma_const <span style="color:#f92672">*</span> dying_rate;
<span style="color:#f92672">//</span> der(Rdead) = der(Ry) <span style="color:#f92672">*</span> dying_rate;
  Rlive = Ry<span style="color:#f92672">-</span>Rdead;
</code></pre></div><h2 id="add-reinfection-rate">Add reinfection rate</h2>
<p>For formulas that take reinfection into account, refer to &ldquo;<a href="https://rpubs.com/ktgrstsh/tokyor84">R and Pandemic Mathematical Model: New Coronavirus (COVID-19) Study</a>&rdquo; It was.
When ρ is the reinfection rate, the following formula is obtained.</p>
<pre><code class="language-math" data-lang="math">\begin{align}

\frac{dS}{dt} &amp;= -\beta SI + ρ R\\
\frac{dI}{dt} &amp;= \beta SI -\gamma I \\
\frac{dR}{dt} &amp;= \gamma I-ρ R\\

\end{align}
</code></pre><p>&ldquo;Reinfect_rate = reinfection rate&rdquo; can be set as a parameter.
The default value is 0.001 (0.1%).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab">parameter Real reinfect_rate = <span style="color:#ae81ff">0.001</span> &#34;Reinfection rate&#34;;
</code></pre></div><p>The additional equation parts are:
When transitioning from I (infected person) to R (restored person), the number of healers becomes fatal in proportion to the mortality rate, and the rest become &ldquo;survivors of survival&rdquo;.
Of the “survivors of survival”, the number of R (recoverers) decreases in proportion to the reinfection rate and shifts to S (possible persons).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab">equation
  der(Sy) = (<span style="color:#f92672">-</span>contact_rate <span style="color:#f92672">*</span> Sy <span style="color:#f92672">*</span> Iy) <span style="color:#f92672">+</span> Rlive <span style="color:#f92672">*</span> reinfect_rate;
  der(Iy) = contact_rate <span style="color:#f92672">*</span> Sy <span style="color:#f92672">*</span> Iy<span style="color:#f92672">-</span>Iy <span style="color:#f92672">*</span> gamma_const;
  der(Ry) = Iy <span style="color:#f92672">*</span> gamma_const<span style="color:#f92672">-</span>Rlive <span style="color:#f92672">*</span> reinfect_rate;
  Inew = contact_rate <span style="color:#f92672">*</span> Sy <span style="color:#f92672">*</span> Iy;
</code></pre></div><p>The whole code looks like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab">class cl_SIRreinfect
  extends Modelica.Blocks.Icons.Block;
  parameter Real gamma_const = <span style="color:#ae81ff">0.2</span> &#34;Recovery rate (<span style="color:#ae81ff">1</span><span style="color:#f92672">/</span>day)&#34;;
  parameter Real reinfect_rate = <span style="color:#ae81ff">0.001</span> &#34;Reinfection rate&#34;;
  parameter Real dying_rate = <span style="color:#ae81ff">0.01</span> &#34;Dying rate&#34;;
  Modelica.Blocks.Interfaces.RealInput Si &#34;Connector of initial S(Susceptible)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">60</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#ae81ff">0</span>), iconTransformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">62</span>} , extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#ae81ff">0</span>))));
  Modelica.Blocks.Interfaces.RealInput Ii &#34;Connector of initial I (Infectious)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">0</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#ae81ff">0</span>), iconTransformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">0</span>} , extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#ae81ff">0</span>))));
  Modelica.Blocks.Interfaces.RealInput Ri &#34;Connector of initial R (Removed)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">60</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#ae81ff">0</span>), iconTransformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">120</span>,<span style="color:#f92672">-</span> <span style="color:#ae81ff">62</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#ae81ff">0</span>)));
  Modelica.Blocks.Interfaces.RealOutput Sy &#34;Output connector of S(Susceptible)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#ae81ff">110</span>, <span style="color:#ae81ff">60</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#ae81ff">0</span>), iconTransformation(origin = {<span style="color:#ae81ff">110</span>, <span style="color:#ae81ff">62</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#ae81ff">0</span>)));
  Modelica.Blocks.Interfaces.RealOutput Iy &#34;Output connector of I (Infectious)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#ae81ff">110</span>, <span style="color:#ae81ff">0</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#ae81ff">0</span>), iconTransformation(origin = {<span style="color:#ae81ff">110</span>, <span style="color:#ae81ff">0</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#ae81ff">0</span>)));
  Modelica.Blocks.Interfaces.RealOutput Ry &#34;Output connector of R (Removed)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#ae81ff">110</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">60</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#ae81ff">0</span>), iconTransformation(origin = {<span style="color:#ae81ff">110</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">60</span>} , extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#ae81ff">0</span>))));
  Modelica.Blocks.Interfaces.RealInput contact_rate &#34;Connector of infectious rate&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>), iconTransformation(origin = {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">120</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>}, {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>)));
  Modelica.Blocks.Interfaces.RealOutput Inew &#34;Output connector of New I(Infectious)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">60</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">110</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>), iconTransformation(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">60</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">110</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>)));
  Modelica.Blocks.Interfaces.RealOutput Rlive &#34;Output connector of R (Live)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#ae81ff">60</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">110</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>), iconTransformation(origin = {<span style="color:#ae81ff">60</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">110</span>) }, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>)));
  Modelica.Blocks.Interfaces.RealOutput Rdead &#34;Output connector of R (Dead)&#34; annotation(
    Placement(visible = true, transformation(origin = {<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">110</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>), iconTransformation(origin = {<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">110</span>) }, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>}, {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>}}, rotation = <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>)));
initial equation
  Sy = Si;
  Iy = Ii;
  Ry = Ri;
  Rdead = <span style="color:#ae81ff">0</span>;
equation
  der(Sy) = (<span style="color:#f92672">-</span>contact_rate <span style="color:#f92672">*</span> Sy <span style="color:#f92672">*</span> Iy) <span style="color:#f92672">+</span> Rlive <span style="color:#f92672">*</span> reinfect_rate;der(Iy) = contact_rate <span style="color:#f92672">*</span> Sy <span style="color:#f92672">*</span> Iy<span style="color:#f92672">-</span>Iy <span style="color:#f92672">*</span> gamma_const;
  der(Ry) = Iy <span style="color:#f92672">*</span> gamma_const<span style="color:#f92672">-</span>Rlive <span style="color:#f92672">*</span> reinfect_rate;
  Inew = contact_rate <span style="color:#f92672">*</span> Sy <span style="color:#f92672">*</span> Iy;
  der(Rdead) = Iy <span style="color:#f92672">*</span> gamma_const <span style="color:#f92672">*</span> dying_rate;
<span style="color:#f92672">//</span> der(Rdead) = der(Ry) <span style="color:#f92672">*</span> dying_rate;
  Rlive = Ry<span style="color:#f92672">-</span>Rdead;
  annotation(
    Diagram,
    Icon(coordinateSystem(initialScale = <span style="color:#ae81ff">0.1</span>), graphics = {Text(origin = {<span style="color:#f92672">-</span><span style="color:#ae81ff">62</span>, <span style="color:#ae81ff">53</span>}, extent = {{<span style="color:#f92672">-</span><span style="color:#ae81ff">52</span>, <span style="color:#ae81ff">29</span>}, {<span style="color:#ae81ff">174</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">133</span>}}, textString = &#34;SIR<span style="color:#f92672">\</span>nReI&#34;)} ));
<span style="color:#66d9ef">end</span> cl_SIRreinfect;
</code></pre></div><h2 id="simulation-result-including-mortality-rate-and-reinfection-rate">Simulation result including mortality rate and reinfection rate</h2>
<h3 id="simulate-only-mortality">Simulate only mortality</h3>
<p>Create a model mdl_SIRmodel_reinfect using the cl_SIRreinfect you created and simulate it.
No vaccine is used here.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/0bb5a017-fe0b-a33b-ff54-e8bfa98306da.png" alt="20_SIR_full_model.png"></p>
<p>For clarity, the mortality rate is set to a fairly high 20% and simulated.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/519864f7-7044-8d6a-73ca-51efa4912d0b.png" alt="21_SIR_full_model_prm.png"></p>
<p>As a result, the number of deaths has converged to about 18% of the total.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/09a6b350-6f6e-605d-e939-766f0104b96a.png" alt="22_SIR_full_dead_graph.png"></p>
<h3 id="simulate-only-reinfection-rate">Simulate only reinfection rate</h3>
<p>Next, let&rsquo;s try simulation with a model in which only the reinfection rate is set.
Try a higher reinfection rate of 1%.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/9d394bfe-831f-4165-0072-57a893dec5ba.png" alt="23_SIR_full_model_prm.png"></p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/f1cc7104-bd1d-766b-c5e4-0c00fb8f5738.png" alt="24_SIR_full_reinfect_graph.png"></p>
<p>In the simulation up to 100 days, the number of people who can be infected continues to increase and we cannot see what will happen in the future. When simulated up to 500 days, S, I, and R gradually oscillate and gradually converge.
Looking at I (the number of infected people), you can see that there are 2nd and 3rd waves.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/d5475a0f-b803-777f-19a5-7f215a76e797.png" alt="25_SIR_full_reinfect_graph.png"></p>
<h3 id="try-setting-both-mortality-and-reinfection-rates">Try setting both mortality and reinfection rates</h3>
<p>Try setting the above two parameters at the same time.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/994cdc84-1177-e696-3ea4-72359592193b.png" alt="28_SIR_full_model_prm.png"></p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/620386/a1828554-019b-92a3-8c48-e6a2d44c50d1.png" alt="29_SIR_full_reinfect_graph.png"></p>
<ul>
<li>
<ul>
<li>(Recorrected on May 13, 2020)
A simulation showed that the number of deaths gradually increased while re-infection, and about 59% died, and the number of people who could be infected increased while I (infected person) and RLive (survival recovery person) converged to zero. Converging to less than 40%.
It should be a mathematical formula, but it feels different from an intuitive graph.
If you have any problems with how to formulate the formula, please let us know.</li>
</ul>
</li>
</ul>
<p>#Summary
By modeling with OpenModelica, I think it was easy to add elements to the basic SIR model little by little and perform simulation.
In reality, both the mortality rate and reinfection rate are expected to be lower by an order of magnitude than in this simulation, but if more accurate actual data are obtained, it may be possible to identify the parameters.</p>
<h1 id="related-article">Related article</h1>
<p><a href="https://qiita.com/nobby-n/items/48803407f67f62b2c8f9">Implement the mathematical model &ldquo;SIR model&rdquo; of infectious diseases with OpenModelica</a>
<a href="https://qiita.com/nobby-n/items/87b7d6eb470c2c54e167">Implementation of mathematical model of infectious disease &ldquo;SIR model&rdquo; with OpenModelica (see effect of vaccine)</a>
<a href="https://qiita.com/kotai2003/items/3078f4095c3e94e5325c">Introduction of mathematical prediction model of infectious disease (SIR model)</a></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
