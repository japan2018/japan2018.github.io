<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Raspberry Pi | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Raspberry Pi</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 7, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/adventcalendar">AdventCalendar</a></code></small>


<small><code><a href="https://memotut.com/tags/raspberrypi">RaspberryPi</a></code></small>


<small><code><a href="https://memotut.com/tags/hands-on">Hands-on</a></code></small>

</p>
<pre><code>#00 Introduction
</code></pre>
<p>*This article is the 7th day of <a href="https://qiita.com/advent-calendar/2019/kindai">Kinki University Advent Calendar 2019</a>.
*Basically, it is written for college students.</p>
<ul>
<li>This time, I will write on the assumption that RaspberryPi ZeroW which is cheap and suitable for trying is used, but you can do it with the same procedure for other RaspberryPi.
*I rushed into some of the guys who were carrying a classmate who loves JavaScript. Gomenne</li>
</ul>
<p>By the way, haven&rsquo;t you heard of <b>RaspberryPi</b>?
Well, there is.</p>
<p>&ldquo;I don&rsquo;t know the electronic circuit&hellip;&rdquo;</p>
<p>I think that there are quite a few people who have never tried it because of something.
Why, <del>If you spend your usual Christmas alone</del>, why not give it a try?
Of course, I think it&rsquo;s an ant after waiting for the Raspberry Pi4.</p>
<p>#01 buy
You there are really lucky. Because it&rsquo;s the closest to Kinky University, from Nagase Station to Nihonbashi, if I use Kintetsu, it&rsquo;s going to Nihonbashi right now.
<img width="880" alt="Screenshots 2019-12-04 15.01.02.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/450615/90097940-3112-d085-22ac-67cd98ebfdab.png"></p>
<p>Almost all stock is available at Silicon House, Digit, Sengoku Densho, and Marutsu Parts, so it&rsquo;s easier to buy a set of cables for beginners. maybe&hellip;
We recommend the cheaper <b>RaspberryPi ZeroW (need to be soldered)</b> or <b>RaspberryPi ZeroWH (pinned)</b> to try.</p>
<p>If you can&rsquo;t buy it, you can buy it at the Internet.
<a href="https://raspberry-pi.ksyic.com/">Raspberry Pi Shop by KSY</a>
<a href="https://www.switch-science.com/">SWITCHSCIENCE</a></p>
<p>I realized I lost the Raspberry Pi from the time I was writing this, so I rushed to find it.
I was fighting the garbage room for an hour. Clean it.</p>
<p>#02 Introduction</p>
<p>Various articles are written here, so I will write easily.
If you google it, it will be a big hit.</p>
<h2 id="format-sd-card">Format SD card</h2>
<p>Preparation before burning the OS.
For formats other than FAT16 and FAT32, it is necessary to make them compatible formats in a slightly different way from the normal formats.
Please format by referring to the following site.
<a href="https://www.fabshop.jp/%5Bstep-02%5DFormatofmicrosdcardusedforraspberry-pi/">FabShop [step-02] Format of microSD card used for raspberry-pi</a></p>
<h2 id="burn-the-os-to-the-raspberry-pi-you-bought">Burn the OS to the Raspberry Pi you bought</h2>
<p>This time I bake Raspbian, which is commonly used for Raspberry Pi.</p>
<p>&ldquo;Is the installed version that came with the starter set useless?&rdquo;</p>
<p>Is useless.
Raspbian, which comes with what&rsquo;s called a starter kit, is surprisingly old.
I also bought a new SD for a few hundred yen as I don&rsquo;t have enough capacity.
Something like this. (I&rsquo;m not Affi!)
<a href="https://www.amazon.co.jp/dp/B07DJ17CKQ/ref=twister_B07RW7DVKL?_encoding=UTF8&amp;psc=1">Amazon-Team microSDHC card 16GB</a></p>
<p>The Raspberry Pi does not recognize it as having a bad compatibility with the SD card at worst.
Before you buy it, let&rsquo;s check if the SD card can be used. (Roughly there are reviews.)</p>
<p><del>Maybe</del> It&rsquo;s OK if you choose the most recent one.
Download ZIP from the site below, unzip it, and load it into SD.
<a href="https://www.raspberrypi.org/downloads/raspbian/">RaspberryPi.org</a>
<img width="985" alt="Screenshots 2019-12-03 11.16.10.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/450615/8b977bf0-c9ce-30ee-e419-c72171c9cae9.png"></p>
<p>When this is done, put the baked SD on the Raspberry Pin and start it.
Let&rsquo;s inscote Raspbian after starting.</p>
<h2 id="fix-local-ip">Fix local IP</h2>
<ol>
<li>Check the Raspberry Pin address by doing <code>ifconfig</code> in the terminal.</li>
<li>Edit in <code>sudo nano /etc/dhcpcd.conf</code>.</li>
</ol>
<pre><code class="language-conf:/etc/dhcpcd.conf" data-lang="conf:/etc/dhcpcd.conf">interface wlan0
static ip_address=192.168.xxx.xxx
static routers=192.168.yyy.yyy
static domain_name_servers=192.168.zzz.zzz
</code></pre><p>ip_address is the IP address you want to set
routers is the IP address of the router
domain_name_servers sets the IP address of the DNS server.</p>
<ol start="3">
<li>Do <code>sudo service dhcpcd reload</code> (it should be possible without it, try it if not)
4.<code>sudo reboot</code> reboot</li>
<li>Confirm that the settings are reflected with <code>ifconfig</code></li>
</ol>
<p>By the way, if you do this with ssh, it will stop at number 3-4 (obviously), but please try ssh again with the IP address you set for the time being.
##ssh settings</p>
<p>1.<code>sudo touch /boot/ssh</code>
2. After rebooting, an alert will be displayed, but &ldquo;OK&rdquo;, then the menu at the top of the screen → &ldquo;Settings&rdquo; → &ldquo;Settings for Raspberry Pi&rdquo;
3. In the &ldquo;Interface&rdquo;, set SSH to &ldquo;Enabled&rdquo;.</p>
<p>That&rsquo;s it!</p>
<p>If you do <code>ssh pi@192.168.xxx.xxx</code> in the MacBook terminal,
You will be prompted for a password, so enter the default password <code>raspberry</code>.</p>
<p>The default user name <code>pi</code> and password <code>raspberry</code> can be changed later.
After changing, do <code>ssh USERNAME@192.168.xxx.xxx</code> and enter <code>PASSWORD</code>.</p>
<p>#03 Link with VScode
Since I don&rsquo;t like nano or vi all the time, I will edit it directly on the Raspberry Pi with VScode.</p>
<p>Use SSH FS, which allows you to ssh with VScode and edit the workspace.
<a href="https://marketplace.visualstudio.com/items?itemName=Kelvin.vscode-sshfs">https://marketplace.visualstudio.com/items?itemName=Kelvin.vscode-sshfs</a></p>
<p>How to use is as per the site, just enter the set IP address and password for ssh.
Then select Connect as Workspace folder,
<img width="583" alt=" screenshot 2019-12-06 15.24.42.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/450615/fb0dbb91-b98e-a3eb-aa24-ae40ef17aad1.png"></p>
<p>Waiting for a connection,
<img width="485" alt="Screenshots 2019-12-07 1.25.32.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/450615/1b460459-9573-041a-028a-d87b9d088445.png"></p>
<p>It looks like this.
Reloading is required every time there is a movement in the file such as file creation and deletion.</p>
<p>#04 GPIO pin control
<del>Because of the supermarket that runs into a bite even if I have a cold</del> I don&rsquo;t have time to write, so I will write GPIO pin control.</p>
<p>Use the RPI.GPIO package to control GPIO pins in Python.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#f92672">import</span> RPi.GPIO <span style="color:#f92672">as</span> GPIO
</code></pre></div><p>Please give it a name you like.</p>
<p>There are two ways to express the GPIO number, which are the GPIO pin number and the board pin number.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">GPIO<span style="color:#f92672">.</span>setmode(GPIO<span style="color:#f92672">.</span>BCM)<span style="color:#75715e">#GPIO number specification</span>
GPIO<span style="color:#f92672">.</span>setmode(GPIO<span style="color:#f92672">.</span>BOARD)<span style="color:#75715e"># Specify board pin number</span>
</code></pre></div><p>Please choose the one that is easy for you.
This time, I used the GPIO number.</p>
<p>Next, set whether the pin is an input or an output.
The pin you want to control is pin 17, so</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
GPIO<span style="color:#f92672">.</span>setup(<span style="color:#ae81ff">17</span>, GPIO<span style="color:#f92672">.</span>IN)<span style="color:#75715e"># input</span>
GPIO<span style="color:#f92672">.</span>setup(<span style="color:#ae81ff">17</span>, GPIO<span style="color:#f92672">.</span>OUT)<span style="color:#75715e"># output</span>
</code></pre></div><p>For output, the voltage from the Raspberry Pi is 3.3V and can be set to 0 and 1.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
GPIO<span style="color:#f92672">.</span>output(<span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">1</span>)<span style="color:#75715e"># Set output to 3.3V</span>
</code></pre></div><p>This will output 3.3V on pin 17.
To set the output to 0V,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
GPIO<span style="color:#f92672">.</span>output(<span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">0</span>)<span style="color:#75715e"># Set output to 0V</span>
</code></pre></div><p>Turn off the GPIO pin setting when the program ends.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
GPIO<span style="color:#f92672">.</span>cleanup()
</code></pre></div><p>#05L Chika</p>
<p>Based on these, I will introduce an example.</p>
<p>There are Hello, World-like things in the world of electronic work.
That is L Chika.</p>
<p>It&rsquo;s not interesting, and some people just skip the LED because it&rsquo;s just flashing, but I wonder if it&rsquo;s worth doing it once.
It is surprisingly interesting to try it for the first time when your program is output as light, not at the terminal.</p>
<p>&ldquo;I can&rsquo;t find that LED&hellip; I should have bought it in Akizuki????&rdquo;</p>
<p>~after 2h~</p>
<p>&ldquo;there were!&rdquo;
I searched a lot so I want you to praise me. Clean it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:lchika.py" data-lang="python:lchika.py"><span style="color:#75715e">#!/usr/bin/python</span>
<span style="color:#75715e"># coding: utf-8</span>

<span style="color:#f92672">import</span> RPi.GPIO <span style="color:#f92672">as</span> GPIO
<span style="color:#f92672">import</span> time

GPIO<span style="color:#f92672">.</span>setmode(GPIO<span style="color:#f92672">.</span>BCM)<span style="color:#75715e">#GPIO number specification</span>

GPIO<span style="color:#f92672">.</span>setup(<span style="color:#ae81ff">17</span>, GPIO<span style="color:#f92672">.</span>OUT)<span style="color:#75715e"># output</span>

<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
    GPIO<span style="color:#f92672">.</span>output(<span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">1</span>)<span style="color:#75715e"># Set output to 3.3V</span>
    time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.5</span>)
    GPIO<span style="color:#f92672">.</span>output(<span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">0</span>)<span style="color:#75715e"># Set output to 0V</span>
    time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.5</span>)

GPIO<span style="color:#f92672">.</span>cleanup() <span style="color:#75715e">#Reset GPIO pin settings</span>
</code></pre></div><p>Write and save.</p>
<pre><code>$ ./lchika.py
</code></pre><p>If you execute with, the LED will blink 10 times.
(The first big Raspi AA tampered with the .bash_profile. It should be clear when you ssh!)</p>
<p>Please see the result by jumping to youtube with the image link below.<a href="http://www.youtube.com/watch?v=I7H5wjy4Wvw"><img src="http://img.youtube.com/vi/I7H5wjy4Wvw/0.jpg" alt="L Chika"></a></p>
<p>By the way (obviously, iTerminal).
<img width="375" alt="IMG_3178.PNG" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/450615/75b1d74e-65ab-2a01-8d6d-360385d5531e.png"></p>
<p>#at the end
Isn&rsquo;t this hands-on? .. ..
Please forgive me for this article on the 7th day of adcare. .. .. Forgive me. .. ..
Since I am not satisfied with the way I am, I will set 2 without ad relation.
Now that I have completed the basic control of GPIO pins, I&rsquo;ll play with a slightly interesting tool for Razpi next time.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
