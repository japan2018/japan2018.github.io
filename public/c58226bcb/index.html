<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Memo about using Colab Pro for about 2 months (good point / bad point) | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Memo about using Colab Pro for about 2 months (good point / bad point)</h1>
<p>
  <small class="text-secondary">
  
  
  May 14, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/python3">Python3</a></code></small>


<small><code><a href="https://memotut.com/tags/googledrive">GoogleDrive</a></code></small>


<small><code><a href="https://memotut.com/tags/jupyter-notebook">Jupyter-notebook</a></code></small>


<small><code><a href="https://memotut.com/tags/colaboratory">colaboratory</a></code></small>

</p>
<pre><code># What is Google Colaboratory
</code></pre>
<p>A free Jupyter Notebook environment where you can write and run Python code in your browser.
There are restrictions on use, but you can also use the GPU.</p>
<h1 id="colab-pro">Colab Pro</h1>
<p>A paid version ($9.99/month) of Google Colaboratory. There are various advantages over the regular version.
Currently US only (contract requires US address and credit card).</p>
<p>Since I live in the United States, I signed up for Colab Pro at the same time as Launch. I&rsquo;ve been using it for about two months, and I&rsquo;ve been able to get a feel for it, so I&rsquo;ll leave the know-how as a memo. Based on the <a href="https://colab.research.google.com/signup">official text</a>,IwillwriteabouttheactualfactItried(althoughN=1).</p>
<p>**Information as of May 13, 2020. **
Since this service is not resource-guaranteed, the resources allocated to users change dynamically. So if the time is different or the area is different, it can be completely useless information (for example, when the service is started in Japan). Please be careful.</p>
<h1 id="good-point">good point</h1>
<h2 id="high-performance-gpu-is-basically-allocated-all-the-time">High-performance GPU is basically allocated all the time</h2>
<blockquote>
<p>Register with Colab Pro to get the fastest GPU priority. For example, a T4 or P100 GPU is available to registered users when a non-registered user is assigned a K80 GPU. TPU can also be used with priority.</p>
</blockquote>
<p>In my case, Tesla-P100 was assigned by default (I haven&rsquo;t hit T4 once in two months), but no matter how hard I use GPU, it is not Tesla-P100. Was never assigned. Specifically, I&rsquo;ve been spinning GPUs (on one notebook) for almost a month for machine learning applications, but it was fine.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215987/acfb8e66-4e75-d78e-c398-9f9902949d77.jpeg" alt="colab3_s.jpg"></p>
<h2 id="you-dont-have-to-worry-about-the-usage-limit-you-can-run-the-gpu-on-multiple-notebooks-at-the-same-time">You don&rsquo;t have to worry about the usage limit, you can run the GPU on multiple notebooks at the same time</h2>
<blockquote>
<p>The free version of Colab has significantly limited access to faster GPUs, and has a much lower usage cap than Colab Pro. Colab Pro is not without usage caps. Also, the GPU and TPU types available in Colab Pro may change in the future.</p>
</blockquote>
<p>In the standard version, the usage limit was reached immediately after using the GPU to some extent, but it has almost disappeared in Pro.
However, I also confirmed that there is no upper limit for usage. If I was running the GPU on 4 notebooks at the same time, it took about half a day, and the GPU itself became unusable with the warning below that the upper limit was reached.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215987/dec21426-f1ac-0442-0a32-6176e80dee7a.jpeg" alt="colab_0420.jpg">
(I was recommended to join Colab Pro even though I already use Colab Pro).</p>
<p>However, if we didn&rsquo;t use such extreme usage, we would never reach the upper limit even if we operated in parallel. By the way, even if the usage limit was reached, it could be used within a few hours. The GPU has also been reassigned the Tesla P100. So you don&rsquo;t have to be so scared.</p>
<h2 id="it-can-be-run-continuously-for-24-hours-and-timeout-does-not-easily-occur">It can be run continuously for 24 hours, and timeout does not easily occur</h2>
<blockquote>
<p>With Colab Pro, you can keep your notebook connected for up to 24 hours, with relatively less idle timeouts. However, connection time is not guaranteed and idle timeout behavior may change. With the free version of Colab, you can use your notebook for up to 12 hours. Idle timeouts are much stricter than Colab Pro.</p>
</blockquote>
<p>The regular version has increased from 12 hours to 24 hours. It is quite important here when turning a little heavy processing. It takes about a day to complete the study, but when it comes to resuming the study that has stopped each time, it is sometimes good, but with each and every one, it will wither. So far, as long as the processing was running, it did not stop halfway before 24 hours passed, I remember that it was quite stopped in the normal version.</p>
<p>Idle timeout, that is, the time that the runtime will be disconnected when you do not interact with the notebook (such as when you close the notebook), but it feels like it&rsquo;s a long time, but it&rsquo;s also annoying. In Pro, it seems that it cuts off after about 30 minutes, it seems that it was cut earlier in the normal version, but it may be due to my worries (I learned that Colab has a 90-minute rule. I feel like I haven&rsquo;t had it for 90 minutes.</p>
<h2 id="large-memory-available">Large memory available</h2>
<blockquote>
<p>Colab Pro gives you the priority of high memory VMs. High memory VMs typically have twice the memory and CPU of Colab&rsquo;s standard VMs. Colab Pro users can enable the use of high memory VMs from their notebook settings. It may also automatically allocate a high memory VM if Colab determines it is needed. However, resources are not guaranteed and high memory VMs have a usage limit. In the free version of Colab, high memory settings are not available and users are rarely automatically allocated a high memory VM</p>
</blockquote>
<p>Certainly, I was able to easily set the high memory VM (27G) with one click. It&rsquo;s easy (note that it can&rsquo;t be assigned unless you set it like the GPU). So far, we have never reached the upper limit on memory usage.
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/215987/58bca381-2117-5fd8-cdec-a22afcd72ab7.png" alt="image.png"></p>
<h2 id="cheap-price">Cheap price</h2>
<p>Unlimited use of high-performance GPU for $9.99/month. I thought Cospa would be great because it would be quite expensive if I tried to make a VM with the same configuration with GCP.</p>
<h1 id="i-dont-like-it">I don&rsquo;t like it</h1>
<p>Since Colab Pro is not inferior to the regular version, it is mainly about Colab itself.</p>
<h2 id="poor-editor-and-debug-environment">Poor editor and debug environment</h2>
<p>The editor for editing files other than Colab notebooks (.py etc.) can only be Colab&rsquo;s standard memo pad or a dubious cloud editor that can be used by linking with Google service. Painful. Debugging is done by making full use of magic commands (<a href="https://en.stackoverflow.com/questions/62955/google-colaboratory%E3%81%A7%E3%81%AE%E3%83%87%25">https://en.stackoverflow.com/questions/62955/google-colaboratory%E3%81%A7%E3%81%AE%E3%83%87%</a> E3%83%90%E3%83%83%E3%82%B0%E3%81%AE%E3%82%84%E3%82%8A%E6%96%B9) .. Large programs that need a proper debugger may not be suitable for handling in Colab.</p>
<p>I don&rsquo;t play around with module level code on Colab. Before I run it on Colab by coding and light debugging in a local environment, I run git push, run <code>!git pull</code> every time in the execution cell of the Colab nodebook, and run it with the latest version of the code.</p>
<h2 id="sync-with-google-drive-may-be-delayed">Sync with Google Drive may be delayed</h2>
<p>This is a complex problem of cooperation between services rather than Colab, but the synchronization timing between the file on Google Drive and Colab may be out of sync. Specifically, it may not be synchronized until you edit a script such as .py and execute it, and the edited contents may not be reflected. It is often dangerous to drag bugs. This is also one of the disadvantages of writing code on Colab or Google Drive.</p>
<h2 id="if-you-generate-a-large-file-on-google-drive-in-a-short-time-a-problem-may-occur">If you generate a large file on Google Drive in a short time, a problem may occur.</h2>
<p>This is completely a problem on Google Drive side, but if a large amount of large amount of data is generated in a short period of time (Checkpoint in machine learning, etc.), it will not be possible to generate a file for a certain period of time on Google Drive (save and upload are also impossible. The phenomenon happened frequently. The feeling was that it would occur at over 100M per minute. Once the file couldn&rsquo;t be created, it remained in that state for several hours, which caused a lot of trouble in my work. So I needed to avoid generating a large amount of data in a short period of time.</p>
<h2 id="expiration-in-24-hours-without-any-questions">Expiration in 24 hours without any questions</h2>
<p>Compared to 12 hours, the experience is quite different, but after all it is troublesome to cut off in the middle. It is easier to implement a mechanism that allows you to stop thinking and resume learning.</p>
<h2 id="processing-may-stop-if-the-network-is-unstable">Processing may stop if the network is unstable</h2>
<p>It&rsquo;s a completely local issue, but it will stop working after a while if the network is disconnected and the notebook loses its connection. As mentioned above, this idle timeout time is also longer than the normal version, but I can not understand it by experience. It is the impression that it stops until you notice it and return immediately. I personally have an unstable line in my house, so before going to bed, etc., I remotely enter a PC with a stable line and open a notebook (I feel like what I am doing is amazing. is).</p>
<h2 id="can-only-be-used-in-the-us">Can only be used in the US</h2>
<p>I would like you to start the service in Japan (strong request).</p>
<p>#Summary
It was a memo of Colab Pro.
We will update any additional information or changes.
Since it is possible for each user to have a different situation, we would appreciate it if you could give us information (too little information).
Please let us know if you have any effective use of Colab.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
