<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Simple simulation of virus infection | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Simple simulation of virus infection</h1>
<p>
  <small class="text-secondary">
  
  
  Apr 11, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/javascript"> JavaScript</a></code></small>


<small><code><a href="https://memotut.com/tags/simulation"> simulation</a></code></small>


<small><code><a href="https://memotut.com/tags/corona"> corona</a></code></small>


<small><code><a href="https://memotut.com/tags/covid-19"> COVID-19</a></code></small>

</p>
<pre><code>## Introduction
</code></pre>
<p>The following article was published in the Washington Post of March 14, 2020.</p>
<ul>
<li>***Why outbreaks like coronavirus spread exponentially, and how to “flatten the curve”***<br>
<a href="https://www.washingtonpost.com/graphics/2020/world/corona-simulator/">https://www.washingtonpost.com/graphics/2020/world/corona-simulator/</a></li>
</ul>
<p>The Japanese version is below.</p>
<p>*** Why outbreaks such as coronaviruses can grow so fast and how to &ldquo;flatten the curve&rdquo; ***<br>
<a href="https://www.washingtonpost.com/graphics/2020/health/corona-simulation-japanese/">https://www.washingtonpost.com/graphics/2020/health/corona-simulation-japanese/</a></p>
<p>Using the simple principle of contact between balls,
In an article that introduced how the number of people infected with the virus will increase and decrease,
I think it was very easy to understand.</p>
<p>By the way, some people have reproduced it with Python (Jupyter Lab).</p>
<p>*** I tried to make COVID19_simulator with JupyterLab ***<br>
<a href="https://qiita.com/yasubei/items/ca48528daac456e339d3">https://qiita.com/yasubei/items/ca48528daac456e339d3</a></p>
<h2 id="i-made-it-myself">I made it myself</h2>
<p>By the way, I am&hellip;</p>
<p>I wanted to operate various parameters and try to simulate it myself,
In order to make the process lighter, ignore the rebound when the ball collides and consider the overlapping of the balls as an infection,</p>
<p>*** I made a Python version (using module pygame) *** and a ***HTML &amp; JavaScript version ***.</p>
<ul>
<li>
<p>*** Python 3 version ***
<a href="https://github.com/NobuyukiInoue/CountBallsOverlap_by_Python3">https://github.com/NobuyukiInoue/CountBallsOverlap_by_Python3</a></p>
</li>
<li>
<p>***HTML &amp; JavaScript version ***
<a href="https://github.com/NobuyukiInoue/CountBallsOverlap_by_JavaScript">https://github.com/NobuyukiInoue/CountBallsOverlap_by_JavaScript</a></p>
</li>
</ul>
<p>Both are basically the same processing, but there are differences in the drawing mechanism,
The JavaScript version running on a web browser is considerably faster than the Python version.</p>
<p>Since the initial position and the amount of movement of the ball are determined using random numbers, the execution result changes every time.
The first infected ball is the only ball on the left side of all balls.</p>
<p>If the default parameters (300 balls),
The Python version will take about 10 to 15 seconds, and the JavaScript version will take about 5 to 10 seconds.</p>
<p>One movement and drawing of all balls is called a turn,</p>
<ul>
<li>Screen size (width, height)</li>
<li>Number of balls</li>
<li>Ball radius</li>
<li>Display weight</li>
<li>Number of turns required to recover</li>
<li>Number of turns to recover</li>
<li>Presence/absence of wall (bar) that blocks the room and size (width, height)</li>
<li>Percentage of balls that have stopped moving</li>
</ul>
<p>You can freely specify such as.</p>
<p>While running,</p>
<ul>
<li>Uninfected ball: blue</li>
<li>Infected ball: red</li>
<li>Recovered ball: green</li>
</ul>
<p>Is displayed at the bottom of the screen,
A graph showing the number of infected balls and the number of recovered balls changes,
It is displayed in real time.</p>
<p>If you want to see the movement slowly, try increasing the display weight.</p>
<p>Even under the same conditions, the results will be different each time, so
It may be interesting to repeat the execution many times and check the appearance ratio of the drawn chart.</p>
<h2 id="demo">Demo</h2>
<p>The HTML &amp; JavaScript version is also placed at the following URL, and anyone can execute it.
It is a good idea to play with various parameters.
(You can do it from your smartphone.)</p>
<ul>
<li>HTML &amp; JavaScript version demo page (CountBallsOverlap) <br>
<a href="https://www.asahi-net.or.jp/~gx3n-inue/apps/CountBallsOverlap/index.html">https://www.asahi-net.or.jp/~gx3n-inue/apps/CountBallsOverlap/index.html</a></li>
</ul>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/262326/8902b165-b0b2-4b47-3ae1-4245769d2b31.png" alt="ScreenShot.png"></p>
<h2 id="20200425-addendum">2020/04/25 Addendum</h2>
<p><em><strong>IHASHI28 Education ch.</strong></em> also showed an example of simulation result in the video.</p>
<ul>
<li>Why should I refrain from self-control? Verification of the effect of self-restraint by simulation of new coronavirus (COVID-19) infection <br>
<a href="https://www.youtube.com/watch?v=5iDxtLxb9Yw&amp;feature=youtu.be&amp;fbclid=IwAR0mSFd__yVD20t7h3VI5l_kVVaxXEntoAn1GJCopz4NsqDk3G76ia2Wkp4">https://www.youtube.com/watch?v=5iDxtLxb9Yw&amp;feature=youtu.be&amp;fbclid=IwAR0mSFd__yVD20t7h3VI5l_kVVaxXEntoAn1GJCopz4NsqDk3G76ia2Wkp4</a></li>
</ul>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
