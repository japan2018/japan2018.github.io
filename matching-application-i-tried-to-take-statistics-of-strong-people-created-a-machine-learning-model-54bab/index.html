<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Matching application I tried to take statistics of strong people &amp; created a machine learning model | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Matching application I tried to take statistics of strong people &amp; created a machine learning model</h1>
<p>
  <small class="text-secondary">
  
  
  Nov 8, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/scikit-learn"> scikit-learn</a></code></small>


<small><code><a href="https://memotut.com/tags/pandas"> pandas</a></code></small>


<small><code><a href="https://memotut.com/tags/statistics"> statistics</a></code></small>


<small><code><a href="https://memotut.com/tags/matching-services"> matching services</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>Hello everyone.</p>
<p>Do you use a matching app? !
I feel good as one of those who have recently matched with a matching app.</p>
<p>By the way, the matching app I was using was able to refer to the data of other popular members.
(Probably people who have received more than 100 like are displayed.)</p>
<p>When I saw it, I was disappointed.</p>
<p>&ldquo;Like, I didn&rsquo;t get 100&hellip;&rdquo;
** &ldquo;I want to be a man who exceeds 100&rdquo; **</p>
<p>I thought so strongly.</p>
<p>At the same time, how can you become a “more than 100 man”?
I tried to analyze the data with that thought.</p>
<p>#Data collection
*I understand that there is no problem due to the revision of the copyright law for machine learning.
*Data science is a damn beginner. There may be a mistake.</p>
<p>We manually input other member data (full use of Google Document transcription) and collected about 60 data.</p>
<p>The data of other members that were displayed were those who were close to my age of 32.
Since then, I am using the data as 30 years old.</p>
<p>#Analysis
The data collected steadily was analyzed using the Python library.</p>
<p>###Feature value
For the feature amount, we used the following selected from among the input items.</p>
<ul>
<li>Number of likes</li>
<li>Face (binary whether the photo shows the face or not)</li>
<li>blood type</li>
<li>Brothers and sisters</li>
<li>Educational background</li>
<li>School name (binary with or without input)</li>
<li>Job category</li>
<li>annual income</li>
<li>Height</li>
<li>Body type</li>
<li>Marriage history</li>
<li>Presence of children</li>
<li>Willingness to marry</li>
<li>Do you want children</li>
<li>Housework/childcare</li>
<li>Hope to meet</li>
<li>First date fee</li>
<li>Social</li>
<li>Housemate</li>
<li>Holiday</li>
<li>sake</li>
<li>tobacco</li>
<li>Name_alpha (binary whether name is all alphabet or not)</li>
</ul>
<p>** Among these, I would like to look at the relationship between the feature quantity and the number of Likes that everyone may be interested in. **</p>
<p>####annual income
Suddenly came annual income!
It&rsquo;s my annual income! Cusso!
(I&rsquo;m studying data science because I want to raise annual income, please give me 10 million)</p>
<p>So let&rsquo;s draw a scatter plot.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt
plt<span style="color:#f92672">.</span>scatter(data[<span style="color:#e6db74">&#39;annual income&#39;</span>], data[<span style="color:#e6db74">&#39;likes&#39;</span>], alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>)
<span style="color:#75715e">#data is a dataframe.</span>
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/182267/29e8a674-b42a-7df6-4867-e413cfbf32e3.png" alt="Download (71).png">
(Like number is like, horizontal is annual income)</p>
<p>** 【Discussion】 **
**The one with no 5 million is not a man. The monthly income of 140,000 yen is impossible. **
I feel like that is said.</p>
<p>Unexpected? The reason is that there is not much correlation between annual income and the number of likes.
(The higher the price, the more like doesn&rsquo;t it)</p>
<p>When I actually put out the correlation coefficient&hellip;</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#34;x&#34;</span>:data[<span style="color:#e6db74">&#39;annual income&#39;</span>], <span style="color:#e6db74">&#34;y&#34;</span>:data[<span style="color:#e6db74">&#39;likes&#39;</span>]})<span style="color:#f92672">.</span>corr()
</code></pre></div><pre><code class="language-corr:" data-lang="corr:">         x y
x 1.00000 -0.06363
y -0.06363 1.00000
</code></pre><p>It can be said that there is almost no correlation.</p>
<p>People who get a lot of likes are likely to have something other than their annual income.
(*Limited to 5 million or more)</p>
<p>Which other features are related? Let&rsquo;s take a closer look.</p>
<h4 id="educational-background">Educational background</h4>
<p>The selection values as educational background were as follows.
College/College/College graduate | High school graduate | University graduate | Graduate graduate |</p>
<p>It&rsquo;s hard to handle in Japanese, so</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
data[<span style="color:#e6db74">&#39;education&#39;</span>] <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;education&#39;</span>]<span style="color:#f92672">.</span>replace({<span style="color:#e6db74">&#39;Junior college/vocational school/college graduate&#39;</span>: <span style="color:#ae81ff">0</span> ,<span style="color:#e6db74">&#39;High school graduate&#39;</span>: <span style="color:#ae81ff">1</span>, ,<span style="color:#e6db74">&#39;College graduate&#39;</span>: <span style="color:#ae81ff">2</span> ,<span style="color:#e6db74">&#39;Graduate graduate&#39;</span>: <span style="color:#ae81ff">3</span> ,<span style="color:#e6db74">&#39; Others&#39;</span>:<span style="color:#ae81ff">4</span>})
</code></pre></div><p>Label encoding was done in the form.</p>
<p>Let&rsquo;s draw a scatter plot in this form and see.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
plt<span style="color:#f92672">.</span>scatter(data[<span style="color:#e6db74">&#39;educational&#39;</span>], data[<span style="color:#e6db74">&#39;likes&#39;</span>], alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>)
</code></pre></div><p>result&hellip;
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/182267/f5c30a3d-36fe-4a3a-42c3-eeabff7a462f.png" alt="Download (74).png">
(I&rsquo;m sorry I didn&rsquo;t adjust the scale.)</p>
<p>&lsquo;Junior college/Vocational school/College graduate&rsquo;: 0 ,&lsquo;High school graduate&rsquo;: 1 ,&lsquo;College graduate&rsquo;: 2 ,&lsquo;Graduate graduate&rsquo;: 3 ,&lsquo;Other&rsquo;: 4
is.</p>
<p>** After all, there are more than college. .. .. **</p>
<p>Here, instead of the correlation coefficient,,, and, in this case, the relation between the quantitative variable and the qualitative variable, the correlation ratio is calculated.
Educational qualifications cannot be quantified (a qualitative variable because I do not know how much there is a difference between university graduates and graduate school graduates), so I will investigate whether the results of the number of Likes are biased for each selected value.</p>
<pre><code class="language-python:" data-lang="python:">
def corr_ratio(x, y):
  variation = ((x-x.mean()) ** 2).sum()
  #print(&quot; variation&quot;, variation)
  inter_class = sum([((x[y == i]-x[y == i].mean()) ** 2).sum() for i in np.unique(y)])
  #print(&quot; inter_class&quot;, inter_class)
  return (inter_class / variation)

# Calculate correlation ratio
corr_ratio(data.loc[:, [&quot;Like&quot;&quot;].values, data.loc[:, ['educational']].values)
</code></pre><p>result</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#75715e">#0.8820459777290447</span>
</code></pre></div><p>There seems to be some correlation.</p>
<p>** 【Discussion】 **
<strong>At least you should be out of college</strong>
I feel like that is said.</p>
<p>####height
Can you forgive me even if it is low?
I don&rsquo;t want it to be like an annual income because I ask. .. ..</p>
<p>Let&rsquo;s try it now.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">Plot excluding <span style="color:#75715e"># NaN lines</span>
plt<span style="color:#f92672">.</span>scatter(data<span style="color:#f92672">.</span>loc[data[<span style="color:#e6db74">&#34;height&#34;</span>]<span style="color:#f92672">.</span>notnull()][<span style="color:#e6db74">&#34;height&#34;</span>], data<span style="color:#f92672">.</span>loc[data[<span style="color:#e6db74">&#34;height&#34;</span>]<span style="color:#f92672">.</span>notnull()][<span style="color:#e6db74">&#39;likes&#39;</span>], alpha<span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>)
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/182267/4f0f38df-2819-c513-f36a-e30820c0b07e.png" alt="Download (72).png"></p>
<p>&hellip;?</p>
<p>This makes it difficult to understand the distribution of height, so let&rsquo;s display it in a histogram.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">plt<span style="color:#f92672">.</span>hist(data[<span style="color:#e6db74">&#34;height&#34;</span>]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float32))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/182267/28b23146-fa59-52cb-1063-0fae64bc0a32.png" alt="Download (73).png">
(I&rsquo;m rolling with 5 cm.)</p>
<p>By the way, the average height of a Japanese man is about 170cm&hellip;
<strong>It’s unforgiving</strong></p>
<p>Let&rsquo;s get the correlation coefficient here as well.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#34;x&#34;</span>:data[<span style="color:#e6db74">&#39;height&#39;</span>]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float32), <span style="color:#e6db74">&#34;y&#34;</span>:data[<span style="color:#e6db74">&#39;like number&#39;</span>]})<span style="color:#f92672">.</span>corr()
</code></pre></div><pre><code class="language-corr:" data-lang="corr:">          x y
x 1.000000 0.073241
y 0.073241 1.000000
</code></pre><p>There is almost no correlation here either.</p>
<p>** 【Discussion】 **
<strong>I don&rsquo;t say 180cm but I want 175cm</strong>
I feel like that is said.</p>
<p>I 171cm&hellip;
<del>○ Neya seriously</del></p>
<h4 id="body-type">body type</h4>
<p>The body type options are as follows.
&lsquo;Slim&rsquo;: 0,&lsquo;Slightly thin&rsquo;: 1,&lsquo;Normal&rsquo;: 2,&lsquo;Muscular&rsquo;: 3,&lsquo;Slightly chubby&rsquo;: 4,&lsquo;Chunky&rsquo;: 5</p>
<p>Try to plot after replacing above</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">Plot excluding <span style="color:#75715e"># NaN lines</span>
plt<span style="color:#f92672">.</span>scatter(data<span style="color:#f92672">.</span>loc[data[<span style="color:#e6db74">&#34;body type&#34;</span>]<span style="color:#f92672">.</span>notnull()][<span style="color:#e6db74">&#34;body type&#34;</span>], data<span style="color:#f92672">.</span>loc[data[<span style="color:#e6db74">&#34;body type&#34;</span>]<span style="color:#f92672">.</span>notnull()][<span style="color:#e6db74">&#39;like number&#39;</span>], alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span> )
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/182267/f0ec6f57-7cec-d334-6b9e-0e0fa1f5505c.png" alt="Download (76).png">
(I&rsquo;m sorry I didn&rsquo;t adjust the scale again.)</p>
<p>Well, it looks like a normal distribution, or it seems that there are most people with normal body types and few others, so there seems to be no bias.</p>
<p>[2019/11/12 Added &ndash;]
I&rsquo;ll try again with a histogram.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">plt<span style="color:#f92672">.</span>hist(data_original[<span style="color:#e6db74">&#39;body type&#39;</span>]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float32))
</code></pre></div><p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/182267/abe97c27-8535-a273-f8d3-bda4669cc764.png" alt="Download (45).png">
(Scale ry)</p>
<p>The first is normal and the second is the most muscular.
[&ndash; 2019/11/12 update]</p>
<p>Next, let&rsquo;s calculate the correlation ratio.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#75715e"># Calculate correlation ratio</span>
corr_ratio(data<span style="color:#f92672">.</span>loc[:, [<span style="color:#e6db74">&#34;like count&#34;</span>]]<span style="color:#f92672">.</span>values, data<span style="color:#f92672">.</span>loc[:, [<span style="color:#e6db74">&#39;body&#39;</span>]]<span style="color:#f92672">.</span>values)
</code></pre></div><p>result</p>
<pre><code>0.9457908220700801
</code></pre><p>It&rsquo;s a pretty good number.
To be honest, the degree of reliability is unknown because there are few data, but the number of people is the most **Maybe normal or muscular. **</p>
<p>** 【Discussion】 **
<strong>Normal or muscular</strong>
Aim for normal figure</p>
<h4 id="here-and-there">Here and there&hellip;</h4>
<p>I think you could see most of your interests.
After that, I will try to make a number predictor of Like using machine learning.</p>
<h1 id="try-to-make-a-like-number-predictor">Try to make a like number predictor</h1>
<p>##Preprocessing
Labels were used in the regression, but for most items the numbers and their importance are not proportional.
For example, just because you replaced &ldquo;other&rdquo; with 4 as you did in your educational background, it doesn&rsquo;t mean that you are better than 3 &ldquo;university graduates,&rdquo; which is less than 4.</p>
<p>So this time I did frequency labeling.
I won&rsquo;t discuss frequency labeling here, but the more frequent it is, the higher the number.
(I think that it is quite valid considering the hypothesis that the choices of people with a large number of likes must be good.)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">labeling</span>(data):
  <span style="color:#66d9ef">for</span> column <span style="color:#f92672">in</span> data<span style="color:#f92672">.</span>columns:Avoid <span style="color:#75715e">#Likes as it is an objective variable. Height and annual income will be standardized later.</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> column <span style="color:#f92672">in</span> [<span style="color:#e6db74">&#39;Likes&#39;</span>,<span style="color:#e6db74">&#39;Heights&#39;</span>,<span style="color:#e6db74">&#39;Salary&#39;</span>]:
      <span style="color:#75715e">#size of each category</span>
      freq_encoding[column] <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>groupby(column)<span style="color:#f92672">.</span>size()
      <span style="color:#75715e">#get frequency of each category</span>
      freq_encoding[column] <span style="color:#f92672">=</span> freq_encoding[column]<span style="color:#f92672">/</span>len(data)
      <span style="color:#75715e">#print(encoding)</span>
      data[column] <span style="color:#f92672">=</span> data[column]<span style="color:#f92672">.</span>map(freq_encoding[column])
      freq_encoding[column] <span style="color:#f92672">=</span> freq_encoding[column]<span style="color:#f92672">.</span>to_dict()
  <span style="color:#66d9ef">return</span> freq_encoding, data

<span style="color:#75715e">#freq_encoding will be used again for frequency labeling of future expected data.</span>
freq_encoding, data <span style="color:#f92672">=</span> labeling(data)
</code></pre></div><p>Height and annual income are standardized.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">normalize</span>(data):
  <span style="color:#75715e"># #Standardization</span>
  <span style="color:#75715e"># Height: According to 171.5 (average)/5.8 (standard deviation)</span>
  data[<span style="color:#e6db74">&#39;Heights&#39;</span>] <span style="color:#f92672">=</span> ((data[<span style="color:#e6db74">&#39;Heights&#39;</span>]<span style="color:#f92672">-</span><span style="color:#ae81ff">171.5</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">5.8</span>)
  <span style="color:#75715e">#No standard deviation for annual income...</span>
  data[<span style="color:#e6db74">&#39;Salary&#39;</span>] <span style="color:#f92672">=</span> ((data[<span style="color:#e6db74">&#39;Salary&#39;</span>]<span style="color:#f92672">-</span>data[<span style="color:#e6db74">&#39;Salary&#39;</span>]<span style="color:#f92672">.</span>mean())<span style="color:#f92672">/</span>data[<span style="color:#e6db74">&#39;Salary&#39;</span>]<span style="color:#f92672">.</span>std())
  <span style="color:#66d9ef">return</span> data

data <span style="color:#f92672">=</span> normalize(data)
</code></pre></div><p>Now then, I would like to show the correlation coefficient between each feature and the number of Likes.
In this context, the fact that there is a correlation means that the strong people have the same choices.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/182267/bb98ad54-33c0-3486-1399-5b7bf2ba104c.png" alt="corr.png"></p>
<p>How is it? Look at the Likes column (first column).</p>
<p>・Background
・WantAKids (Do you want children)
・Sociality
・Alcohol
There is some correlation with. (The closer the number is to 1, the more correlated)</p>
<p>In short, if you imitate the strong people here, you may increase the like! !</p>
<h2 id="selection-of-features">Selection of features</h2>
<p>Although the process is broken, it was the best that the following features were not included when various features were omitted.</p>
<p>・Presence or absence of face
・Body
·annual income</p>
<p>I didn&rsquo;t have to remove the one with a low correlation ratio/correlation coefficient, so I wonder if there is no choice but to actually try reducing the feature amount.</p>
<p>In other words, it&rsquo;s quite surprising that body shape and annual income have nothing to do with the number of likes.
(But don&rsquo;t forget that <strong>annual income is more than 5 million</strong>)</p>
<p>[2019/11/14 Update &ndash;]
【apology】
Regarding the presence/absence of a face, the actual fact is that the flag is &ldquo;Is the face clearly visible in the first image?&rdquo; (I forgot that you can register multiple images.)
So it&rsquo;s not that the face doesn&rsquo;t matter.
[&ndash;Added on November 14, 2019]</p>
<h2 id="model-selection">Model selection</h2>
<p>This time I didn&rsquo;t use deep learning because it was a study of machine learning.
When I tried linear regression (normal, Lasso, Ridge), decision regression tree, and SVR, SVR was the best.</p>
<p>Also, with the holdout method, which is said to be unsuitable for a small data set, we were able to achieve an accuracy of about 83%.</p>
<p>Overfitting is possible, but since it can&rsquo;t be helped over a long time, we proceed with this accuracy.</p>
<p>[2019/11/12 update &ndash;]
By the way, train and test are about 8:2.
[&ndash; 2019/11/12 update]</p>
<h2 id="i-tried-to-predict-my-own-number-of-likes">I tried to predict my own number of likes</h2>
<p>I quit without standing for a month, but my number of like was about 80 (Tohoho&hellip;</p>
<p>I tried to see if I could predict my data correctly.</p>
<p>My data is below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
my_df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({
  <span style="color:#e6db74">&#39;Number of Likes&#39;</span>: <span style="color:#ae81ff">80.0</span>,
  <span style="color:#e6db74">&#34;Face&#34;</span>: <span style="color:#e6db74">&#34;Yes&#34;</span>,
  <span style="color:#e6db74">&#39;Blood type&#39;</span>:<span style="color:#e6db74">&#39;O type&#39;</span>,
  <span style="color:#e6db74">&#34;Brothers and sisters&#34;</span>: <span style="color:#e6db74">&#34;Oldest son&#34;</span>,
  <span style="color:#e6db74">&#39;Education&#39;</span>:<span style="color:#e6db74">&#39;College graduate&#39;</span>,
  <span style="color:#e6db74">&#39;School name&#39;</span>:<span style="color:#e6db74">&#39;None&#39;</span>,
  <span style="color:#e6db74">&#39;Job type&#39;</span>:<span style="color:#e6db74">&#39;IT related&#39;</span>, <span style="color:#75715e">#2019/11/11 I forgot that I was a company employee for a trial.</span>
  <span style="color:#e6db74">&#39;Annual income&#39;</span>:<span style="color:#e6db74">&#39;***&#39;</span>, <span style="color:#75715e"># Secret because annual income does not matter</span>
  <span style="color:#e6db74">&#39;Height&#39;</span>: <span style="color:#e6db74">&#39;171&#39;</span>,
  <span style="color:#e6db74">&#39;Body&#39;</span>:<span style="color:#e6db74">&#39;Normal&#39;</span>,
  <span style="color:#e6db74">&#39;Marriage history&#39;</span>:<span style="color:#e6db74">&#39;Single (unmarried)&#39;</span>,
  <span style="color:#e6db74">&#39;Intention to marry&#39;</span>:<span style="color:#e6db74">&#39;I want to have good people&#39;</span>,
  <span style="color:#e6db74">&#34;Do you want children?&#34;</span>: <span style="color:#e6db74">&#34;I don&#39;t know&#34;</span>,
  <span style="color:#e6db74">&#34;Housework and childcare&#34;</span>: <span style="color:#e6db74">&#34;I want to actively participate&#34;</span>,
  <span style="color:#e6db74">&#34;Hope to meet&#34;</span>: <span style="color:#e6db74">&#34;I want to meet you if you like&#34;</span>,
  <span style="color:#e6db74">&#39;First date fee&#39;</span>:<span style="color:#e6db74">&#39;Men pay all&#39;</span>,
  <span style="color:#e6db74">&#39;Sociability&#39;</span>:<span style="color:#e6db74">&#39;I like small groups&#39;</span>,
  <span style="color:#e6db74">&#34;Living with&#34;</span>: <span style="color:#e6db74">&#34;Living alone&#34;</span>,
  <span style="color:#e6db74">&#39;Holiday&#39;</span>:<span style="color:#e6db74">&#39;Saturday and Sunday&#39;</span>,
  <span style="color:#e6db74">&#34;Sake&#34;</span>: <span style="color:#e6db74">&#34;Drink&#34;</span>,
  <span style="color:#e6db74">&#39;Cigarette&#39;</span>:<span style="color:#e6db74">&#39;do not smoke&#39;</span>,
  <span style="color:#e6db74">&#39;Name_alpha&#39;</span>: <span style="color:#ae81ff">0</span>
}, index<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>])

<span style="color:#75715e">## Below label encoding and frequency encoding...</span>

<span style="color:#75715e"># Drop like numbers and convert to numpy</span>
X <span style="color:#f92672">=</span> my_df<span style="color:#f92672">.</span>iloc[:, <span style="color:#ae81ff">1</span>:]<span style="color:#f92672">.</span>values

<span style="color:#75715e"># Expected! ! ! !</span>
<span style="color:#66d9ef">print</span>(model_svr_rbf1<span style="color:#f92672">.</span>predict(X))
</code></pre></div><p>result</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">[<span style="color:#ae81ff">73.22405579</span>]
</code></pre></div><p>Don&rsquo;t give out numbers that are not too far away!!!!</p>
<p>(Nov. 11, 2019: I forgot to use the job type as a company employee for trial (result: about 64 like). I fixed it to IT related which was the input at that time. IT related person has a good impression! ?)</p>
<p>By the way, if I put my value in and learn it after that, the accuracy (overall) improved (about 83 → 86%), so there is a high possibility that the like I received was a reasonable number (tears)</p>
<h2 id="i-tried-playing-with-different-data">I tried playing with different data</h2>
<h3 id="i-tried-to-graduate">I tried to graduate</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#f92672">...</span>
  <span style="color:#e6db74">&#39;Educational background&#39;</span>:<span style="color:#e6db74">&#39;Graduate graduate&#39;</span>, <span style="color:#75715e"># Changed from university graduate</span>
<span style="color:#f92672">...</span>

<span style="color:#75715e">#Result</span>
[<span style="color:#ae81ff">207.56731856</span>]
</code></pre></div><p>Trolly educational background.</p>
<h3 id="i-tried-to-make-it-180-cm-tall">I tried to make it 180 cm tall</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#f92672">...</span>
  <span style="color:#e6db74">&#39;Height&#39;</span>: <span style="color:#e6db74">&#39;180&#39;</span>, changed <span style="color:#f92672">from</span> <span style="color:#75715e">#171</span>
<span style="color:#f92672">...</span>

<span style="color:#75715e">#Result</span>
[<span style="color:#ae81ff">164.67592949</span>]
</code></pre></div><p>Terrible height.</p>
<p>#Finally
The forecasting machine has been made with a meager accuracy of about 86%.
I think this means that the number of Likes changes depending on the options.</p>
<p>And, my annual income (if it&rsquo;s 5 million or more) and my body shape (I&rsquo;m normal body shape) didn&rsquo;t matter.
So there may have been a factor that wasn&rsquo;t up to the choices I chose.</p>
<p>Based on the results, the annual income does not seem to matter so I will try my best to increase my height in the future.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
