<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Get a day of the week from Zeller&#39;s congruence ceremony-and then the calendar | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Get a day of the week from Zeller&rsquo;s congruence ceremony-and then the calendar</h1>
<p>
  <small class="text-secondary">
  
  
  Jan 18, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/calendar">calendar</a></code></small>


<small><code><a href="https://memotut.com/tags/python3">Python3</a></code></small>

</p>
<pre><code>From the Zeller congruence formula, calculate what day of the week is the day of the week.
</code></pre>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-calcal.py" data-lang="calcal.py"><span style="color:#75715e">#!/usr/bin/python3</span>
<span style="color:#f92672">import</span> sys
y <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>])
m <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">2</span>])
d <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">3</span>])
youbia <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Sun&#34;</span>, <span style="color:#e6db74">&#34;Month&#34;</span>, <span style="color:#e6db74">&#34;Tue&#34;</span>, <span style="color:#e6db74">&#34;Wed&#34;</span>, <span style="color:#e6db74">&#34;Thurs&#34;</span>, <span style="color:#e6db74">&#34;Fri&#34;</span>, <span style="color:#e6db74">&#34;Sat&#34;</span>]

<span style="color:#66d9ef">if</span> (m <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">or</span> m <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>):
    md <span style="color:#f92672">=</span> m<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>
    yd <span style="color:#f92672">=</span> y<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">else</span>:
    md <span style="color:#f92672">=</span> m<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>
    yd <span style="color:#f92672">=</span> y

a <span style="color:#f92672">=</span> yd <span style="color:#f92672">//</span> <span style="color:#ae81ff">100</span>
b <span style="color:#f92672">=</span> yd <span style="color:#f92672">%</span><span style="color:#ae81ff">100</span>
youbi <span style="color:#f92672">=</span> (int(<span style="color:#ae81ff">2.6</span><span style="color:#f92672">*</span>md<span style="color:#f92672">-</span><span style="color:#ae81ff">0.2</span>) <span style="color:#f92672">+</span> d <span style="color:#f92672">+</span> b <span style="color:#f92672">+</span> b<span style="color:#f92672">//</span><span style="color:#ae81ff">4</span> <span style="color:#f92672">+</span> a<span style="color:#f92672">//</span><span style="color:#ae81ff">4</span><span style="color:#f92672">-</span><span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>a)<span style="color:#f92672">%</span><span style="color:#ae81ff">7</span>

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;AD&#34;</span>, y, <span style="color:#e6db74">&#34;year&#34;</span>, m, <span style="color:#e6db74">&#34;month&#34;</span>, d, <span style="color:#e6db74">&#34;day is&#34;</span>, youbia[youbi], <span style="color:#e6db74">&#34;day of the week&#34;</span>, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)

</code></pre></div><p>Output example</p>
<pre><code>$ calcal.py 1967 5 12
May 12, 1967 AD is Friday.
$ calcal.py 1994 12 25
December 25, 1994 is Sunday.
$ calcal.py 1995 12 24
December 24, 1995 is Sunday.
$ calcal.py 1998 12 24
December 24, 1998 is Thursday.
$ calcal.py 2000 May 12
May 12, 2000 is Friday.
$ calcal.py 2019 Dec 25
December 25, 2019 is Wednesday.
$ calcal.py 10000 5 12
May 12, 10000 AD is Friday.
$
</code></pre><p>#Perennial
Incidentally, it is a program that outputs a calendar.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cal.py" data-lang="cal.py"><span style="color:#75715e">#!/usr/bin/python3</span>
<span style="color:#f92672">import</span> sys
argvs <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv
argc <span style="color:#f92672">=</span> len( argvs)
months<span style="color:#f92672">=</span>[<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">28</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>]
youbia <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Sun&#34;</span>, <span style="color:#e6db74">&#34;Mon&#34;</span>, <span style="color:#e6db74">&#34;Tue&#34;</span>, <span style="color:#e6db74">&#34;Wed&#34;</span>, <span style="color:#e6db74">&#34;Thu&#34;</span>, <span style="color:#e6db74">&#34;Fri&#34;</span>, <span style="color:#e6db74">&#34;Sat&#34;</span>]

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">weekofday</span>(y,m,d):
  md, yd <span style="color:#f92672">=</span> (m<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, y) <span style="color:#66d9ef">if</span> m <span style="color:#f92672">&gt;</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">else</span> (m<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>, y<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
  a, b <span style="color:#f92672">=</span> divmod(yd, <span style="color:#ae81ff">100</span>)
  <span style="color:#66d9ef">return</span> ((int(<span style="color:#ae81ff">2.6</span><span style="color:#f92672">*</span>md<span style="color:#f92672">-</span><span style="color:#ae81ff">0.2</span>) <span style="color:#f92672">+</span> d <span style="color:#f92672">+</span> b <span style="color:#f92672">+</span> b<span style="color:#f92672">//</span><span style="color:#ae81ff">4</span> <span style="color:#f92672">+</span> a<span style="color:#f92672">//</span><span style="color:#ae81ff">4</span><span style="color:#f92672">-</span><span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>a)<span style="color:#f92672">%</span><span style="color:#ae81ff">7</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printcal</span>(y,m):
  mm<span style="color:#f92672">=</span>months[m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>(<span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> (m<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">and</span> y<span style="color:#f92672">%</span><span style="color:#ae81ff">4</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> y<span style="color:#f92672">%</span><span style="color:#ae81ff">400</span><span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">0</span>)
  <span style="color:#66d9ef">print</span>(y,m,sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/&#39;</span>)
  <span style="color:#66d9ef">print</span> (<span style="color:#f92672">*</span>youbia,sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
  f<span style="color:#f92672">=</span>weekofday(y,m,<span style="color:#ae81ff">1</span>)
  <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">*</span>f,end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
  <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>,mm<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34; </span><span style="color:#e6db74">%2d</span><span style="color:#e6db74"> &#34;</span><span style="color:#f92672">%</span>i,end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
    <span style="color:#66d9ef">if</span> f<span style="color:#f92672">==</span><span style="color:#ae81ff">6</span>:
      <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;&#34;</span>)
    f<span style="color:#f92672">=</span>(f<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">%</span><span style="color:#ae81ff">7</span>
  <span style="color:#66d9ef">if</span> f<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;&#34;</span>)

  
<span style="color:#66d9ef">if</span> argc<span style="color:#f92672">==</span><span style="color:#ae81ff">3</span>:
  y <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>])
  m <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">2</span>])
<span style="color:#66d9ef">else</span>:
  <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Usage: cal.py y m&#34;</span>)
  exit(<span style="color:#ae81ff">1</span>)
printcal(y,m)


</code></pre></div><p>Output example</p>
<pre><code>$ cal.py 2020 2
2020/2
Sun Mon Tue Wed Thu Fri Sat
                          1
  2 3 4 5 6 7 8
  9 10 11 12 13 14 15
 16 17 18 19 20 21 22
 23 24 25 26 27 28 29
$
</code></pre><p>#Perennial calendar (2)
cal.py version 2.0
The code that summarizes the day calculation and the calendar is shown below. The day of the week calculation function is an integer operation provided by kkdd.
$ ./cal.py y m displays the calendar for year y year m month.
$ ./cal.py y m d displays the day of the year m month d of the year y.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cal.py" data-lang="cal.py"><span style="color:#75715e">#!/usr/bin/python3</span>
<span style="color:#f92672">import</span> sys
argvs <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv
argc <span style="color:#f92672">=</span> len( argvs)
months<span style="color:#f92672">=</span>[<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">28</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>,<span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">31</span>]
youbia <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Sun&#34;</span>, <span style="color:#e6db74">&#34;Mon&#34;</span>, <span style="color:#e6db74">&#34;Tue&#34;</span>, <span style="color:#e6db74">&#34;Wed&#34;</span>, <span style="color:#e6db74">&#34;Thu&#34;</span>, <span style="color:#e6db74">&#34;Fri&#34;</span>, <span style="color:#e6db74">&#34;Sat&#34;</span>]

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">dayofweek</span>(year, month, day):
  m <span style="color:#f92672">=</span> (month<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>)<span style="color:#f92672">%</span><span style="color:#ae81ff">12</span>
  y <span style="color:#f92672">=</span> year <span style="color:#66d9ef">if</span> month <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">else</span> year<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
  n <span style="color:#f92672">=</span> day <span style="color:#f92672">+</span> (<span style="color:#ae81ff">13</span><span style="color:#f92672">*</span>m<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">//</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">+</span> y <span style="color:#f92672">+</span> y<span style="color:#f92672">//</span><span style="color:#ae81ff">4</span><span style="color:#f92672">-</span>(y<span style="color:#f92672">//</span><span style="color:#ae81ff">100</span>) <span style="color:#f92672">+</span> y<span style="color:#f92672">//</span><span style="color:#ae81ff">400</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>
  <span style="color:#66d9ef">return</span> (n<span style="color:#f92672">%</span><span style="color:#ae81ff">7</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printcal</span>(y,m):
  mm<span style="color:#f92672">=</span>months[m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>(<span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> (m<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">and</span> y<span style="color:#f92672">%</span><span style="color:#ae81ff">4</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> y<span style="color:#f92672">%</span><span style="color:#ae81ff">400</span><span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">0</span>)
  <span style="color:#66d9ef">print</span>(y,m,sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/&#39;</span>)
  <span style="color:#66d9ef">print</span> (<span style="color:#f92672">*</span>youbia,sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
  f<span style="color:#f92672">=</span>dayofweek(y,m,<span style="color:#ae81ff">1</span>)
  <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">*</span>f,end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
  <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>,mm<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34; </span><span style="color:#e6db74">%2d</span><span style="color:#e6db74"> &#34;</span><span style="color:#f92672">%</span>i,end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
    <span style="color:#66d9ef">if</span> f<span style="color:#f92672">==</span><span style="color:#ae81ff">6</span>:
      <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;&#34;</span>)
    f<span style="color:#f92672">=</span>(f<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">%</span><span style="color:#ae81ff">7</span>
  <span style="color:#66d9ef">if</span> f<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;&#34;</span>)

<span style="color:#66d9ef">if</span> argc<span style="color:#f92672">==</span><span style="color:#ae81ff">3</span>:
  y <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>])
  m <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">2</span>])
  printcal(y,m)
<span style="color:#66d9ef">elif</span> argc<span style="color:#f92672">==</span><span style="color:#ae81ff">4</span>:
  y <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>])
  m <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">2</span>])
  d <span style="color:#f92672">=</span> int(sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">3</span>])
  f <span style="color:#f92672">=</span> dayofweek(y,m,d)
  <span style="color:#66d9ef">print</span>(y, <span style="color:#e6db74">&#34;/&#34;</span>, m, <span style="color:#e6db74">&#34;/&#34;</span>, d, <span style="color:#e6db74">&#34;is &#34;</span>, youbia[f],sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)

<span style="color:#66d9ef">else</span>:
  <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Usage: cal.py y m [d]&#34;</span>)
  exit(<span style="color:#ae81ff">1</span>)
</code></pre></div>
    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
