<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] Ikiri high school students will explain blockchain to beginners in 10 minutes! ! ! | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] Ikiri high school students will explain blockchain to beginners in 10 minutes! ! !</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 12, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/mac"> Mac</a></code></small>


<small><code><a href="https://memotut.com/tags/beginner"> Beginner</a></code></small>


<small><code><a href="https://memotut.com/tags/bitcoin"> Bitcoin</a></code></small>


<small><code><a href="https://memotut.com/tags/blockchain"> Blockchain</a></code></small>

</p>
<pre><code>#1. About this article
</code></pre>
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/a71952bd-9561-becb-3005-42475d0d3390.jpeg" width=50%>
##1-1. Introduction
This article was touched by me as a high school student when I received [Udemy: An Introduction to Blockchain Development from Scratch Beginning with Python Taught by Active Silicon Valley Engineers](https://www.udemy.com/share/1021OSAkIbdVdQQXo=/) , I wrote this article with the hope that everyone reading this article should attend.
I completed this lesson in 2 days, so if you are already accustomed to development, I think it is sufficiently possible to understand and implement in 1 day.
I will also introduce articles that helped me understand.
<p>(If you like it, you will be happy to cry)
##1-2. Things explained in this article
First, in this article, I will briefly explain BlockChain and get it understood.
Next, the technical explanation of <font color='red'>BlockChain</font> and <font color='red'>P2P network</font> is explained.
Finally, let&rsquo;s look at what the technology called Block Chain can be applied to in the future.</p>
<p>I will explain Bitcoin as an example, so I think that it will also lead to an understanding of Bitcoin.</p>
<p>Be sure to read them in order. Even if you read from the middle, I think it is difficult to understand.</p>
<p>##1-3. Target audience</p>
<ul>
<li>Those who are interested in Block Chain</li>
<li>Those who have studied Block Chain but are not sure</li>
<li>Those who are reading articles for the time being</li>
<li>Those who want to know more about trendy virtual currency</li>
</ul>
<p>Anyway, I will start from 1 for the above people.</p>
<h2 id="1-4-development-environment">1-4. Development environment</h2>
<p>Python3.7 (Anaconda)</p>
<p>PC: macOS Catalina version 10.15 (8GB memory, Intel Core i5)</p>
<p>Development IDE: PyCharm</p>
<p>#2. What is blockchain?</p>
<p>I will now explain about blockchain.</p>
<p>##2-1. Cryptocurrency and BlockChain
Aside from the technical story of BlockChain, I will first explain the position of BlockChain using cryptocurrency as an example.
First, consider the situation where you send money through a regular bank. Consider the following situation where you send 1,000 yen from A to B.
<img width="739" alt="Screenshots 2019-10-16 7.08.57.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/6cb17eab-600f-9310-aa9d-4690aaae6583.png">
After passing through the bank, the bank approves this transfer and the transfer is completed. And the bank&rsquo;s ledger (database) will have records of various transactions as shown below.
<img width="637" alt="Screenshots 2019-10-16 7.16.34.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/f62571a2-f722-404a-acce-9aab3aa4659a.png"></p>
<p>However, there is an implicit understanding when sending money through this bank. It means <strong>trusting the bank</strong>.
Everyone trusts that <strong>the bank does not tamper with this transaction</strong>, so you can transfer money through the bank. Tampering means, for example, if a bank sends 1,000 yen instead of only 500 yen, if it is arbitrarily rewritten, this bank will not be trusted and no one will send money at this bank.</p>
<p>And in this case, the bank is mainly responsible for two things.</p>
<ul>
<li>Verify this transaction is legitimate</li>
<li>Record data for this transaction</li>
</ul>
<p>about it.
It is impossible to verify whether this transaction is legitimate even if Mr. M who does not register with this bank tries to send 10,000 yen to Mr. A. In addition, it is not a legitimate transaction to arbitrarily set Mr. A&rsquo;s balance to 1,000,000 yen. Banks are verifying this. Also, recording transaction data is as shown in the previous figure.</p>
<p>**Block Chain replaces these two roles. **</p>
<p>And on the blockchain, we will <strong>verify that the transaction is correct</strong> by all participants without establishing a central bank. This is the important part. Be sure to remember this.</p>
<p>So how do you replace it?
I will explain it while talking about technical matters.</p>
<p>##2-2.P2P and Server/Client
Block Chain is supported by a network called P2P. So what kind of network is P2P?</p>
<h3 id="2-21-serverclient-type-network">2-2.1 Server/Client type network</h3>
<p>First of all, the network that we usually use is Server/Client. Server/Client type networks are traded as follows.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/92c18892-a349-87da-9e6e-7310fb5e7585.png" alt="serverclient.png"></p>
<p>When the client side requests &ldquo;give me the data!&rdquo; to the server side, the server side returns the data accordingly.</p>
<p>For example, consider Twitter. The server is owned by Twitter, and the clients are our smartphones and personal computers. Open the Twiiter app, and the tweet of the first person you follow will flow. This is because when you open the application, the smartphone on the client side asks the Twitter server for &ldquo;Give me the tweets of the people you follow!&rdquo;, while the server says &ldquo;This is the data&rdquo; Is returned to the timeline.</p>
<p>In this case, what if the Twitter server goes down? When you open the app, even if the client requests it, you will not be able to return the corresponding data. In other words, we will not be able to receive services as Twitter.</p>
<p>Next, what if the processing performance of Twitter&rsquo;s server is very low? When the app opens, the server will take a tremendous amount of time to find the data, even if the client requests it. Then, it takes time to use Twitter, and sometimes the server goes down, which makes us feel stressed.</p>
<p>In summary, the following are the drawbacks of Server/Client type networks.</p>
<ul>
<li>If server goes down, network cannot be maintained and service cannot be used</li>
<li>If the processing performance of the server is low, it will not be possible to provide a service that is overloaded</li>
</ul>
<p>This is less reliable because you don&rsquo;t know when the server will go down.</p>
<p>P2P networks have eliminated these two drawbacks.</p>
<p>###2-2.2 P2P type network</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/5484c1a6-8ce6-8b3b-fa1e-f1aa6674bb26.png" alt="P2P.png"></p>
<p>The P2P type network is as shown in the figure above. Let&rsquo;s explain it in more detail.</p>
<p>First, in a P2P network, there is no such role as a server or client as before. **Conversely, every computer that participates in the network is both a server and a client. **</p>
<p>Second, each computer has its own data, and everyone manages that data. So, even if one of the computers goes down, the network can be operated and maintained. **Therefore, it is more reliable than Server/Client type network.</p>
<p>Furthermore, since all the computers participating in the network act as servers, the more computers participating in the network, the higher the processing performance of the entire network will be*. **</p>
<p>Therefore, the following are the advantages of P2P type networks, and they overcome the drawbacks of Server/Client type networks.</p>
<ul>
<li>Network operation and maintenance is possible even if one computer goes down</li>
<li>Very high processing performance of the entire network</li>
</ul>
<p>#3. Detailed explanation</p>
<p>Here, we will give a detailed explanation of Block Chain.</p>
<img width="857" alt="blockchain.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/2bb2aaa4-e28c-74b1-4a10-4b640fb5c854.png">
<p>I&rsquo;m not sure if the blockchain stores data as shown in the figure above. I will explain in detail. Let&rsquo;s use Bitcoin as an example for easy understanding.</p>
<p>First of all, what is a block?</p>
<p>A block is a <strong>trade data certificate</strong>. For example, Mr. A sent 1 Bitcoin to Mr. B. However, as explained earlier, in order to send money, you must <strong>verify that the transaction data is correct</strong> by all participants. It means that the verification certificate is a block. However, this certificate is not easily tampered with. What happens if it is tampered with, Mr. A sent 1 Bitcoin to Mr. B a long time ago, but five years later Mr. A was in trouble with money so he decided not to send it. I will. It would be hard if I could do that (not at all). Therefore, this certificate (block) is saved so that it cannot be tampered with. Let me explain how it works.</p>
<p>First, the block contains four pieces of information. These are <strong>previous hash value</strong>, <strong>timestamp</strong>, <strong>nonce</strong>, <strong>transaction</strong>. Each is explained individually.</p>
<p>First is the time stamp. The time stamp is the time when the transaction is verified to be correct. This ensures *<em>when</em> this transaction was approved as correct.</p>
<p>Next is the transaction. A transaction is the actual transaction data. <a href="#2-1.CryptocurrencyandBlockChain">2-1</a> It&rsquo;s a balloon balloon. Is this transaction data?</p>
<p>Next is the previous hash value. We will develop more carefully from here. Now let&rsquo;s see what the actual block looks like. (This is not a chain but a block. The chain is a chain.)<img width="1218" alt="contents of block.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/30813983-2a38-58d6-367f-bcd078e445c2.png"></p>
<p>The detailed contents are set aside, the light blue part is nonce, the yellow green is the previous hash value, purple is the time stamp, pink is the transaction. Since this is one block, there is such a block before this block (of course, each number is different). The hash value of the previous block is the <strong>hash value of the previous block</strong>. The reason why the hash value of the previous block is used as the information of the next block is that it will not be tampered with **. If the previous block is tampered with, the &ldquo;hash value of the previous block&rdquo; in the next block will change, so the hash value of the hashed version of this block will change. (See figure below)</p>
<img width="953" alt="Block tampering.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/29ca4aa5-8ee5-5433-9025-efc8aa9081af.png">
<p>This means that if one block is tampered with, all subsequent blocks will change. As a result, **it is not possible to rewrite (alter) only one block.</p>
<p>Finally, I will explain about nonces. A nonce is an answer to a question. So what is the problem? Earlier, I explained that blockchain is verifying that the transaction is correct when everyone adds a new block. At bitcoin, the verification method is called <strong>Proof of Work</strong> (PoW). Nonce is PoW&rsquo;s answer. To the end, Proof of Work is a verification method in bitcoin, and there are several other verification methods. For example, in the currency of Ripple, <strong>Proof of Consensus</strong> is used, and in NEM coin, <strong>Proof of Importance</strong> is used. (For details, search &ldquo;Consensus Algorithm List&rdquo;)</p>
<p>In this proof of work we will use what is called a nonce when verifying that this block is correct. First, at the time the trade is made (at the stage of adding blocks), the nonce is not yet known. All we know is the transaction and the hash value of the previous block. Therefore, we find a nonce such that the calculation result derived by using two pieces of known information (transaction and hash value of the previous block) and a nonce like a variable that we do not yet know is a certain fixed value. (It&rsquo;s like an equation. It&rsquo;s like searching for a nonce such as transaction +prev_hash+nonce=Ans (Ans is a fixed answer). Although not exactly, it&rsquo;s the same feeling. Since there is no inverse operation in the method, the value of the nonce is changed steadily, and the value becomes the final correct nonce if coincidentally happens.) The work of changing the value of the nonce to find the correct nonce is Proof of Work.</p>
<p><strong>Mining</strong> means issuing a new currency in Bitcoin**, and the miner who first succeeded in Proof of Work will get the coin.</p>
<p>#4.BlockChain implementation</p>
<p>First, I will explain the flow of implementation.</p>
<img width="661" alt="Screenshots 2019-12-11 23.44.45.png" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/264406/b60d87f6-6c14-9fcd-2ea0-8b9b5993bb76.png">
<p>This time, I will explain ① and ② in the above figure. Please see the video of Udemy <a href="https://www.udemy.com/share/1021OSAkIbdVdQQXo=/">API video of Udemy</a> for the API of the blockchain server and the construction of the blockchain network.</p>
<p>Creating a blockchain and creating a wallet only explain about 20% of the whole here, so please watch the video.</p>
<p>First, create a blockchain class that will be the blueprint. Next, we will implement PoW, nonce and mining (this is Bitcoin only) that makes up the blockchain. Up to here is ①.</p>
<p>Next, create a wallet in ②. A wallet is a virtual currency wallet. That&rsquo;s all. Here, we will generate a blockchain address that identifies a personal wallet. And learn about transaction signing and proof for trading virtual currencies.</p>
<p>##4-1 Blockchain implementation</p>
<h3 id="4-11-creating-a-blockchain-class">4-1.1 Creating a blockchain class</h3>
<p>Below is a rough blueprint of the blockchain.</p>
<p><strong>Sender_blockchain_address</strong> and <strong>recipient_blockchain_adress</strong>, which are coming out a lot, are sender and receiver. A variable that identifies each.</p>
<p>If you read the explanation so far, there is nothing particularly difficult, so I think that you can understand it by reading it as a comment.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> hashlib
<span style="color:#f92672">import</span> json
<span style="color:#f92672">import</span> time
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BlockChain</span>(object):

    <span style="color:#66d9ef">def</span> __init__(self, blockchain_address<span style="color:#f92672">=</span>None):
        self<span style="color:#f92672">.</span>transaction_pool <span style="color:#f92672">=</span> [] <span style="color:#75715e"># Transactions that have not yet been authenticated</span>
        self<span style="color:#f92672">.</span>chain <span style="color:#f92672">=</span> [] <span style="color:#75715e"># Blockchain to store authenticated transactions</span>
        self<span style="color:#f92672">.</span>create_block(<span style="color:#ae81ff">0</span>, self<span style="color:#f92672">.</span>hash({}))
        self<span style="color:#f92672">.</span>blockchain_address <span style="color:#f92672">=</span> blockchain_address
        
    <span style="color:#75715e"># Block making method</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_block</span>(self, nonce, previous_hash):
        <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">        How to make a new block
</span><span style="color:#e6db74">        1. Get block information from the incomplete transaction list (transaction_pool)
</span><span style="color:#e6db74">        2. Add blocks to the blockchain
</span><span style="color:#e6db74">        3. Empty incomplete transactions
</span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
        block <span style="color:#f92672">=</span> {
            <span style="color:#e6db74">&#39;timestamp&#39;</span>: time<span style="color:#f92672">.</span>time(), <span style="color:#75715e"># trading time</span>
            <span style="color:#e6db74">&#39;transactions&#39;</span>: self<span style="color:#f92672">.</span>transaction_pool, <span style="color:#75715e"># Transaction details (taken from the list of unapproved transactions)</span>
            <span style="color:#e6db74">&#39;nonce&#39;</span>: nonce, <span style="color:#75715e">#nonce</span>
            <span style="color:#e6db74">&#39;previous_hash&#39;</span>: previous_hash <span style="color:#75715e"># hash value of previous block</span>
        }
        self<span style="color:#f92672">.</span>chain<span style="color:#f92672">.</span>append(block) <span style="color:#75715e"># add to blockchain</span>
        self<span style="color:#f92672">.</span>transaction_pool <span style="color:#f92672">=</span> [] <span style="color:#75715e"># Empty unapproved transaction list</span>
        <span style="color:#66d9ef">return</span> block
  
    <span style="color:#75715e"># Method to obtain the hash value of the block</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">hash</span>(self, block):
        <span style="color:#66d9ef">return</span> hashlib<span style="color:#f92672">.</span>sha256(json<span style="color:#f92672">.</span>dumps(block)<span style="color:#f92672">.</span>encode())<span style="color:#f92672">.</span>hexdigest() <span style="color:#75715e"># returns the hashed value in hexadecimal</span>
      
    <span style="color:#75715e"># Method of making a new transaction</span>
    <span style="color:#75715e"># Make a new transaction here and it will be added to the blockchain with create_block</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add_transaction</span>(self, sender_blockchain_address,
                        recipient_blockchain_address, value,
                        sender_public_key<span style="color:#f92672">=</span>None):
        <span style="color:#75715e"># Make transaction details</span>
        transaction <span style="color:#f92672">=</span> {
            <span style="color:#e6db74">&#39;sender_blockchain_address&#39;</span>: sender_blockchain_address, <span style="color:#75715e"># who sent</span>
            <span style="color:#e6db74">&#39;recipient_blockchain_address&#39;</span>: recipient_blockchain_address, <span style="color:#75715e"># who received</span>
            <span style="color:#e6db74">&#39;value&#39;</span>: float(value) <span style="color:#75715e"># some value (amount)</span>
        }
        <span style="color:#75715e"># Add to unapproved transaction list</span>
        self<span style="color:#f92672">.</span>transaction_pool<span style="color:#f92672">.</span>append(transaction)
        <span style="color:#66d9ef">return</span> True
</code></pre></div><h3 id="4-12-pow-nonce-mining-implementation">4-1.2 PoW, nonce, mining implementation</h3>
<p>As explained earlier, PoW (Proof of Work) uses the hash value and nonce of the transaction and the previous block, and changes the nonce until a certain string is derived from the three. I will continue.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Method to verify whether it is the set value</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">valid_proof</span>(self, transactions, previous_hash, nonce,):
        guess_block <span style="color:#f92672">=</span> {
            <span style="color:#e6db74">&#39;transactions&#39;</span>: transactions,
            <span style="color:#e6db74">&#39;nonce&#39;</span>: nonce,
            <span style="color:#e6db74">&#39;previous_hash&#39;</span>: previous_hash
        }
        guess_hash <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>hash(guess_block)
      <span style="color:#75715e"># Returns true if the last 3 characters are 000, false otherwise</span>
        <span style="color:#66d9ef">return</span> guess_hash[:<span style="color:#ae81ff">3</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;0&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>

<span style="color:#75715e"># A method that keeps changing the nonce value until it reaches a predetermined value</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">proof_of_work</span>(self):
        transactions <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>transaction_pool<span style="color:#f92672">.</span>copy()
        previous_hash <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>hash(self<span style="color:#f92672">.</span>chain[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
        nonce <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># Keep changing the nonce value until it reaches the set value</span>
        <span style="color:#66d9ef">while</span> self<span style="color:#f92672">.</span>valid_proof(transactions, previous_hash, nonce) <span style="color:#f92672">is</span> False:
            nonce <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">return</span> nonce
<span style="color:#e6db74">``</span><span style="color:#960050;background-color:#1e0010">`</span>First, <span style="color:#f92672">in</span> the valid_proof method, using the transaction<span style="color:#e6db74">&#39;s previous description **the hash value and the nonce of the block and the nonce, it is verified whether a certain character string is derived from the three ** I am. guess_block is the tentative block and guess_hash is the hash value. guess_hash is a string derived from three. **Of course, there is no inverse operation because it is hashed. **</span>

guess_hash[:<span style="color:#ae81ff">3</span>] means the first <span style="color:#ae81ff">3</span> characters of the guess_hash string<span style="color:#f92672">.</span> Therefore, this time, I will <span style="color:#66d9ef">continue</span> to change the value of the nonce until the three characters before the guess_hash becomes <span style="color:#ae81ff">000.</span>

In the proof_of_work method, the nonce value <span style="color:#f92672">is</span> changed until the <span style="color:#66d9ef">return</span> value of the valid_proof method becomes true<span style="color:#f92672">.</span> The nonce starts <span style="color:#f92672">from</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> <span style="color:#f92672">is</span> incremented by <span style="color:#ae81ff">1</span> until the answer <span style="color:#f92672">is</span> reached<span style="color:#f92672">.</span> There are two valid_proof methods <span style="color:#f92672">and</span> proof_of_work methods, so it seems like one<span style="color:#f92672">.</span>

Next, I will explain about minig<span style="color:#f92672">.</span> As I explained before, mining <span style="color:#f92672">is</span> just the act of issuing new currency <span style="color:#f92672">in</span> Bitcoin<span style="color:#f92672">.</span> The condition <span style="color:#66d9ef">for</span> issuing the new currency <span style="color:#f92672">is</span> the person who made PoW successful<span style="color:#f92672">.</span>

<span style="color:#e6db74">``</span><span style="color:#960050;background-color:#1e0010">`</span>python
<span style="color:#75715e"># Decide in advance the currency to receive the mining reward because there is no sender</span>
 MINING_SENDER <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;THIS IS MINING SENDER&#39;</span>
<span style="color:#75715e"># Decide on mining rewards</span>
 MINING_REWAES <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#75715e"># Mining method</span>
 <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">mining</span>(self):
    <span style="color:#75715e"># Add mining to unapproved transaction list as the rewards obtained from mining are transactions</span>
       self<span style="color:#f92672">.</span>add_transaction(
            sender_blockchain_address<span style="color:#f92672">=</span>MINING_SENDER,
            recipient_blockchain_address<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>blockchain_address,
            value<span style="color:#f92672">=</span>MINING_REWARD)
        nonce <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>proof_of_work()
        previous_hash <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>hash(self<span style="color:#f92672">.</span>chain[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]) <span style="color:#75715e"># hash the previous block</span>
        <span style="color:#75715e"># Make a block using the nonce and the hash value of the previous block</span>
        self<span style="color:#f92672">.</span>create_block(nonce, previous_hash)
        <span style="color:#66d9ef">return</span> True
</code></pre></div><p>As you can see in the above program, we are just sending MINING_REWAES minutes to the address that did the PoW. At this time, the source of remittance is MINING_SENDER, because there is no source of remittance when issuing a new currency in mining, it is specified in this way.</p>
<p>All we have to do now is save the transaction as a block.</p>
<h2 id="4-2-creating-a-wallet">4-2. Creating a wallet</h2>
<p>The wallet, which has nothing to do with the blockchain, merely serves as a wallet for cryptocurrencies, so only the signing and certification of transactions will be discussed.</p>
<p>Here&rsquo;s a little more about blockchain addresses. First of all, everyone involved in the blockchain has a <strong>public key</strong> and a <strong>private key</strong>. The public and private keys are a mechanism for encryption (see gg for details). Since the individual is identified with this public key and private key, it is sufficient to store the identification that the cryptocurrency transaction was sent from who to whom with the character string of this public key and private key. However, the public and private key strings are very long strings, and if you store this long string for every transaction, the capacity of the blockchain as a database will be greatly stressed. So it would be nice to have something like an address that could identify an individual with a shorter string. That is the blockchain address. This blockchain address is generated from your public and private keys. The mechanism is complicated and I do not understand it (almost copy and paste), so if you want to know how to create a blockchain, please take the Udemy course.</p>
<h3 id="4-21-transaction-signing-and-certification">4-2.1 Transaction signing and certification</h3>
<p>The signature and proof of a transaction is the proof that **the transaction was really sent by the person when the transaction was sent from the wallet to the computers that make up P2P. What I mean is that it would be correct if Mr. A sent the information that &ldquo;Mr. A sent 100 yen to Mr. B&rdquo;, but it is wrong if Mr. C sent it. It proves it.
To prove it, send the set of <strong>A&rsquo;s public key</strong>, <strong>transaction</strong>, and <strong>Signature</strong>. Signature is a character string generated from a private key and a transaction.
Generating Sinature and sending the public key, transaction and Signature is called <strong>signing</strong>.
And, receiving a public key, a transaction, and a signature and verifying whether they are correct or not is called a &ldquo;proof&rdquo;.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Transaction</span>(object):

    <span style="color:#66d9ef">def</span> __init__(self, sender_private_key, sender_public_key,
                 sender_blockchain_address, recipient_blockchain_address,
                 value):
        self<span style="color:#f92672">.</span>sender_private_key <span style="color:#f92672">=</span> sender_private_key
        self<span style="color:#f92672">.</span>sender_public_key <span style="color:#f92672">=</span> sender_public_key
        self<span style="color:#f92672">.</span>sender_blockchain_address <span style="color:#f92672">=</span> sender_blockchain_address
        self<span style="color:#f92672">.</span>recipient_blockchain_address <span style="color:#f92672">=</span> recipient_blockchain_address
        self<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> value

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">generate_signature</span>(self):
        sha256 <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>sha256() <span style="color:#75715e">#sha256 is used</span>
        <span style="color:#75715e"># Make a transaction</span>
        transaction <span style="color:#f92672">=</span>{
            <span style="color:#e6db74">&#39;sender_blockchain_address&#39;</span>: self<span style="color:#f92672">.</span>sender_blockchain_address,
            <span style="color:#e6db74">&#39;recipient_blockchain_address&#39;</span>: self<span style="color:#f92672">.</span>recipient_blockchain_address,
            <span style="color:#e6db74">&#39;value&#39;</span>: float(self<span style="color:#f92672">.</span>value)
        }
        sha256<span style="color:#f92672">.</span>update(str(transaction)<span style="color:#f92672">.</span>encode(<span style="color:#e6db74">&#39;utf-8&#39;</span>))
        message <span style="color:#f92672">=</span> sha256<span style="color:#f92672">.</span>digest()
        private_key <span style="color:#f92672">=</span> SigningKey<span style="color:#f92672">.</span>from_string(
            bytes()<span style="color:#f92672">.</span>fromhex(self<span style="color:#f92672">.</span>sender_private_key), curve<span style="color:#f92672">=</span>NIST256p)
        private_key_sign <span style="color:#f92672">=</span> private_key<span style="color:#f92672">.</span>sign(message)
        signature<span style="color:#f92672">=</span> private_key_sign<span style="color:#f92672">.</span>hex()
        <span style="color:#66d9ef">return</span> signature
</code></pre></div><p>↑Signing program</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">verify_transaction_signature</span>(
            self, sender_public_key, signature, transaction):
        sha256 <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>sha256()
        sha256<span style="color:#f92672">.</span>update(str(transaction)<span style="color:#f92672">.</span>encode(<span style="color:#e6db74">&#39;utf-8&#39;</span>))
        message <span style="color:#f92672">=</span> sha256<span style="color:#f92672">.</span>digest()
        signature_bytes <span style="color:#f92672">=</span> bytes()<span style="color:#f92672">.</span>fromhex(signature)
        verifying_key <span style="color:#f92672">=</span> VerifyingKey<span style="color:#f92672">.</span>from_string(
            bytes()<span style="color:#f92672">.</span>fromhex(sender_public_key), curve<span style="color:#f92672">=</span>NIST256p)
        verified_key <span style="color:#f92672">=</span> verifying_key<span style="color:#f92672">.</span>verify(signature_bytes, message)
        <span style="color:#66d9ef">return</span> verified_key
</code></pre></div><p>↑ Proof program
#5. The future standing position of Block Chain
After learning blockchain, you&rsquo;ll see why you need this technology.</p>
<h2 id="5-1-advantages-and-disadvantages-of-blockchain">5-1. Advantages and disadvantages of blockchain</h2>
<p>Those who have read the article up to this point will understand, but I will check the advantages and disadvantages of blockchain again.</p>
<p>There is a more detailed article, so I think you should read it. <a href="https://blockchain-jp.com/guides/28">Click here for the article</a></p>
<p>The first advantage is that it is <strong>decentralized</strong>. By joining your computer to the blockchain network, you will not have a single point of data or power. Having all the data on Facebook is like having a centralized power. Power is distributed by managing the data together.</p>
<p>The next thing is to build a <strong>trusted network</strong>. Since you are building a network with many computers, the maintenance rate and performance will be higher than if you build a network with one computer.</p>
<p>And it cannot be tampered with. That&rsquo;s because the block contains a hashed string of the previous block.</p>
<p>The disadvantage is that the power consumption on the user side is large. PoW will continue to calculate, so power consumption will increase. Therefore, in mining with Bitcoin, it seems that there are not many new people who join because the electricity bill for power consumption for mining does not match the reward received in mining.</p>
<p>You can also prevent them from replicating anything. I believe that technologies that cannot be duplicated will add value because we are in an age where computers can duplicate anything.</p>
<p>##5-2. Blockchain business example
I would like to introduce a business that I personally found interesting.</p>
<p><strong>1.Bitcoin</strong>
Well, it&rsquo;s a virtual currency that everyone knows. I will not explain it in particular.
<a href="https://bitcoin.org/ja/">Bitcoin.org</a></p>
<p><strong>2.bPassport</strong>
Bitflyer manages personal information under development. Recently, it has become a problem that personal information is traded between companies without permission, so it is important for an individual to be able to make a firm choice as to which company personal information is provided.<a href="https://crypto.watch.impress.co.jp/docs/event/1210425.html">https://crypto.watch.impress.co.jp/docs/event/1210425.html</a></p>
<p><strong>3.Verisart</strong>
veriart saves the image data of the art work on the blockchain to help distinguish between fake and real.
I thought it would be very interesting to combine art and technology.
<a href="https://verisart.com">https://verisart.com</a></p>
<p><strong>etc</strong>
I found a set of links, so I will introduce them.
<a href="https://innovation.mufg.jp/detail/id=322">https://innovation.mufg.jp/detail/id=322</a></p>
<p>#6. Finally
References include books and articles that are not directly related to this article, but were very helpful in my study.
##6-1. Acknowledgments
<a href="https://www.udemy.com/share/1021OSAkIbdVdQQXo=/">Udemy: An introduction to blockchain development from scratch starting with Python taught by active Silicon Valley engineers</a><strong>JunSakai</strong>Iamverygratefultotheinstructor.Pleasetakethecourse(nthtime). We would also like to thank all the readers who have read this far. If you find any mistakes or mistakes in the article due to your lack of understanding, please let me know in the comments.</p>
<p>If you like it to keep you motivated, you will be happy to cry!!
##6-2. References
I would like to introduce the following documents because they were very useful.</p>
<p><em><a href="https://peaks.cc/books/cryptocurrency">Peaks: Cryptocurrency created from scratch</a></em>
Interactively explain blockchain, public key cryptosystem, P2P network in depth, and implement cryptocurrency called SimpleBitCoin from scratch. Finally, we will consider the problems of the cryptocurrency and consider the application destinations. For those who are used to developing in Python.</p>
<p><em><a href="https://www.udemy.com/share/1021OSAkIbdVdQQXo=/">Udemy: Introducing Blockchain Development from scratch with Python taught by active Silicon Valley engineers</a></em>
We will implement a simple cryptocurrency for those who understand the basic Python grammar. If you want to understand Block Chain, this course is the fastest.</p>
<blockquote>
<p>Course contents
Understand how the blockchain works.
Learn the basic development of blockchain using Python
Understand the authentication of blockchain transactions.
You can create a hash system that connects block chains.
Understand the consensus algorithm that derives the nonces in mining the blockchain.
Understand the consensus mechanism of decentralized consensus building on blockchain.
Understand how virtual currency is sent and received.</p>
</blockquote>
<p><em><a href="https://newspicks.com/user/9537/">NewsPicks: An Introduction to Blockchain</a></em>
Explains the current state and future of blockchain. It&rsquo;s easy to read because I&rsquo;m talking about social impacts without talking technically.</p>
<p><em><a href="https://book.impress.co.jp/books/1117101146">Thorough understanding Blockchain: The principles of next-generation technology steadily understood from zero</a></em>
　We explain blockchain using various metaphors without using code. For non-engineers who want to understand blockchain. We also deeply consider the problems and applications.</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
