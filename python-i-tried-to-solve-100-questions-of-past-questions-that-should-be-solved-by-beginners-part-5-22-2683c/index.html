<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] I tried to solve 100 questions of past questions that should be solved by beginners [Part 5/22] | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] I tried to solve 100 questions of past questions that should be solved by beginners [Part 5/22]</h1>
<p>
  <small class="text-secondary">
  
  
  May 3, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/atcoder"> AtCoder</a></code></small>


<small><code><a href="https://memotut.com/tags/beginners"> beginners</a></code></small>


<small><code><a href="https://memotut.com/tags/competitive-programming"> competitive programming</a></code></small>


<small><code><a href="https://memotut.com/tags/binary-search"> binary search</a></code></small>

</p>
<pre><code>**Aim for a light blue coder! ! ! ! ! ! **
</code></pre>
<p>So,
[Red Coder&rsquo;s Teaching Guidelines for Competitive At Coder Improvement [Intermediate: Aim Light Blue Coder! ]](
<a href="https://qiita.com/e869120/items/eb50fdaece12be418faa#2-3-%E5%88%86%E9%87%8E%E5%88%A5%E5%88%9D%E4%B8%AD%E7">https://qiita.com/e869120/items/eb50fdaece12be418faa#2-3-%E5%88%86%E9%87%8E%E5%88%A5%E5%88%9D%E4%B8%AD%E7</a> %B4%9A%E8%80%85%E3%81%8C%E8%A7%A3%E3%81%8F%E3%81%B9%E3%81%8D%E9%81%8E%E5%8E %BB%E5%95%8F%E7%B2%BE%E9%81%B8-100-%E5%95%8F) (@e869120)</p>
<blockquote>
</blockquote>
<p>In order to achieve a light blue coder or rating of 1200 with a small number of problems at AtCoder, we have collected 100 educational good questions that are appropriate for brown and green coders.</p>
<p>This article<code>s 100 past questions for beginners to solve</code>
Will be solved with <strong>Python</strong>!
Thanks to @e869120! ! ! ! ! !</p>
<h3 id="past-article-link">Past article link</h3>
<p>** Full search: Full enumeration **
<a href="https://qiita.com/rudorufu1981/items/8ae8beeba7b047f2687c">[Python] I tried to solve 100 questions of past questions to be solved by beginners and intermediates [Part 1/22]</a>
** Full search: All enumerations to reduce the number of streets by devising **
<a href="https://qiita.com/rudorufu1981/items/282e06a6898f021b5e7f">[Python] I tried to solve 100 questions of past questions to be solved by beginners [Part2/22]</a>
<strong>Full search: Bit full search</strong>
[[Python] I tried to solve 100 questions of past questions to be solved by beginners [Part3/22]]
(<a href="https://qiita.com/rudorufu1981/items/74d5f37c26c62fc7a27f">https://qiita.com/rudorufu1981/items/74d5f37c26c62fc7a27f</a>)
<strong>Full search: Permutation full search</strong>
<a href="https://qiita.com/rudorufu1981/items/71abd5320a636e9146cb">[Python] I tried to solve 100 past questions to be solved by beginners [Part4/22]</a>
<strong>Binary search</strong>
<a href="https://qiita.com/rudorufu1981/items/2683c3988b246c9cf9ce">[Python] I tried to solve 100 questions of past questions to be solved by beginners [Part 5/22]</a>
<strong>Depth-first search</strong>
<a href="https://qiita.com/rudorufu1981/items/e39aa16d73615c7e589f">[Python] I tried to solve 100 questions of past questions to be solved by beginners and intermediates [Part6/22]</a>
<strong>Breadth-first search</strong>
<a href="https://qiita.com/rudorufu1981/items/4804987152ad22f3fcb4">[Python] I tried to solve 100 questions of past questions to be solved by beginners [Part 7/22]</a></p>
<p>** (Added May 7, 2020) **</p>
<ul>
<li>Supplement
Input from the (<strong>Part6</strong>) article of the series that I tried to solve these 100 questions
<code>input()</code> → <code>sys.stdin.readline().rstrip()</code>
Is changing to!
<a href="https://qiita.com/rudorufu1981/items/c6bc5e4d72cfe1cb7f14">[Python] competition template [At Coder]</a>
I made an article for a template, so please use it if you like ~</li>
</ul>
<h1 id="part-5-binary-search-">``Part 5&rsquo;'-Binary search-</h1>
<p>We will solve the following 6 questions!</p>
<blockquote>
</blockquote>
<h5 id="binary-search">Binary search</h5>
<p>18 ALDS_4_B-Binary search basic problem. It can be solved with map, but please try with binary search.
19 JOI 2009 Final 2-Pizza
20 AtCoder Beginner Contest 077 C-Snuke Festival Interesting.
21 AtCoder Beginner Contest 023 D-Shooting King It is educationally good.
22 AtCoder Regular Contest 054 B-Moore&rsquo;s Law It can be solved by differentiating and performing the dichotomy. I think that it is good to investigate that because it is connected with the trichotomy search.
23 JOI 2008 Final Round 3-Darts It is a challenge to devise and search for dichotomy.</p>
<h1 id="prerequisite-knowledge-for-binary-search">Prerequisite knowledge for binary search</h1>
<p>・I will write an article based on the following two points!
** ① About binary search **
First, Kencho-san&rsquo;s article
<a href="https://qiita.com/drken/items/97e37dd6143e33a64c8c">Generalization of binary search algorithm-Recommendation for binary search method over formula</a>
Read on to understand the atmosphere about binary exploration! **</p>
<p>** ② Concrete implementation method of Python binary search **
As
The following sites were easy to understand, so this site
<a href="https://www.forcia.com/blog/001434.html">At Coder Must-see for ash, brown and green! How to write a binary search without causing bugs</a>
** Carefully ** read and understand deeply about binary search! **</p>
<p>#<a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=ALDS1_4_B&amp;lang=ja">18 ALDS_4_B-Binary search</a>
If you take the <code>len</code> of the intersection of each <code>set</code> (set), it will be one shot,
I&rsquo;ll try to implement it here with binary search.
It was my first implementation of binary search,
I tried implementing it as the above site ** It was unexpectedly easy to implement! **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">I</span>(): <span style="color:#66d9ef">return</span> int(input())
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">LI</span>(): <span style="color:#66d9ef">return</span> list(map(int,input()<span style="color:#f92672">.</span>split()))
n <span style="color:#f92672">=</span> I()
S <span style="color:#f92672">=</span> LI()
q <span style="color:#f92672">=</span> I()
T <span style="color:#f92672">=</span> LI()
ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">birarysearch</span>(x):
    ok,ng <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,n
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_ok</span>(i):
        <span style="color:#66d9ef">return</span> S[i]<span style="color:#f92672">&lt;=</span>x
    <span style="color:#66d9ef">while</span> abs(ok<span style="color:#f92672">-</span>ng)<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>:
        mid <span style="color:#f92672">=</span> (ok<span style="color:#f92672">+</span>ng)<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>
        <span style="color:#66d9ef">if</span> is_ok(mid):
            ok <span style="color:#f92672">=</span> mid
        <span style="color:#66d9ef">else</span>:
            ng <span style="color:#f92672">=</span> mid
    <span style="color:#66d9ef">return</span> S[max(ok,<span style="color:#ae81ff">0</span>)]<span style="color:#f92672">==</span>x
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> T:
    <span style="color:#66d9ef">if</span> birarysearch(x):
        ans <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">print</span>(ans)
</code></pre></div><p>The maximum of the <code>ok</code> index is the answer!
However, be careful when the index becomes negative, and set it as <code>max(ok,0)</code>!</p>
<Another solution>
If you can use the library `bisect`, let's use it!
**It's very easy to implement! ! ! **
<p>**The index of ok in the code above,
The index of <code>bisect.bisect(S,x)-1</code> in the code below is the same! **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#f92672">import</span> bisect
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">I</span>(): <span style="color:#66d9ef">return</span> int(input())
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">LI</span>(): <span style="color:#66d9ef">return</span> list(map(int,input()<span style="color:#f92672">.</span>split()))
n <span style="color:#f92672">=</span> I()
S <span style="color:#f92672">=</span> LI()
q <span style="color:#f92672">=</span> I()
T <span style="color:#f92672">=</span> LI()
ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> T:
    ok <span style="color:#f92672">=</span> bisect<span style="color:#f92672">.</span>bisect(S,x)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">if</span> S[max(ok,<span style="color:#ae81ff">0</span>)]<span style="color:#f92672">==</span>x:
        ans <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">print</span>(ans)
</code></pre></div><p>*<code>bisect.bisect_right</code> and <code>bisect.bisect</code> are exactly the same! !
*There is also <code>bisect.bisect_left</code>, but the basic image is only using <code>bisect.bisect</code>!</p>
<p>Anyways</p>
<ul>
<li><strong><code>ok</code> (version without library)</strong></li>
<li><strong><code>bisect.bisect(A,x)-1</code> (version with library)</strong></li>
</ul>
<p>** These two indexes are iron plates in the binary search! ! ! **</p>
<p>#<a href="https://atcoder.jp/contests/joi2009ho/tasks/joi2009ho_b">19 JOI 2009 Final 2-Pizza</a>
This too was unexpectedly smoothly implemented! **
You can deliver pizza from the index of <code>ok</code> or the index to the right of the index, whichever is closer.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">I</span>(): <span style="color:#66d9ef">return</span> int(input())
d <span style="color:#f92672">=</span> I()
n <span style="color:#f92672">=</span> I()
m <span style="color:#f92672">=</span> I()
dn <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span>sorted([I() <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)])<span style="color:#f92672">+</span>[d]
mn <span style="color:#f92672">=</span> sorted([I() <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(m)])
ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">binarysearch</span>(x):
    ok,ng <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,len(dn)
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_ok</span>(i):
        <span style="color:#66d9ef">return</span> dn[i]<span style="color:#f92672">&lt;=</span>x
    <span style="color:#66d9ef">while</span> abs(ok<span style="color:#f92672">-</span>ng)<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>:
        mid <span style="color:#f92672">=</span> (ok<span style="color:#f92672">+</span>ng)<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>
        <span style="color:#66d9ef">if</span> is_ok(mid):
            ok <span style="color:#f92672">=</span> mid
        <span style="color:#66d9ef">else</span>:
            ng <span style="color:#f92672">=</span> mid
    <span style="color:#66d9ef">return</span> min(x<span style="color:#f92672">-</span>dn[ok],dn[ok<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">-</span>x)
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> mn:
    ans <span style="color:#f92672">+=</span> binarysearch(x)
<span style="color:#66d9ef">print</span>(ans)
</code></pre></div><p>*By the way
At the time of input, <code>dn</code> also includes the head office information, which is <code>[0]</code> and <code>[d]</code>! ! !
I used to do it unconsciously so far,
How to attach <code>[0]</code> or <code>[d]</code> ← <strong>Sentinel method</strong> seems to have a name ~ It came out when I googled something.
<strong>Greeding method</strong> is the same, but there are other ways of thinking about programs that you unknowingly learn without knowing their names!</p>
<Another solution>
If you can use the library `bisect`, let's use this as well!
** Super easy to implement! ! ! **
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#f92672">import</span> bisect
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">I</span>(): <span style="color:#66d9ef">return</span> int(input())
d <span style="color:#f92672">=</span> I()
n <span style="color:#f92672">=</span> I()
m <span style="color:#f92672">=</span> I()
dn <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span>sorted([I() <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)])<span style="color:#f92672">+</span>[d]
mn <span style="color:#f92672">=</span> sorted([I() <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(m)])
ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> mn:
    ok <span style="color:#f92672">=</span> bisect<span style="color:#f92672">.</span>bisect(dn,x)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
    ans <span style="color:#f92672">+=</span> min(x<span style="color:#f92672">-</span>dn[ok],dn[ok<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">-</span>x)
<span style="color:#66d9ef">print</span>(ans)
</code></pre></div><p>#<a href="https://atcoder.jp/contests/abc077/tasks/arc084_a">20 AtCoder Beginner Contest 077 C-Snuke Festival</a>
Difficulty:1096
**I couldn&rsquo;t solve it at first sight! ! ! **</p>
<p><code>bisect.bisect_left</code> appears&hellip;
Not based on A or C <strong>Based on B</strong> I had no idea&hellip;
Seeing the explanation, the problem became&hellip;!
**I learned a lot! ! ! **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#f92672">import</span> bisect
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">I</span>(): <span style="color:#66d9ef">return</span> int(input())<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">LI</span>(): <span style="color:#66d9ef">return</span> list(map(int,input()<span style="color:#f92672">.</span>split()))
N <span style="color:#f92672">=</span> I()
A <span style="color:#f92672">=</span> sorted(LI())
B <span style="color:#f92672">=</span> sorted(LI())
C <span style="color:#f92672">=</span> sorted(LI())
ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> B:
    ok_a <span style="color:#f92672">=</span> bisect<span style="color:#f92672">.</span>bisect_left(A,b)
    ok_c <span style="color:#f92672">=</span> bisect<span style="color:#f92672">.</span>bisect_right(C,b)
    ans <span style="color:#f92672">+=</span> ok_a<span style="color:#f92672">*</span>(N<span style="color:#f92672">-</span>ok_c)
<span style="color:#66d9ef">print</span>(ans)
</code></pre></div><p>#<a href="https://atcoder.jp/contests/abc023/tasks/abc023_d">21 AtCoder Beginner Contest 023 D-Shooting King</a>
**Difficulty:1804! ! ! Blue problem! ! !
I couldn&rsquo;t solve this at first sight! ! ! **</p>
<p>See the code of those who can explain, and see! But can you solve it when a similar problem comes up again? I don&rsquo;t know the image that I can solve yet&hellip;
**Overwhelmingly insufficient amount of exercises for difficult problems! ! ! **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">I</span>(): <span style="color:#66d9ef">return</span> int(input())
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">LI</span>(): <span style="color:#66d9ef">return</span> list(map(int,input()<span style="color:#f92672">.</span>split()))
N <span style="color:#f92672">=</span> I()
HS <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([LI() <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(N)])
H <span style="color:#f92672">=</span> HS[:,<span style="color:#ae81ff">0</span>]
S <span style="color:#f92672">=</span> HS[:,<span style="color:#ae81ff">1</span>]
rangeN <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(N)
ok,ng <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">9</span><span style="color:#f92672">+</span><span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">9</span><span style="color:#f92672">*</span><span style="color:#ae81ff">10</span><span style="color:#f92672">**</span><span style="color:#ae81ff">9</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_ok</span>(i):
    T <span style="color:#f92672">=</span> (i<span style="color:#f92672">-</span>H)<span style="color:#f92672">//</span>S
    T<span style="color:#f92672">.</span>sort()
    <span style="color:#66d9ef">return</span> (T<span style="color:#f92672">&gt;=</span>rangeN)<span style="color:#f92672">.</span>all()
<span style="color:#66d9ef">while</span> abs(ok<span style="color:#f92672">-</span>ng)<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>:
    mid <span style="color:#f92672">=</span> (ok<span style="color:#f92672">+</span>ng)<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>
    <span style="color:#66d9ef">if</span> is_ok(mid):
        ok <span style="color:#f92672">=</span> mid
    <span style="color:#66d9ef">else</span>:
        ng <span style="color:#f92672">=</span> mid
<span style="color:#66d9ef">print</span>(ok)
</code></pre></div><p>*One of the weak points of the library <code>bisect</code> is that it cannot be used unless it is an array.
<code>h = [i for i in range(10**9+10**9*10**9+1)]</code>
If you write this, it will be 200 million% TLE, so you can&rsquo;t use the library <code>bisect</code> in such a case!
So there are some patterns that the library <code>bisect</code> cannot use,
**You need to be able to implement binary search yourself! **</p>
<p>#<a href="https://atcoder.jp/contests/arc054/tasks/arc054_b">22 AtCoder Regular Contest 054 B-Moore&rsquo;s Law</a>
Difficulty:1268
**I couldn&rsquo;t solve this at first sight! ! ! **</p>
<p>It&rsquo;s not a <code>dichotomy</code> <strong>It seems like it can be solved with a `division method</strong>!
Since it is not monotonically increasing or monotonically decreasing, it seems that binary search cannot be done!
I implemented it while googled variously, but I can only grasp the atmosphere w</p>
<p>I stumbled upon this problem, making the first formula, but&hellip;
**Maybe this will be possible if you build the exercise volume for difficult problems! ! ! **
Concretely, if you think carefully about 0 years, 1 year, 2 years &hellip;, the formula will be made!</p>
<ul>
<li><code>x+P*2**(-x/1.5)</code>
<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/183481/ec1a2403-66ed-a7dd-be63-49c736440d40.jpeg" alt="IMG_9930.JPG"></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">F</span>(): <span style="color:#66d9ef">return</span> float(input())
P <span style="color:#f92672">=</span> F()
high,low <span style="color:#f92672">=</span> P,<span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
    <span style="color:#66d9ef">return</span> x<span style="color:#f92672">+</span>P<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">**</span>(<span style="color:#f92672">-</span>x<span style="color:#f92672">/</span><span style="color:#ae81ff">1.5</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_high</span>(i,j):
    <span style="color:#66d9ef">return</span> f(i)<span style="color:#f92672">&gt;=</span>f(j)
<span style="color:#66d9ef">while</span> high<span style="color:#f92672">-</span>low<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span><span style="color:#f92672">*</span>(<span style="color:#ae81ff">10</span><span style="color:#f92672">**-</span><span style="color:#ae81ff">12</span>):
    mid_right <span style="color:#f92672">=</span> (high<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>low)<span style="color:#f92672">/</span><span style="color:#ae81ff">3</span>
    mid_left <span style="color:#f92672">=</span> (high<span style="color:#f92672">+</span>low<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">3</span>
    <span style="color:#66d9ef">if</span> is_high(mid_right,mid_left):
        high <span style="color:#f92672">=</span> mid_right
    <span style="color:#66d9ef">else</span>:
        low <span style="color:#f92672">=</span> mid_left
<span style="color:#66d9ef">print</span>(f(high))
</code></pre></div><Another solution>
It feels a bit wrong, but oh well w
The answer can be obtained by substituting the value of x at the first derivative=0 into `x+P*2**(-x/1.5)`.
The value of x with the first derivative = 0 is
[This site]
(https://ja.wolframalpha.com/input/?i=%28x%2BP*%282**%28-x%2F1.5%29%29%29%27%3D+0)
Let's use!
<p>as a result,
<code>x ≈ -2.16404 log(2.16404/P)</code>
Comes out, so
Then just put x in <code>x+P*2**(-x/1.5)</code>!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#f92672">import</span> math
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">F</span>(): <span style="color:#66d9ef">return</span> float(input())
P <span style="color:#f92672">=</span> F()
x <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.16404</span><span style="color:#f92672">*</span>math<span style="color:#f92672">.</span>log(<span style="color:#ae81ff">2.16404</span><span style="color:#f92672">/</span>P)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
    <span style="color:#66d9ef">return</span> x<span style="color:#f92672">+</span>P<span style="color:#f92672">*</span>(<span style="color:#ae81ff">2</span><span style="color:#f92672">**</span>(<span style="color:#f92672">-</span>x<span style="color:#f92672">/</span><span style="color:#ae81ff">1.5</span>))
<span style="color:#66d9ef">print</span>(f(x) <span style="color:#66d9ef">if</span> x<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">else</span> f(<span style="color:#ae81ff">0</span>))
</code></pre></div><p>**I did AC! **
By the way
As a premise, <code>x&gt;=0</code> (I can&rsquo;t go back to the past!), so I&rsquo;ve divided it in the last case.
You will notice the need for different cases when debugging I/O example 2!</p>
<p>#<a href="https://atcoder.jp/contests/joi2008ho/tasks/joi2008ho_c">23 JOI 2008 Final 3-Darts</a>
**Of course I couldn&rsquo;t solve it at first sight! ! ! **
Or, I have no idea where to use the binary search w
Of course, it&rsquo;s usually impossible to do a <code>quadruple for sentence</code> or a full-bit search, so think of it as two or two!
If <code>N&lt;=1000</code>, you can turn up to the <code>double for sentence</code> with a computational amount of <code>10^6</code>, so I wonder if this number <code>1000</code> was a hint&hellip;</p>
<p>This article
<a href="https://qiita.com/mkazuyuki2/items/299f27a9ad34ae78d84f">At Coder version! Ant book (Beginner) Solve darts with python</a>
I was able to implement it safely by referring to. **</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python:test.py" data-lang="python:test.py"><span style="color:#f92672">import</span> bisect<span style="color:#f92672">,</span>itertools
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">I</span>(): <span style="color:#66d9ef">return</span> int(input())
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">LI</span>(): <span style="color:#66d9ef">return</span> list(map(int,input()<span style="color:#f92672">.</span>split()))
N,M <span style="color:#f92672">=</span> LI()
P <span style="color:#f92672">=</span> [I() <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(N)]
ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
set_two_darts <span style="color:#f92672">=</span> set()
<span style="color:#66d9ef">for</span> x,y <span style="color:#f92672">in</span> itertools<span style="color:#f92672">.</span>product(P<span style="color:#f92672">+</span>[<span style="color:#ae81ff">0</span>],repeat<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>):
    set_two_darts<span style="color:#f92672">.</span>add(x<span style="color:#f92672">+</span>y)
list_two_darts <span style="color:#f92672">=</span> sorted(set_two_darts)
ok_two_darts <span style="color:#f92672">=</span> bisect<span style="color:#f92672">.</span>bisect(list_two_darts,M)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">if</span> list_two_darts[ok_two_darts]<span style="color:#f92672">&lt;=</span>M:
    ans <span style="color:#f92672">=</span> max(ans,list_two_darts[ok_two_darts])
<span style="color:#66d9ef">for</span> z <span style="color:#f92672">in</span> list_two_darts:
    remaining_point <span style="color:#f92672">=</span> M<span style="color:#f92672">-</span>z
    <span style="color:#66d9ef">if</span> remaining_point<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">0</span>:
        <span style="color:#66d9ef">continue</span>
    ok <span style="color:#f92672">=</span> bisect<span style="color:#f92672">.</span>bisect(list_two_darts,remaining_point)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
    ans <span style="color:#f92672">=</span> max(ans,z<span style="color:#f92672">+</span>list_two_darts[ok])
<span style="color:#66d9ef">print</span>(ans)
</code></pre></div><p>Next time, I will solve the following 4 questions!</p>
<blockquote>
</blockquote>
<h5 id="depth-first-search">Depth-first search</h5>
<p>24 ALDS_11_B-Depth-first search Basic problem.
25 AOJ 1160-How many islands are there? The number of connected components in the graph can be calculated by depth-first search.
26 AtCoder Beginner Contest 138 D-Ki Many of the tree structure problems use depth-first search.
27 JOI 2009 Qualifying 4-Thick Ice Crossing It is a problem that tells us that depth-first search is not limited to tree structures. It can be solved using a recursive function.</p>
<p>Part5/22
end!</p>
<p><a href="https://qiita.com/rudorufu1981/items/e39aa16d73615c7e589f">Next (Part 6/22)</a></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
