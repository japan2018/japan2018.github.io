<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>[Python] I wrote a test of Streamlit that can make a visualization application easily | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>[Python] I wrote a test of Streamlit that can make a visualization application easily</h1>
<p>
  <small class="text-secondary">
  
  
  Apr 11, 2020
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/streamlit">Streamlit</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<p>When making a web application that contains graphs based on Python, I have favored the combination of the graph library <code>Plotly</code> + web application framework <code>Dash by Plotly</code>.
However, this time I met a big newcomer <code>Streamlit</code> with a great potential to threaten the position of <code>Dash</code>, so I will drop the memo I wrote down the test.</p>
<p>What is # <code>Streamlit</code>?</p>
<ul>
<li><a href="https://www.streamlit.io/">Streamlit â€” The fastest way to build custom ML tools</a></li>
</ul>
<blockquote>
<p>Streamlit is an open-source app framework for Machine Learning and Data Science teams.Create beautiful data apps in hours, not weeks.All in pure Python.All for free.</p>
</blockquote>
<p>An application framework that allows you to create a web application with a Python script alone without writing HTML, CSS, or JavaScript.
The front end is made by <code>React</code> + <code>Bootstrap</code>, and it can be said that it is almost the same type of framework as <code>Dash</code>, including the point that the Python script alone is OK.</p>
<p>Compared to <code>Dash</code>, <code>Streamlit</code> does not have the flexibility to freely decide the style and page layout.
There is no API to insert custom CSS and styles, and the page layout is firmly decided by the side menu + body template.
In other words, since the framework side defines the specifications including the design, you can focus more than <code>Dash</code> on script writing of the main processing of data processing and analysis without the cost of design decision.</p>
<p>Also, while <code>Dash</code> is a web application framework for <code>Plotly</code>, <code>Streamlit</code> supports the following graph libraries.</p>
<ul>
<li><code>Matplotlib</code>
-<code>Seaborn</code> is also a wrapper for <code>Maptplotlib</code> and probably okay</li>
<li><code>Altair</code></li>
<li><code>Graphviz</code></li>
<li><code>Plotly</code>
-Of course, <code>Plotly Express</code> is OK!</li>
<li><code>Bokeh</code></li>
</ul>
<p><code>Plotly</code> can create web applications even in very small cases.</p>
<h1 id="test-note">Test note</h1>
<h2 id="install">Install</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pip install streamlit
</code></pre></div><h2 id="launch-demo-page">Launch demo page</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ streamlit hello
</code></pre></div><p>The demo page will be launched at <code>http://localhost:8501/</code>.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/200775/d89c1caf-5fb4-dfc1-c727-97716589d88b.png" alt="image.png"></p>
<h2 id="write-a-script">write a script</h2>
<p>Write a sample script <code>qiita.py</code> that plots the <code>Plotly Express</code> data. It&rsquo;s pretty simple.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-qiita.py" data-lang="qiita.py"><span style="color:#f92672">import</span> streamlit <span style="color:#f92672">as</span> st
<span style="color:#f92672">import</span> plotly.express <span style="color:#f92672">as</span> px
<span style="color:#f92672">import</span> plotly.io <span style="color:#f92672">as</span> pio

<span style="color:#75715e"># data</span>
data <span style="color:#f92672">=</span> px<span style="color:#f92672">.</span>data<span style="color:#f92672">.</span>iris()

<span style="color:#75715e"># sidemenu</span>
st<span style="color:#f92672">.</span>sidebar<span style="color:#f92672">.</span>markdown(
    <span style="color:#e6db74">&#34;# Qiita sample&#34;</span>
)
template <span style="color:#f92672">=</span> st<span style="color:#f92672">.</span>sidebar<span style="color:#f92672">.</span>selectbox(
    <span style="color:#e6db74">&#34;Template&#34;</span>, list(pio<span style="color:#f92672">.</span>templates<span style="color:#f92672">.</span>keys())
)

<span style="color:#75715e"># body</span>
st<span style="color:#f92672">.</span>write(
    px<span style="color:#f92672">.</span>scatter(data, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sepal_width&#34;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sepal_length&#34;</span>, template<span style="color:#f92672">=</span>template)
)
</code></pre></div><p>on the directory where <code>qiita.py</code> is located</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ streamlit run qiita.py
</code></pre></div><p>When you execute, the application will start up at <code>http://localhost:8501/</code>.</p>
<p><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/200775/740d42cd-475a-98ef-93a9-51d474134c09.png" alt="image.png"></p>
<p>If you write in <code>Dash</code>, I think that the HTML component will be rugged, and the code amount will be roughly doubled.</p>
<h1 id="tips">Tips</h1>
<p>We will update from time to time.</p>
<h2 id="if-you-really-want-to-modify-the-style">If you really want to modify the style</h2>
<p>Create a markdown component with <code>st.markdown</code> and write the <code>&lt;style&gt;</code> tag directly while giving <code>true</code> to the <code>unsafe_allow_html</code> parameter.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">st<span style="color:#f92672">.</span>markdown(
    <span style="color:#e6db74">&#34;&lt;style&gt;h1{color: red}&lt;/style&gt;&#34;</span>,
    unsafe_allow_html<span style="color:#f92672">=</span>True
)
</code></pre></div><p>It is black magic code because there is no styling in <code>Streamlit</code>, but it seems that there is only this even if you check the forum page of the main body,</p>
<h2 id="remote-resource-streamlit-run">Remote resource <code>streamlit run</code></h2>
<p>For example, if you want to quickly execute the source code posted to GitHub, <code>Streamlit</code> can be executed as follows without a local clone.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ streamlit run https://raw.githubusercontent.com/prs-watch/streamlit-sample/master/sample.py
</code></pre></div><p>The sample repository illustrated above is <a href="https://github.com/prs-watch/streamlit-sample">here</a>.</p>
<p>#Summary</p>
<p>The cost of design decisions can be cut down sharply, so you can create web applications quickly with less code. The design provided is simple and I like it.
<code>Dash</code> has some good points about <code>Dash</code>, and <code>Streamlit</code> itself has not been released as a major version, but it is quite useful if you want to make applications easily.</p>
<p>It&rsquo;s highly recommended, so if you want to make a dashboard for example, why not try writing it once as a test?</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
