<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.72.0" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://memotut.com/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://memotut.com/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://memotut.com/favicon-16x16.png">

  
  <link rel="manifest" href="https://memotut.com/site.webmanifest">

  
  <link rel="mask-icon" href="https://memotut.com/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://memotut.com/css/bootstrap.min.css" />

  
  <title>Can be used by competitive professionals! Python standard library | Memo Tut</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Can be used by competitive professionals! Python standard library</h1>
<p>
  <small class="text-secondary">
  
  
  Dec 21, 2019
  </small>
  

<small><code><a href="https://memotut.com/tags/python">Python</a></code></small>


<small><code><a href="https://memotut.com/tags/python3"> Python3</a></code></small>


<small><code><a href="https://memotut.com/tags/competitive-programming"> competitive programming</a></code></small>

</p>
<pre><code>#Introduction
</code></pre>
<ul>
<li>Introducing the Python standard library that can be used in competitive programming.</li>
<li>It also contains AtCoder problems and code solved using the Python standard library.</li>
<li>Python3 version on AtCoder is 3.4.3.</li>
<li>I will not explain the problem.</li>
</ul>
<p>#Standard library</p>
<h2 id="bisecthttpsdocspythonorgja3librarybisecthtml"><a href="https://docs.python.org/ja/3/library/bisect.html">bisect</a></h2>
<p>** Sequence bisection algorithm **</p>
<p><a href="https://docs.python.org/ja/3/library/bisect.html#bisect.bisect_left">bisect_left(a, x, lo=0, hi=len(a))</a></p>
<p>Returns the position where $x$ can be inserted into $a$ for the sorted list $a$. If $a$ contains $x$, the insertion point is before (left) any existing $x$ value.</p>
<p><a href="https://docs.python.org/ja/3/library/bisect.html#bisect.bisect_right">bisect_right(a, x, lo=0, hi=len(a))</a>
Similar to bisect_left(), but if $a$ contains $x$, the insertion point is after (right) any existing $x$ value.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> bisect <span style="color:#f92672">import</span> bisect_left, bisect_right

a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>]
<span style="color:#66d9ef">print</span>(bisect_left(a, <span style="color:#ae81ff">2</span>)) <span style="color:#75715e"># -&gt; 1</span>
<span style="color:#66d9ef">print</span>(bisect_right(a, <span style="color:#ae81ff">2</span>)) <span style="color:#75715e"># -&gt; 4</span>
</code></pre></div><p><strong>Problem example</strong></p>
<ul>
<li><a href="https://atcoder.jp/contests/bitflyer2018-qual/tasks/bitflyer2018_qual_c">codeFlyer C</a></li>
<li><a href="https://atcoder.jp/contests/bitflyer2018-qual/submissions/9030476">Code</a></li>
</ul>
<h2 id="heapqhttpsdocspythonorgja3libraryheapqhtml"><a href="https://docs.python.org/ja/3/library/heapq.html">heapq</a></h2>
<p><strong>Heap queue algorithm/Priority queue algorithm</strong></p>
<p><a href="https://docs.python.org/ja/3/library/heapq.html#heapq.heappush">heappush(heap, item)</a></p>
<p>Push item to heap.</p>
<p><a href="https://docs.python.org/ja/3/library/heapq.html#heapq.heappop">heappop(heap)</a></p>
<p>Returns the smallest element from heap.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> heapq <span style="color:#f92672">import</span> heappop, heappush

a <span style="color:#f92672">=</span> []
heappush(a, (<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;x&#39;</span>))
heappush(a, (<span style="color:#ae81ff">5</span>,<span style="color:#e6db74">&#39;y&#39;</span>))
heappush(a, (<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;z&#39;</span>))

<span style="color:#66d9ef">print</span>(a) <span style="color:#75715e"># -&gt; [(1,&#39;z&#39;), (10,&#39;x&#39;), (5,&#39;y&#39;)]</span>
<span style="color:#66d9ef">print</span>(heappop(a)) <span style="color:#75715e"># -&gt; (1,&#39;z&#39;)</span>
<span style="color:#66d9ef">print</span>(heappop(a)) <span style="color:#75715e"># -&gt; (5,&#39;y&#39;)</span>
<span style="color:#66d9ef">print</span>(heappop(a)) <span style="color:#75715e"># -&gt; (10,&#39;x&#39;)</span>
</code></pre></div><h2 id="collectionshttpsdocspythonorgja3librarycollectionshtml"><a href="https://docs.python.org/ja/3/library/collections.html">collections</a></h2>
<p><strong>Container data type</strong></p>
<p><a href="https://docs.python.org/ja/3/library/collections.html?highlight=collections#collections.deque">deque</a>
A list-like container that can perform append and pop at both ends at high speed. appendleft() and poplift() are faster than the equivalent operations on list.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> deque

q <span style="color:#f92672">=</span> deque([<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>])
<span style="color:#66d9ef">print</span>(q<span style="color:#f92672">.</span>popleft()) <span style="color:#75715e"># -&gt; a</span>
<span style="color:#66d9ef">print</span>(q) <span style="color:#75715e"># -&gt; deque([&#39;b&#39;,&#39;b&#39;,&#39;b&#39;,&#39;d&#39;,&#39;d&#39;])</span>
q<span style="color:#f92672">.</span>appendleft(<span style="color:#e6db74">&#39;z&#39;</span>)
<span style="color:#66d9ef">print</span>(q) <span style="color:#75715e"># -&gt; deque([&#39;z&#39;,&#39;b&#39;,&#39;b&#39;,&#39;b&#39;,&#39;d&#39;,&#39;d&#39;])</span>
</code></pre></div><p><a href="https://docs.python.org/ja/3/library/collections.html?highlight=collections#collections.Counter">Counter</a></p>
<p>A subclass of dictionary that counts hashable objects.
To count the number of one element, you can use the count() method of list or tuple, but it is convenient when counting the number of all elements.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> Counter

l <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>]
t <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,)
<span style="color:#66d9ef">print</span>(l<span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#39;b&#39;</span>)) <span style="color:#75715e"># -&gt; 3</span>
<span style="color:#66d9ef">print</span>(t<span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#39;b&#39;</span>)) <span style="color:#75715e"># -&gt; 3</span>
c <span style="color:#f92672">=</span> Counter(l)
<span style="color:#66d9ef">print</span>(c) <span style="color:#75715e"># -&gt; Counter({&#39;b&#39;: 3,&#39;d&#39;: 2,&#39;a&#39;: 1})</span>
<span style="color:#75715e"># Return all elements in descending order of count</span>
<span style="color:#66d9ef">print</span>(c<span style="color:#f92672">.</span>most_common()) <span style="color:#75715e"># -&gt; [(&#39;b&#39;, 3), (&#39;d&#39;, 2), (&#39;a&#39;, 1)]</span>
</code></pre></div><p><a href="https://atcoder.jp/contests/abc008/tasks/abc008_2">ABC008 B vote</a>
<a href="https://atcoder.jp/contests/abc008/submissions/9031576">Code</a></p>
<h2 id="itertoolshttpsdocspythonorgja3libraryitertoolshtml"><a href="https://docs.python.org/ja/3/library/itertools.html">itertools</a></h2>
<p><strong>Iterator generation function for efficient loop execution</strong></p>
<p><a href="https://docs.python.org/ja/3/library/itertools.html#itertools.product">product(*iterables, repeat)</a></p>
<p>Returns the Cartesian product of multiple iterables.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> product

l <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>]
m <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;x&#39;</span>,<span style="color:#e6db74">&#39;y&#39;</span>]
<span style="color:#66d9ef">print</span>(list(product(l, m)))
<span style="color:#75715e"># -&gt; [(&#39;a&#39;,&#39;x&#39;), (&#39;a&#39;,&#39;y&#39;), (&#39;b&#39;,&#39;x&#39;), (&#39;b&#39;,&#39;y&#39;), (&#39;c&#39;, &#39; x&#39;), (&#39;c&#39;,&#39;y&#39;)]</span>
</code></pre></div><p><a href="https://docs.python.org/ja/3/library/itertools.html#itertools.permutations">permutations(iterable, r)</a></p>
<p>Returns a permutation of length r from the elements of iterable.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> permutations

l <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>]
<span style="color:#66d9ef">print</span>(list(permutations(l, <span style="color:#ae81ff">3</span>)))
<span style="color:#75715e"># -&gt; [(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;), (&#39;a&#39;,&#39;c&#39;,&#39;b&#39;), (&#39;b&#39;,&#39;a&#39;,&#39;c&#39;), (&#39;b&#39; ,&#39;c&#39;,&#39;a&#39;), (&#39;c&#39;,&#39;a&#39;,&#39;b&#39;), (&#39;c&#39;,&#39;b&#39;,&#39;a&#39;)]</span>
<span style="color:#66d9ef">print</span>(list(permutations(l, <span style="color:#ae81ff">2</span>)))
<span style="color:#75715e"># -&gt; [(&#39;a&#39;,&#39;b&#39;), (&#39;a&#39;,&#39;c&#39;), (&#39;b&#39;,&#39;a&#39;), (&#39;b&#39;,&#39;c&#39;), (&#39;c&#39;, &#39; a&#39;), (&#39;c&#39;,&#39;b&#39;)]</span>

</code></pre></div><p><a href="https://docs.python.org/ja/3/library/itertools.html#itertools.combinations">combinations(iterable, r)</a>
Returns a combination of r selected iterable elements.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> combinations

l <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;e&#39;</span>]
<span style="color:#66d9ef">print</span>(list(combinations(l, <span style="color:#ae81ff">2</span>)))
<span style="color:#75715e"># -&gt; [(&#39;a&#39;,&#39;b&#39;), (&#39;a&#39;,&#39;c&#39;), (&#39;a&#39;,&#39;d&#39;), (&#39;a&#39;,&#39;e&#39;), (&#39;b&#39;, &#39; c&#39;), (&#39;b&#39;,&#39;d&#39;), (&#39;b&#39;,&#39;e&#39;), (&#39;c&#39;,&#39;d&#39;), (&#39;c&#39;,&#39;e&#39;), (&#39;d&#39;, &#39; e&#39;)]</span>
</code></pre></div><p><strong>Problem example</strong>
<a href="https://atcoder.jp/contests/abc123/tasks/abc123_a">ABC123 A Five Antennas</a>
<a href="https://atcoder.jp/contests/abc123/submissions/4845018">Code</a></p>
<h2 id="functoolshttpsdocspythonorgja3libraryfunctoolshtml"><a href="https://docs.python.org/ja/3/library/functools.html">functools</a></h2>
<p>** Manipulating higher-order functions and callable objects **</p>
<p><a href="https://docs.python.org/ja/3/library/functools.html#functools.lru_cache">lru_cache(maxsize, typed)</a>
Decorator that wraps a function in a callable object for memoization. Save up to maxsize times recent calls. It can be used with memoization recursion.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> lru_cache
 
<span style="color:#a6e22e">@lru_cache</span>(maxsize<span style="color:#f92672">=</span>None)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fib</span>(n):
<span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span>:
<span style="color:#66d9ef">return</span> n
<span style="color:#66d9ef">return</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
 
<span style="color:#66d9ef">print</span>(fib(<span style="color:#ae81ff">100</span>)) <span style="color:#75715e"># -&gt; 354224848179261915075</span>
<span style="color:#66d9ef">print</span>(fib<span style="color:#f92672">.</span>cache_info()) <span style="color:#75715e"># -&gt; CacheInfo(hits=98, misses=101, maxsize=None, currsize=101)</span>

</code></pre></div><p><a href="https://docs.python.org/ja/3/library/functools.html#functools.reduce">reduce(function, iterable[, initializer])</a></p>
<p>The iterable elements are cumulatively applied from the left to the function that takes two arguments, and the result is returned.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> reduce

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a, b):
<span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> b

l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
Equivalent to <span style="color:#75715e"># ((((1 * 2) * 3) * 4) * 5)</span>
<span style="color:#66d9ef">print</span>(reduce(f, l)) <span style="color:#75715e"># -&gt; 120</span>
</code></pre></div><h2 id="fractionshttpsdocspythonorgja3libraryfractionshtml"><a href="https://docs.python.org/ja/3/library/fractions.html">fractions</a></h2>
<p>** Rational number **<a href="https://docs.python.org/ja/3/library/fractions.html#fractions.gcd">gcd(a, b)</a>
Returns the greatest common divisor of the integers $a$ and $b$.</p>
<p>If you want to find the least common multiple, implement lcm as follows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> fractions <span style="color:#f92672">import</span> gcd

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lcm</span>(a, b):
    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">*</span>b <span style="color:#f92672">//</span> gcd(a, b)
</code></pre></div><p>*In Python3.5, <a href="https://docs.python.org/ja/3/library/math.html#math.gcd">math.gcd()</a>wasadded,andfractions.gcd() is deprecated. became.</p>
<p><strong>Problem example</strong>
<a href="https://atcoder.jp/contests/abc070/tasks/abc070_c">ABC070 C Multiple Clocks</a>
<a href="https://atcoder.jp/contests/abc070/submissions/9021243">Code</a></p>
<h1 id="extra-edition">Extra edition</h1>
<p>Introducing the built-in functions that can be used in competition professionals.</p>
<h2 id="powhttpsdocspythonorgja3libraryfunctionshtmlpow"><a href="https://docs.python.org/ja/3/library/functions.html#pow">pow()</a></h2>
<p><strong>Exponentiation</strong></p>
<p>Returns the remainder of $ z $ for $ x^y $ or $ x^y $ in $ pow(x, y[, z]) $.
By using this, the inverse element of $ a $ in $ mod $ $ p $ can be found by $ pow(a, p-2, p) $.</p>
<p>It can be used when you want to find the remainder when you divide $n$ from $k$ by the number of combinations you choose.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">nCk</span>(n, k, p):
    ret <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(k):
        ret <span style="color:#f92672">=</span> ret <span style="color:#f92672">*</span> (n<span style="color:#f92672">-</span>i) <span style="color:#f92672">*</span> pow(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, p<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, p) <span style="color:#f92672">%</span>p
    <span style="color:#66d9ef">return</span> ret
</code></pre></div><p><strong>Problem example</strong>
<a href="https://atcoder.jp/contests/abc034/tasks/abc034_c">ABC034 C route</a>
<a href="https://atcoder.jp/contests/abc034/submissions/9021395">Code</a></p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-169005401-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
